(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Zv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mf={exports:{}},al={},gf={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function FI(){if(jy)return Ne;jy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function P(M,G,me){this.props=M,this.context=G,this.refs=b,this.updater=me||x}P.prototype.isReactComponent={},P.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function J(){}J.prototype=P.prototype;function X(M,G,me){this.props=M,this.context=G,this.refs=b,this.updater=me||x}var K=X.prototype=new J;K.constructor=X,A(K,P.prototype),K.isPureReactComponent=!0;var ie=Array.isArray,pe=Object.prototype.hasOwnProperty,ne={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(M,G,me){var Ae,Pe={},be=null,je=null;if(G!=null)for(Ae in G.ref!==void 0&&(je=G.ref),G.key!==void 0&&(be=""+G.key),G)pe.call(G,Ae)&&!N.hasOwnProperty(Ae)&&(Pe[Ae]=G[Ae]);var Be=arguments.length-2;if(Be===1)Pe.children=me;else if(1<Be){for(var Ke=Array(Be),Ct=0;Ct<Be;Ct++)Ke[Ct]=arguments[Ct+2];Pe.children=Ke}if(M&&M.defaultProps)for(Ae in Be=M.defaultProps,Be)Pe[Ae]===void 0&&(Pe[Ae]=Be[Ae]);return{$$typeof:n,type:M,key:be,ref:je,props:Pe,_owner:ne.current}}function C(M,G){return{$$typeof:n,type:M.type,key:G,ref:M.ref,props:M.props,_owner:M._owner}}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function V(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return G[me]})}var U=/\/+/g;function k(M,G){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):G.toString(36)}function $e(M,G,me,Ae,Pe){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var je=!1;if(M===null)je=!0;else switch(be){case"string":case"number":je=!0;break;case"object":switch(M.$$typeof){case n:case e:je=!0}}if(je)return je=M,Pe=Pe(je),M=Ae===""?"."+k(je,0):Ae,ie(Pe)?(me="",M!=null&&(me=M.replace(U,"$&/")+"/"),$e(Pe,G,me,"",function(Ct){return Ct})):Pe!=null&&(O(Pe)&&(Pe=C(Pe,me+(!Pe.key||je&&je.key===Pe.key?"":(""+Pe.key).replace(U,"$&/")+"/")+M)),G.push(Pe)),1;if(je=0,Ae=Ae===""?".":Ae+":",ie(M))for(var Be=0;Be<M.length;Be++){be=M[Be];var Ke=Ae+k(be,Be);je+=$e(be,G,me,Ke,Pe)}else if(Ke=T(M),typeof Ke=="function")for(M=Ke.call(M),Be=0;!(be=M.next()).done;)be=be.value,Ke=Ae+k(be,Be++),je+=$e(be,G,me,Ke,Pe);else if(be==="object")throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return je}function Et(M,G,me){if(M==null)return M;var Ae=[],Pe=0;return $e(M,Ae,"","",function(be){return G.call(me,be,Pe++)}),Ae}function qe(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var Ue={current:null},se={transition:null},ye={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:se,ReactCurrentOwner:ne};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Et,forEach:function(M,G,me){Et(M,function(){G.apply(this,arguments)},me)},count:function(M){var G=0;return Et(M,function(){G++}),G},toArray:function(M){return Et(M,function(G){return G})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ne.Component=P,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=X,Ne.StrictMode=r,Ne.Suspense=p,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ne.act=le,Ne.cloneElement=function(M,G,me){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ae=A({},M.props),Pe=M.key,be=M.ref,je=M._owner;if(G!=null){if(G.ref!==void 0&&(be=G.ref,je=ne.current),G.key!==void 0&&(Pe=""+G.key),M.type&&M.type.defaultProps)var Be=M.type.defaultProps;for(Ke in G)pe.call(G,Ke)&&!N.hasOwnProperty(Ke)&&(Ae[Ke]=G[Ke]===void 0&&Be!==void 0?Be[Ke]:G[Ke])}var Ke=arguments.length-2;if(Ke===1)Ae.children=me;else if(1<Ke){Be=Array(Ke);for(var Ct=0;Ct<Ke;Ct++)Be[Ct]=arguments[Ct+2];Ae.children=Be}return{$$typeof:n,type:M.type,key:Pe,ref:be,props:Ae,_owner:je}},Ne.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},Ne.createElement=S,Ne.createFactory=function(M){var G=S.bind(null,M);return G.type=M,G},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:d,render:M}},Ne.isValidElement=O,Ne.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:qe}},Ne.memo=function(M,G){return{$$typeof:g,type:M,compare:G===void 0?null:G}},Ne.startTransition=function(M){var G=se.transition;se.transition={};try{M()}finally{se.transition=G}},Ne.unstable_act=le,Ne.useCallback=function(M,G){return Ue.current.useCallback(M,G)},Ne.useContext=function(M){return Ue.current.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M){return Ue.current.useDeferredValue(M)},Ne.useEffect=function(M,G){return Ue.current.useEffect(M,G)},Ne.useId=function(){return Ue.current.useId()},Ne.useImperativeHandle=function(M,G,me){return Ue.current.useImperativeHandle(M,G,me)},Ne.useInsertionEffect=function(M,G){return Ue.current.useInsertionEffect(M,G)},Ne.useLayoutEffect=function(M,G){return Ue.current.useLayoutEffect(M,G)},Ne.useMemo=function(M,G){return Ue.current.useMemo(M,G)},Ne.useReducer=function(M,G,me){return Ue.current.useReducer(M,G,me)},Ne.useRef=function(M){return Ue.current.useRef(M)},Ne.useState=function(M){return Ue.current.useState(M)},Ne.useSyncExternalStore=function(M,G,me){return Ue.current.useSyncExternalStore(M,G,me)},Ne.useTransition=function(){return Ue.current.useTransition()},Ne.version="18.3.1",Ne}var By;function Tp(){return By||(By=1,gf.exports=FI()),gf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function UI(){if(zy)return al;zy=1;var n=Tp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,p,g){var _,E={},T=null,x=null;g!==void 0&&(T=""+g),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(x=p.ref);for(_ in p)r.call(p,_)&&!a.hasOwnProperty(_)&&(E[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:d,key:T,ref:x,props:E,_owner:o.current}}return al.Fragment=t,al.jsx=u,al.jsxs=u,al}var $y;function jI(){return $y||($y=1,mf.exports=UI()),mf.exports}var F=jI(),H=Tp();const BI=Zv(H);var yc={},yf={exports:{}},ln={},_f={exports:{}},vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function zI(){return Hy||(Hy=1,(function(n){function e(se,ye){var le=se.length;se.push(ye);e:for(;0<le;){var M=le-1>>>1,G=se[M];if(0<o(G,ye))se[M]=ye,se[le]=G,le=M;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ye=se[0],le=se.pop();if(le!==ye){se[0]=le;e:for(var M=0,G=se.length,me=G>>>1;M<me;){var Ae=2*(M+1)-1,Pe=se[Ae],be=Ae+1,je=se[be];if(0>o(Pe,le))be<G&&0>o(je,Pe)?(se[M]=je,se[be]=le,M=be):(se[M]=Pe,se[Ae]=le,M=Ae);else if(be<G&&0>o(je,le))se[M]=je,se[be]=le,M=be;else break e}}return ye}function o(se,ye){var le=se.sortIndex-ye.sortIndex;return le!==0?le:se.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var p=[],g=[],_=1,E=null,T=3,x=!1,A=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(se){for(var ye=t(g);ye!==null;){if(ye.callback===null)r(g);else if(ye.startTime<=se)r(g),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(g)}}function ie(se){if(b=!1,K(se),!A)if(t(p)!==null)A=!0,qe(pe);else{var ye=t(g);ye!==null&&Ue(ie,ye.startTime-se)}}function pe(se,ye){A=!1,b&&(b=!1,J(S),S=-1),x=!0;var le=T;try{for(K(ye),E=t(p);E!==null&&(!(E.expirationTime>ye)||se&&!V());){var M=E.callback;if(typeof M=="function"){E.callback=null,T=E.priorityLevel;var G=M(E.expirationTime<=ye);ye=n.unstable_now(),typeof G=="function"?E.callback=G:E===t(p)&&r(p),K(ye)}else r(p);E=t(p)}if(E!==null)var me=!0;else{var Ae=t(g);Ae!==null&&Ue(ie,Ae.startTime-ye),me=!1}return me}finally{E=null,T=le,x=!1}}var ne=!1,N=null,S=-1,C=5,O=-1;function V(){return!(n.unstable_now()-O<C)}function U(){if(N!==null){var se=n.unstable_now();O=se;var ye=!0;try{ye=N(!0,se)}finally{ye?k():(ne=!1,N=null)}}else ne=!1}var k;if(typeof X=="function")k=function(){X(U)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Et=$e.port2;$e.port1.onmessage=U,k=function(){Et.postMessage(null)}}else k=function(){P(U,0)};function qe(se){N=se,ne||(ne=!0,k())}function Ue(se,ye){S=P(function(){se(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){A||x||(A=!0,qe(pe))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(T){case 1:case 2:case 3:var ye=3;break;default:ye=T}var le=T;T=ye;try{return se()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ye){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=T;T=se;try{return ye()}finally{T=le}},n.unstable_scheduleCallback=function(se,ye,le){var M=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?M+le:M):le=M,se){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=le+G,se={id:_++,callback:ye,priorityLevel:se,startTime:le,expirationTime:G,sortIndex:-1},le>M?(se.sortIndex=le,e(g,se),t(p)===null&&se===t(g)&&(b?(J(S),S=-1):b=!0,Ue(ie,le-M))):(se.sortIndex=G,e(p,se),A||x||(A=!0,qe(pe))),se},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(se){var ye=T;return function(){var le=T;T=ye;try{return se.apply(this,arguments)}finally{T=le}}}})(vf)),vf}var qy;function $I(){return qy||(qy=1,_f.exports=zI()),_f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function HI(){if(Wy)return ln;Wy=1;var n=Tp(),e=$I();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function T(i){return p.call(E,i)?!0:p.call(_,i)?!1:g.test(i)?E[i]=!0:(_[i]=!0,!1)}function x(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,s,l,h){if(s===null||typeof s>"u"||x(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(i,s,l,h,f,y,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=w}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];P[s]=new b(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function X(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(J,X);P[s]=new b(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(J,X);P[s]=new b(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(J,X);P[s]=new b(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function K(i,s,l,h){var f=P.hasOwnProperty(s)?P[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(A(s,l,f,h)&&(l=null),h||f===null?T(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):f.mustUseProperty?i[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?i.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),ne=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),Et=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),se=Symbol.iterator;function ye(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,M;function G(i){if(M===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+i}var me=!1;function Ae(i,s){if(!i||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(i,[],s)}else{try{s.call()}catch($){h=$}i.call(s.prototype)}else{try{throw Error()}catch($){h=$}i()}}catch($){if($&&h&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),y=h.stack.split(`
`),w=f.length-1,R=y.length-1;1<=w&&0<=R&&f[w]!==y[R];)R--;for(;1<=w&&0<=R;w--,R--)if(f[w]!==y[R]){if(w!==1||R!==1)do if(w--,R--,0>R||f[w]!==y[R]){var D=`
`+f[w].replace(" at new "," at ");return i.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",i.displayName)),D}while(1<=w&&0<=R);break}}}finally{me=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?G(i):""}function Pe(i){switch(i.tag){case 5:return G(i.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return i=Ae(i.type,!1),i;case 11:return i=Ae(i.type.render,!1),i;case 1:return i=Ae(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case ne:return"Portal";case C:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case $e:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case U:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Et:return s=i.displayName||null,s!==null?s:be(i.type)||"Memo";case qe:s=i._payload,i=i._init;try{return be(i(s))}catch{}}return null}function je(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ke(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ct(i){var s=Ke(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,y.call(this,w)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Pr(i){i._valueTracker||(i._valueTracker=Ct(i))}function Gs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=Ke(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Xi(i,s){var l=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Qs(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Be(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function fa(i,s){s=s.checked,s!=null&&K(i,"checked",s,!1)}function pa(i,s){fa(i,s);var l=Be(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Js(i,s.type,l):s.hasOwnProperty("defaultValue")&&Js(i,s.type,Be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function nu(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Js(i,s,l){(s!=="number"||ni(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var kr=Array.isArray;function Nr(i,s,l,h){if(i=i.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<i.length;l++)f=s.hasOwnProperty("$"+i[l].value),i[l].selected!==f&&(i[l].selected=f),f&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Be(l),s=null,f=0;f<i.length;f++){if(i[f].value===l){i[f].selected=!0,h&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function ma(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Xs(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(kr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Be(l)}}function Ys(i,s){var l=Be(s.value),h=Be(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function ga(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function wt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?wt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var xr,ya=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,f)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=xr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ri(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zi=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(i){Zi.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Yi[s]=Yi[i]})});function _a(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Yi.hasOwnProperty(i)&&Yi[i]?(""+s).trim():s+"px"}function va(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=_a(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,f):i[l]=f}}var Ea=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wa(i,s){if(s){if(Ea[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ta(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var es=null;function Zs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var eo=null,In=null,rr=null;function to(i){if(i=Wa(i)){if(typeof eo!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Ou(s),eo(i.stateNode,i.type,s))}}function ir(i){In?rr?rr.push(i):rr=[i]:In=i}function Ia(){if(In){var i=In,s=rr;if(rr=In=null,to(i),s)for(i=0;i<s.length;i++)to(s[i])}}function ts(i,s){return i(s)}function Sa(){}var Or=!1;function Ra(i,s,l){if(Or)return i(s,l);Or=!0;try{return ts(i,s,l)}finally{Or=!1,(In!==null||rr!==null)&&(Sa(),Ia())}}function ct(i,s){var l=i.stateNode;if(l===null)return null;var h=Ou(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var no=!1;if(d)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){no=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{no=!1}function ns(i,s,l,h,f,y,w,R,D){var $=Array.prototype.slice.call(arguments,3);try{s.apply(l,$)}catch(ee){this.onError(ee)}}var rs=!1,ro=null,Mn=!1,Aa=null,zh={onError:function(i){rs=!0,ro=i}};function io(i,s,l,h,f,y,w,R,D){rs=!1,ro=null,ns.apply(zh,arguments)}function ru(i,s,l,h,f,y,w,R,D){if(io.apply(this,arguments),rs){if(rs){var $=ro;rs=!1,ro=null}else throw Error(t(198));Mn||(Mn=!0,Aa=$)}}function Fn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function is(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Un(i){if(Fn(i)!==i)throw Error(t(188))}function iu(i){var s=i.alternate;if(!s){if(s=Fn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var f=l.return;if(f===null)break;var y=f.alternate;if(y===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===l)return Un(f),i;if(y===h)return Un(f),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=y;else{for(var w=!1,R=f.child;R;){if(R===l){w=!0,l=f,h=y;break}if(R===h){w=!0,h=f,l=y;break}R=R.sibling}if(!w){for(R=y.child;R;){if(R===l){w=!0,l=y,h=f;break}if(R===h){w=!0,h=y,l=f;break}R=R.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Ca(i){return i=iu(i),i!==null?so(i):null}function so(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=so(i);if(s!==null)return s;i=i.sibling}return null}var oo=e.unstable_scheduleCallback,Pa=e.unstable_cancelCallback,su=e.unstable_shouldYield,$h=e.unstable_requestPaint,Ge=e.unstable_now,ou=e.unstable_getCurrentPriorityLevel,ss=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,ka=e.unstable_LowPriority,au=e.unstable_IdlePriority,os=null,fn=null;function lu(i){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(os,i,void 0,(i.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:cu,Na=Math.log,uu=Math.LN2;function cu(i){return i>>>=0,i===0?32:31-(Na(i)/uu|0)|0}var ao=64,lo=4194304;function si(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function as(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,f=i.suspendedLanes,y=i.pingedLanes,w=l&268435455;if(w!==0){var R=w&~f;R!==0?h=si(R):(y&=w,y!==0&&(h=si(y)))}else w=l&~f,w!==0?h=si(w):y!==0&&(h=si(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,y=s&-s,f>=y||f===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-Qt(s),f=1<<l,h|=i[l],s&=~f;return h}function Hh(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dr(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,f=i.expirationTimes,y=i.pendingLanes;0<y;){var w=31-Qt(y),R=1<<w,D=f[w];D===-1?((R&l)===0||(R&h)!==0)&&(f[w]=Hh(R,s)):D<=s&&(i.expiredLanes|=R),y&=~R}}function pn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ls(){var i=ao;return ao<<=1,(ao&4194240)===0&&(ao=64),i}function oi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ai(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Qt(s),i[s]=l}function We(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var f=31-Qt(l),y=1<<f;s[f]=0,h[f]=-1,i[f]=-1,l&=~y}}function li(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Qt(l),f=1<<h;f&s|i[h]&s&&(i[h]|=s),l&=~f}}var De=0;function ui(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var hu,uo,du,fu,pu,xa=!1,sr=[],Dt=null,jn=null,Bn=null,ci=new Map,Rn=new Map,or=[],qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(i,s){switch(i){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":ci.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(s.pointerId)}}function en(i,s,l,h,f,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[f]},s!==null&&(s=Wa(s),s!==null&&uo(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function Wh(i,s,l,h,f){switch(s){case"focusin":return Dt=en(Dt,i,s,l,h,f),!0;case"dragenter":return jn=en(jn,i,s,l,h,f),!0;case"mouseover":return Bn=en(Bn,i,s,l,h,f),!0;case"pointerover":var y=f.pointerId;return ci.set(y,en(ci.get(y)||null,i,s,l,h,f)),!0;case"gotpointercapture":return y=f.pointerId,Rn.set(y,en(Rn.get(y)||null,i,s,l,h,f)),!0}return!1}function gu(i){var s=fs(i.target);if(s!==null){var l=Fn(s);if(l!==null){if(s=l.tag,s===13){if(s=is(l),s!==null){i.blockedOn=s,pu(i.priority,function(){du(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function br(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=co(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);es=h,l.target.dispatchEvent(h),es=null}else return s=Wa(l),s!==null&&uo(s),i.blockedOn=l,!1;s.shift()}return!0}function us(i,s,l){br(i)&&l.delete(s)}function yu(){xa=!1,Dt!==null&&br(Dt)&&(Dt=null),jn!==null&&br(jn)&&(jn=null),Bn!==null&&br(Bn)&&(Bn=null),ci.forEach(us),Rn.forEach(us)}function zn(i,s){i.blockedOn===s&&(i.blockedOn=null,xa||(xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yu)))}function $n(i){function s(f){return zn(f,i)}if(0<sr.length){zn(sr[0],i);for(var l=1;l<sr.length;l++){var h=sr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Dt!==null&&zn(Dt,i),jn!==null&&zn(jn,i),Bn!==null&&zn(Bn,i),ci.forEach(s),Rn.forEach(s),l=0;l<or.length;l++)h=or[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<or.length&&(l=or[0],l.blockedOn===null);)gu(l),l.blockedOn===null&&or.shift()}var Lr=ie.ReactCurrentBatchConfig,hi=!0;function et(i,s,l,h){var f=De,y=Lr.transition;Lr.transition=null;try{De=1,Oa(i,s,l,h)}finally{De=f,Lr.transition=y}}function Kh(i,s,l,h){var f=De,y=Lr.transition;Lr.transition=null;try{De=4,Oa(i,s,l,h)}finally{De=f,Lr.transition=y}}function Oa(i,s,l,h){if(hi){var f=co(i,s,l,h);if(f===null)id(i,s,h,cs,l),mu(i,h);else if(Wh(f,i,s,l,h))h.stopPropagation();else if(mu(i,h),s&4&&-1<qh.indexOf(i)){for(;f!==null;){var y=Wa(f);if(y!==null&&hu(y),y=co(i,s,l,h),y===null&&id(i,s,h,cs,l),y===f)break;f=y}f!==null&&h.stopPropagation()}else id(i,s,h,null,l)}}var cs=null;function co(i,s,l,h){if(cs=null,i=Zs(h),i=fs(i),i!==null)if(s=Fn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=is(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return cs=i,null}function Da(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ou()){case ss:return 1;case ii:return 4;case Sn:case ka:return 16;case au:return 536870912;default:return 16}default:return 16}}var mn=null,ho=null,tn=null;function ba(){if(tn)return tn;var i,s=ho,l=s.length,h,f="value"in mn?mn.value:mn.textContent,y=f.length;for(i=0;i<l&&s[i]===f[i];i++);var w=l-i;for(h=1;h<=w&&s[l-h]===f[y-h];h++);return tn=f.slice(i,1<h?1-h:void 0)}function fo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ar(){return!0}function La(){return!1}function bt(i){function s(l,h,f,y,w){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ar:La,this.isPropagationStopped=La,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),s}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=bt(Hn),lr=le({},Hn,{view:0,detail:0}),Gh=bt(lr),mo,Vr,di,hs=le({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==di&&(di&&i.type==="mousemove"?(mo=i.screenX-di.screenX,Vr=i.screenY-di.screenY):Vr=mo=0,di=i),mo)},movementY:function(i){return"movementY"in i?i.movementY:Vr}}),go=bt(hs),Va=le({},hs,{dataTransfer:0}),_u=bt(Va),yo=le({},lr,{relatedTarget:0}),_o=bt(yo),vu=le({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=bt(vu),Eu=le({},Hn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),wu=bt(Eu),Tu=le({},Hn,{data:0}),Ma=bt(Tu),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Iu[i])?!!s[i]:!1}function ur(){return Su}var c=le({},lr,{key:function(i){if(i.key){var s=vo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=fo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(i){return i.type==="keypress"?fo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),m=bt(c),v=le({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=bt(v),j=le({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),W=bt(j),oe=le({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=bt(oe),It=le({},hs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=bt(It),Pt=[9,13,27,32],mt=d&&"CompositionEvent"in window,An=null;d&&"documentMode"in document&&(An=document.documentMode);var gn=d&&"TextEvent"in window&&!An,ds=d&&(!mt||An&&8<An&&11>=An),Eo=" ",bm=!1;function Lm(i,s){switch(i){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var wo=!1;function L0(i,s){switch(i){case"compositionend":return Vm(s);case"keypress":return s.which!==32?null:(bm=!0,Eo);case"textInput":return i=s.data,i===Eo&&bm?null:i;default:return null}}function V0(i,s){if(wo)return i==="compositionend"||!mt&&Lm(i,s)?(i=ba(),tn=ho=mn=null,wo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ds&&s.locale!=="ko"?null:s.data;default:return null}}var M0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!M0[i.type]:s==="textarea"}function Fm(i,s,l,h){ir(h),s=ku(s,"onChange"),0<s.length&&(l=new po("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Fa=null,Ua=null;function F0(i){ng(i,0)}function Ru(i){var s=Ao(i);if(Gs(s))return i}function U0(i,s){if(i==="change")return s}var Um=!1;if(d){var Qh;if(d){var Jh="oninput"in document;if(!Jh){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),Jh=typeof jm.oninput=="function"}Qh=Jh}else Qh=!1;Um=Qh&&(!document.documentMode||9<document.documentMode)}function Bm(){Fa&&(Fa.detachEvent("onpropertychange",zm),Ua=Fa=null)}function zm(i){if(i.propertyName==="value"&&Ru(Ua)){var s=[];Fm(s,Ua,i,Zs(i)),Ra(F0,s)}}function j0(i,s,l){i==="focusin"?(Bm(),Fa=s,Ua=l,Fa.attachEvent("onpropertychange",zm)):i==="focusout"&&Bm()}function B0(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ru(Ua)}function z0(i,s){if(i==="click")return Ru(s)}function $0(i,s){if(i==="input"||i==="change")return Ru(s)}function H0(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var qn=typeof Object.is=="function"?Object.is:H0;function ja(i,s){if(qn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!qn(i[f],s[f]))return!1}return!0}function $m(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hm(i,s){var l=$m(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$m(l)}}function qm(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?qm(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Wm(){for(var i=window,s=ni();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ni(i.document)}return s}function Xh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function q0(i){var s=Wm(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&qm(l.ownerDocument.documentElement,l)){if(h!==null&&Xh(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var f=l.textContent.length,y=Math.min(h.start,f);h=h.end===void 0?y:Math.min(h.end,f),!i.extend&&y>h&&(f=h,h=y,y=f),f=Hm(l,y);var w=Hm(l,h);f&&w&&(i.rangeCount!==1||i.anchorNode!==f.node||i.anchorOffset!==f.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),i.removeAllRanges(),y>h?(i.addRange(s),i.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var W0=d&&"documentMode"in document&&11>=document.documentMode,To=null,Yh=null,Ba=null,Zh=!1;function Km(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zh||To==null||To!==ni(h)||(h=To,"selectionStart"in h&&Xh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ba&&ja(Ba,h)||(Ba=h,h=ku(Yh,"onSelect"),0<h.length&&(s=new po("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=To)))}function Au(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Io={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},ed={},Gm={};d&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Cu(i){if(ed[i])return ed[i];if(!Io[i])return i;var s=Io[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Gm)return ed[i]=s[l];return i}var Qm=Cu("animationend"),Jm=Cu("animationiteration"),Xm=Cu("animationstart"),Ym=Cu("transitionend"),Zm=new Map,eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(i,s){Zm.set(i,s),a(s,[i])}for(var td=0;td<eg.length;td++){var nd=eg[td],K0=nd.toLowerCase(),G0=nd[0].toUpperCase()+nd.slice(1);fi(K0,"on"+G0)}fi(Qm,"onAnimationEnd"),fi(Jm,"onAnimationIteration"),fi(Xm,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(Ym,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q0=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function tg(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,ru(h,s,void 0,i),i.currentTarget=null}function ng(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],f=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var w=h.length-1;0<=w;w--){var R=h[w],D=R.instance,$=R.currentTarget;if(R=R.listener,D!==y&&f.isPropagationStopped())break e;tg(f,R,$),y=D}else for(w=0;w<h.length;w++){if(R=h[w],D=R.instance,$=R.currentTarget,R=R.listener,D!==y&&f.isPropagationStopped())break e;tg(f,R,$),y=D}}}if(Mn)throw i=Aa,Mn=!1,Aa=null,i}function Xe(i,s){var l=s[cd];l===void 0&&(l=s[cd]=new Set);var h=i+"__bubble";l.has(h)||(rg(s,i,2,!1),l.add(h))}function rd(i,s,l){var h=0;s&&(h|=4),rg(l,i,h,s)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function $a(i){if(!i[Pu]){i[Pu]=!0,r.forEach(function(l){l!=="selectionchange"&&(Q0.has(l)||rd(l,!1,i),rd(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Pu]||(s[Pu]=!0,rd("selectionchange",!1,s))}}function rg(i,s,l,h){switch(Da(s)){case 1:var f=et;break;case 4:f=Kh;break;default:f=Oa}l=f.bind(null,s,l,i),f=void 0,!no||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?i.addEventListener(s,l,{capture:!0,passive:f}):i.addEventListener(s,l,!0):f!==void 0?i.addEventListener(s,l,{passive:f}):i.addEventListener(s,l,!1)}function id(i,s,l,h,f){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var R=h.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;w=w.return}for(;R!==null;){if(w=fs(R),w===null)return;if(D=w.tag,D===5||D===6){h=y=w;continue e}R=R.parentNode}}h=h.return}Ra(function(){var $=y,ee=Zs(l),te=[];e:{var Z=Zm.get(i);if(Z!==void 0){var ue=po,de=i;switch(i){case"keypress":if(fo(l)===0)break e;case"keydown":case"keyup":ue=m;break;case"focusin":de="focus",ue=_o;break;case"focusout":de="blur",ue=_o;break;case"beforeblur":case"afterblur":ue=_o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=W;break;case Qm:case Jm:case Xm:ue=Mr;break;case Ym:ue=He;break;case"scroll":ue=Gh;break;case"wheel":ue=Le;break;case"copy":case"cut":case"paste":ue=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var fe=(s&4)!==0,ht=!fe&&i==="scroll",B=fe?Z!==null?Z+"Capture":null:Z;fe=[];for(var L=$,z;L!==null;){z=L;var re=z.stateNode;if(z.tag===5&&re!==null&&(z=re,B!==null&&(re=ct(L,B),re!=null&&fe.push(Ha(L,re,z)))),ht)break;L=L.return}0<fe.length&&(Z=new ue(Z,de,null,l,ee),te.push({event:Z,listeners:fe}))}}if((s&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",Z&&l!==es&&(de=l.relatedTarget||l.fromElement)&&(fs(de)||de[Fr]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(de=l.relatedTarget||l.toElement,ue=$,de=de?fs(de):null,de!==null&&(ht=Fn(de),de!==ht||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=$),ue!==de)){if(fe=go,re="onMouseLeave",B="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(fe=I,re="onPointerLeave",B="onPointerEnter",L="pointer"),ht=ue==null?Z:Ao(ue),z=de==null?Z:Ao(de),Z=new fe(re,L+"leave",ue,l,ee),Z.target=ht,Z.relatedTarget=z,re=null,fs(ee)===$&&(fe=new fe(B,L+"enter",de,l,ee),fe.target=z,fe.relatedTarget=ht,re=fe),ht=re,ue&&de)t:{for(fe=ue,B=de,L=0,z=fe;z;z=So(z))L++;for(z=0,re=B;re;re=So(re))z++;for(;0<L-z;)fe=So(fe),L--;for(;0<z-L;)B=So(B),z--;for(;L--;){if(fe===B||B!==null&&fe===B.alternate)break t;fe=So(fe),B=So(B)}fe=null}else fe=null;ue!==null&&ig(te,Z,ue,fe,!1),de!==null&&ht!==null&&ig(te,ht,de,fe,!0)}}e:{if(Z=$?Ao($):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var ge=U0;else if(Mm(Z))if(Um)ge=$0;else{ge=B0;var ve=j0}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ge=z0);if(ge&&(ge=ge(i,$))){Fm(te,ge,l,ee);break e}ve&&ve(i,Z,$),i==="focusout"&&(ve=Z._wrapperState)&&ve.controlled&&Z.type==="number"&&Js(Z,"number",Z.value)}switch(ve=$?Ao($):window,i){case"focusin":(Mm(ve)||ve.contentEditable==="true")&&(To=ve,Yh=$,Ba=null);break;case"focusout":Ba=Yh=To=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Km(te,l,ee);break;case"selectionchange":if(W0)break;case"keydown":case"keyup":Km(te,l,ee)}var Ee;if(mt)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else wo?Lm(i,l)&&(Se="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(ds&&l.locale!=="ko"&&(wo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&wo&&(Ee=ba()):(mn=ee,ho="value"in mn?mn.value:mn.textContent,wo=!0)),ve=ku($,Se),0<ve.length&&(Se=new Ma(Se,i,null,l,ee),te.push({event:Se,listeners:ve}),Ee?Se.data=Ee:(Ee=Vm(l),Ee!==null&&(Se.data=Ee)))),(Ee=gn?L0(i,l):V0(i,l))&&($=ku($,"onBeforeInput"),0<$.length&&(ee=new Ma("onBeforeInput","beforeinput",null,l,ee),te.push({event:ee,listeners:$}),ee.data=Ee))}ng(te,s)})}function Ha(i,s,l){return{instance:i,listener:s,currentTarget:l}}function ku(i,s){for(var l=s+"Capture",h=[];i!==null;){var f=i,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=ct(i,l),y!=null&&h.unshift(Ha(i,y,f)),y=ct(i,s),y!=null&&h.push(Ha(i,y,f))),i=i.return}return h}function So(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ig(i,s,l,h,f){for(var y=s._reactName,w=[];l!==null&&l!==h;){var R=l,D=R.alternate,$=R.stateNode;if(D!==null&&D===h)break;R.tag===5&&$!==null&&(R=$,f?(D=ct(l,y),D!=null&&w.unshift(Ha(l,D,R))):f||(D=ct(l,y),D!=null&&w.push(Ha(l,D,R)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var J0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function sg(i){return(typeof i=="string"?i:""+i).replace(J0,`
`).replace(X0,"")}function Nu(i,s,l){if(s=sg(s),sg(i)!==s&&l)throw Error(t(425))}function xu(){}var sd=null,od=null;function ad(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ld=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,og=typeof Promise=="function"?Promise:void 0,Z0=typeof queueMicrotask=="function"?queueMicrotask:typeof og<"u"?function(i){return og.resolve(null).then(i).catch(eI)}:ld;function eI(i){setTimeout(function(){throw i})}function ud(i,s){var l=s,h=0;do{var f=l.nextSibling;if(i.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){i.removeChild(f),$n(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);$n(s)}function pi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function ag(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),cr="__reactFiber$"+Ro,qa="__reactProps$"+Ro,Fr="__reactContainer$"+Ro,cd="__reactEvents$"+Ro,tI="__reactListeners$"+Ro,nI="__reactHandles$"+Ro;function fs(i){var s=i[cr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Fr]||l[cr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=ag(i);i!==null;){if(l=i[cr])return l;i=ag(i)}return s}i=l,l=i.parentNode}return null}function Wa(i){return i=i[cr]||i[Fr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ao(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Ou(i){return i[qa]||null}var hd=[],Co=-1;function mi(i){return{current:i}}function Ye(i){0>Co||(i.current=hd[Co],hd[Co]=null,Co--)}function Qe(i,s){Co++,hd[Co]=i.current,i.current=s}var gi={},jt=mi(gi),nn=mi(!1),ps=gi;function Po(i,s){var l=i.type.contextTypes;if(!l)return gi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in l)f[y]=s[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=f),f}function rn(i){return i=i.childContextTypes,i!=null}function Du(){Ye(nn),Ye(jt)}function lg(i,s,l){if(jt.current!==gi)throw Error(t(168));Qe(jt,s),Qe(nn,l)}function ug(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,je(i)||"Unknown",f));return le({},l,h)}function bu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gi,ps=jt.current,Qe(jt,i),Qe(nn,nn.current),!0}function cg(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=ug(i,s,ps),h.__reactInternalMemoizedMergedChildContext=i,Ye(nn),Ye(jt),Qe(jt,i)):Ye(nn),Qe(nn,l)}var Ur=null,Lu=!1,dd=!1;function hg(i){Ur===null?Ur=[i]:Ur.push(i)}function rI(i){Lu=!0,hg(i)}function yi(){if(!dd&&Ur!==null){dd=!0;var i=0,s=De;try{var l=Ur;for(De=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Ur=null,Lu=!1}catch(f){throw Ur!==null&&(Ur=Ur.slice(i+1)),oo(ss,yi),f}finally{De=s,dd=!1}}return null}var ko=[],No=0,Vu=null,Mu=0,Cn=[],Pn=0,ms=null,jr=1,Br="";function gs(i,s){ko[No++]=Mu,ko[No++]=Vu,Vu=i,Mu=s}function dg(i,s,l){Cn[Pn++]=jr,Cn[Pn++]=Br,Cn[Pn++]=ms,ms=i;var h=jr;i=Br;var f=32-Qt(h)-1;h&=~(1<<f),l+=1;var y=32-Qt(s)+f;if(30<y){var w=f-f%5;y=(h&(1<<w)-1).toString(32),h>>=w,f-=w,jr=1<<32-Qt(s)+f|l<<f|h,Br=y+i}else jr=1<<y|l<<f|h,Br=i}function fd(i){i.return!==null&&(gs(i,1),dg(i,1,0))}function pd(i){for(;i===Vu;)Vu=ko[--No],ko[No]=null,Mu=ko[--No],ko[No]=null;for(;i===ms;)ms=Cn[--Pn],Cn[Pn]=null,Br=Cn[--Pn],Cn[Pn]=null,jr=Cn[--Pn],Cn[Pn]=null}var yn=null,_n=null,tt=!1,Wn=null;function fg(i,s){var l=On(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function pg(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,yn=i,_n=pi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,yn=i,_n=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ms!==null?{id:jr,overflow:Br}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=On(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,yn=i,_n=null,!0):!1;default:return!1}}function md(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gd(i){if(tt){var s=_n;if(s){var l=s;if(!pg(i,s)){if(md(i))throw Error(t(418));s=pi(l.nextSibling);var h=yn;s&&pg(i,s)?fg(h,l):(i.flags=i.flags&-4097|2,tt=!1,yn=i)}}else{if(md(i))throw Error(t(418));i.flags=i.flags&-4097|2,tt=!1,yn=i}}}function mg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;yn=i}function Fu(i){if(i!==yn)return!1;if(!tt)return mg(i),tt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!ad(i.type,i.memoizedProps)),s&&(s=_n)){if(md(i))throw gg(),Error(t(418));for(;s;)fg(i,s),s=pi(s.nextSibling)}if(mg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){_n=pi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}_n=null}}else _n=yn?pi(i.stateNode.nextSibling):null;return!0}function gg(){for(var i=_n;i;)i=pi(i.nextSibling)}function xo(){_n=yn=null,tt=!1}function yd(i){Wn===null?Wn=[i]:Wn.push(i)}var iI=ie.ReactCurrentBatchConfig;function Ka(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var f=h,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(w){var R=f.refs;w===null?delete R[y]:R[y]=w},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Uu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function yg(i){var s=i._init;return s(i._payload)}function _g(i){function s(B,L){if(i){var z=B.deletions;z===null?(B.deletions=[L],B.flags|=16):z.push(L)}}function l(B,L){if(!i)return null;for(;L!==null;)s(B,L),L=L.sibling;return null}function h(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function f(B,L){return B=Ri(B,L),B.index=0,B.sibling=null,B}function y(B,L,z){return B.index=z,i?(z=B.alternate,z!==null?(z=z.index,z<L?(B.flags|=2,L):z):(B.flags|=2,L)):(B.flags|=1048576,L)}function w(B){return i&&B.alternate===null&&(B.flags|=2),B}function R(B,L,z,re){return L===null||L.tag!==6?(L=uf(z,B.mode,re),L.return=B,L):(L=f(L,z),L.return=B,L)}function D(B,L,z,re){var ge=z.type;return ge===N?ee(B,L,z.props.children,re,z.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===qe&&yg(ge)===L.type)?(re=f(L,z.props),re.ref=Ka(B,L,z),re.return=B,re):(re=uc(z.type,z.key,z.props,null,B.mode,re),re.ref=Ka(B,L,z),re.return=B,re)}function $(B,L,z,re){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=cf(z,B.mode,re),L.return=B,L):(L=f(L,z.children||[]),L.return=B,L)}function ee(B,L,z,re,ge){return L===null||L.tag!==7?(L=Ss(z,B.mode,re,ge),L.return=B,L):(L=f(L,z),L.return=B,L)}function te(B,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=uf(""+L,B.mode,z),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case pe:return z=uc(L.type,L.key,L.props,null,B.mode,z),z.ref=Ka(B,null,L),z.return=B,z;case ne:return L=cf(L,B.mode,z),L.return=B,L;case qe:var re=L._init;return te(B,re(L._payload),z)}if(kr(L)||ye(L))return L=Ss(L,B.mode,z,null),L.return=B,L;Uu(B,L)}return null}function Z(B,L,z,re){var ge=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ge!==null?null:R(B,L,""+z,re);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case pe:return z.key===ge?D(B,L,z,re):null;case ne:return z.key===ge?$(B,L,z,re):null;case qe:return ge=z._init,Z(B,L,ge(z._payload),re)}if(kr(z)||ye(z))return ge!==null?null:ee(B,L,z,re,null);Uu(B,z)}return null}function ue(B,L,z,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number")return B=B.get(z)||null,R(L,B,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case pe:return B=B.get(re.key===null?z:re.key)||null,D(L,B,re,ge);case ne:return B=B.get(re.key===null?z:re.key)||null,$(L,B,re,ge);case qe:var ve=re._init;return ue(B,L,z,ve(re._payload),ge)}if(kr(re)||ye(re))return B=B.get(z)||null,ee(L,B,re,ge,null);Uu(L,re)}return null}function de(B,L,z,re){for(var ge=null,ve=null,Ee=L,Se=L=0,xt=null;Ee!==null&&Se<z.length;Se++){Ee.index>Se?(xt=Ee,Ee=null):xt=Ee.sibling;var Fe=Z(B,Ee,z[Se],re);if(Fe===null){Ee===null&&(Ee=xt);break}i&&Ee&&Fe.alternate===null&&s(B,Ee),L=y(Fe,L,Se),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe,Ee=xt}if(Se===z.length)return l(B,Ee),tt&&gs(B,Se),ge;if(Ee===null){for(;Se<z.length;Se++)Ee=te(B,z[Se],re),Ee!==null&&(L=y(Ee,L,Se),ve===null?ge=Ee:ve.sibling=Ee,ve=Ee);return tt&&gs(B,Se),ge}for(Ee=h(B,Ee);Se<z.length;Se++)xt=ue(Ee,B,Se,z[Se],re),xt!==null&&(i&&xt.alternate!==null&&Ee.delete(xt.key===null?Se:xt.key),L=y(xt,L,Se),ve===null?ge=xt:ve.sibling=xt,ve=xt);return i&&Ee.forEach(function(Ai){return s(B,Ai)}),tt&&gs(B,Se),ge}function fe(B,L,z,re){var ge=ye(z);if(typeof ge!="function")throw Error(t(150));if(z=ge.call(z),z==null)throw Error(t(151));for(var ve=ge=null,Ee=L,Se=L=0,xt=null,Fe=z.next();Ee!==null&&!Fe.done;Se++,Fe=z.next()){Ee.index>Se?(xt=Ee,Ee=null):xt=Ee.sibling;var Ai=Z(B,Ee,Fe.value,re);if(Ai===null){Ee===null&&(Ee=xt);break}i&&Ee&&Ai.alternate===null&&s(B,Ee),L=y(Ai,L,Se),ve===null?ge=Ai:ve.sibling=Ai,ve=Ai,Ee=xt}if(Fe.done)return l(B,Ee),tt&&gs(B,Se),ge;if(Ee===null){for(;!Fe.done;Se++,Fe=z.next())Fe=te(B,Fe.value,re),Fe!==null&&(L=y(Fe,L,Se),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe);return tt&&gs(B,Se),ge}for(Ee=h(B,Ee);!Fe.done;Se++,Fe=z.next())Fe=ue(Ee,B,Se,Fe.value,re),Fe!==null&&(i&&Fe.alternate!==null&&Ee.delete(Fe.key===null?Se:Fe.key),L=y(Fe,L,Se),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe);return i&&Ee.forEach(function(MI){return s(B,MI)}),tt&&gs(B,Se),ge}function ht(B,L,z,re){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case pe:e:{for(var ge=z.key,ve=L;ve!==null;){if(ve.key===ge){if(ge=z.type,ge===N){if(ve.tag===7){l(B,ve.sibling),L=f(ve,z.props.children),L.return=B,B=L;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===qe&&yg(ge)===ve.type){l(B,ve.sibling),L=f(ve,z.props),L.ref=Ka(B,ve,z),L.return=B,B=L;break e}l(B,ve);break}else s(B,ve);ve=ve.sibling}z.type===N?(L=Ss(z.props.children,B.mode,re,z.key),L.return=B,B=L):(re=uc(z.type,z.key,z.props,null,B.mode,re),re.ref=Ka(B,L,z),re.return=B,B=re)}return w(B);case ne:e:{for(ve=z.key;L!==null;){if(L.key===ve)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){l(B,L.sibling),L=f(L,z.children||[]),L.return=B,B=L;break e}else{l(B,L);break}else s(B,L);L=L.sibling}L=cf(z,B.mode,re),L.return=B,B=L}return w(B);case qe:return ve=z._init,ht(B,L,ve(z._payload),re)}if(kr(z))return de(B,L,z,re);if(ye(z))return fe(B,L,z,re);Uu(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(l(B,L.sibling),L=f(L,z),L.return=B,B=L):(l(B,L),L=uf(z,B.mode,re),L.return=B,B=L),w(B)):l(B,L)}return ht}var Oo=_g(!0),vg=_g(!1),ju=mi(null),Bu=null,Do=null,_d=null;function vd(){_d=Do=Bu=null}function Ed(i){var s=ju.current;Ye(ju),i._currentValue=s}function wd(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function bo(i,s){Bu=i,_d=Do=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(sn=!0),i.firstContext=null)}function kn(i){var s=i._currentValue;if(_d!==i)if(i={context:i,memoizedValue:s,next:null},Do===null){if(Bu===null)throw Error(t(308));Do=i,Bu.dependencies={lanes:0,firstContext:i}}else Do=Do.next=i;return s}var ys=null;function Td(i){ys===null?ys=[i]:ys.push(i)}function Eg(i,s,l,h){var f=s.interleaved;return f===null?(l.next=l,Td(s)):(l.next=f.next,f.next=l),s.interleaved=l,zr(i,h)}function zr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var _i=!1;function Id(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function $r(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function vi(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Me&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,zr(i,l)}return f=h.interleaved,f===null?(s.next=s,Td(h)):(s.next=f.next,f.next=s),h.interleaved=s,zr(i,l)}function zu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,li(i,l)}}function Tg(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?f=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?f=y=s:y=y.next=s}else f=y=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function $u(i,s,l,h){var f=i.updateQueue;_i=!1;var y=f.firstBaseUpdate,w=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var D=R,$=D.next;D.next=null,w===null?y=$:w.next=$,w=D;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==w&&(R===null?ee.firstBaseUpdate=$:R.next=$,ee.lastBaseUpdate=D))}if(y!==null){var te=f.baseState;w=0,ee=$=D=null,R=y;do{var Z=R.lane,ue=R.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var de=i,fe=R;switch(Z=s,ue=l,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){te=de.call(ue,te,Z);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,Z=typeof de=="function"?de.call(ue,te,Z):de,Z==null)break e;te=le({},te,Z);break e;case 2:_i=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,Z=f.effects,Z===null?f.effects=[R]:Z.push(R))}else ue={eventTime:ue,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?($=ee=ue,D=te):ee=ee.next=ue,w|=Z;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(D=te),f.baseState=D,f.firstBaseUpdate=$,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else y===null&&(f.shared.lanes=0);Es|=w,i.lanes=w,i.memoizedState=te}}function Ig(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Ga={},hr=mi(Ga),Qa=mi(Ga),Ja=mi(Ga);function _s(i){if(i===Ga)throw Error(t(174));return i}function Sd(i,s){switch(Qe(Ja,s),Qe(Qa,i),Qe(hr,Ga),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Tt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=Tt(s,i)}Ye(hr),Qe(hr,s)}function Lo(){Ye(hr),Ye(Qa),Ye(Ja)}function Sg(i){_s(Ja.current);var s=_s(hr.current),l=Tt(s,i.type);s!==l&&(Qe(Qa,i),Qe(hr,l))}function Rd(i){Qa.current===i&&(Ye(hr),Ye(Qa))}var nt=mi(0);function Hu(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ad=[];function Cd(){for(var i=0;i<Ad.length;i++)Ad[i]._workInProgressVersionPrimary=null;Ad.length=0}var qu=ie.ReactCurrentDispatcher,Pd=ie.ReactCurrentBatchConfig,vs=0,rt=null,St=null,kt=null,Wu=!1,Xa=!1,Ya=0,sI=0;function Bt(){throw Error(t(321))}function kd(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!qn(i[l],s[l]))return!1;return!0}function Nd(i,s,l,h,f,y){if(vs=y,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,qu.current=i===null||i.memoizedState===null?uI:cI,i=l(h,f),Xa){y=0;do{if(Xa=!1,Ya=0,25<=y)throw Error(t(301));y+=1,kt=St=null,s.updateQueue=null,qu.current=hI,i=l(h,f)}while(Xa)}if(qu.current=Qu,s=St!==null&&St.next!==null,vs=0,kt=St=rt=null,Wu=!1,s)throw Error(t(300));return i}function xd(){var i=Ya!==0;return Ya=0,i}function dr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?rt.memoizedState=kt=i:kt=kt.next=i,kt}function Nn(){if(St===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var s=kt===null?rt.memoizedState:kt.next;if(s!==null)kt=s,St=i;else{if(i===null)throw Error(t(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},kt===null?rt.memoizedState=kt=i:kt=kt.next=i}return kt}function Za(i,s){return typeof s=="function"?s(i):s}function Od(i){var s=Nn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=St,f=h.baseQueue,y=l.pending;if(y!==null){if(f!==null){var w=f.next;f.next=y.next,y.next=w}h.baseQueue=f=y,l.pending=null}if(f!==null){y=f.next,h=h.baseState;var R=w=null,D=null,$=y;do{var ee=$.lane;if((vs&ee)===ee)D!==null&&(D=D.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:i(h,$.action);else{var te={lane:ee,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};D===null?(R=D=te,w=h):D=D.next=te,rt.lanes|=ee,Es|=ee}$=$.next}while($!==null&&$!==y);D===null?w=h:D.next=R,qn(h,s.memoizedState)||(sn=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=D,l.lastRenderedState=h}if(i=l.interleaved,i!==null){f=i;do y=f.lane,rt.lanes|=y,Es|=y,f=f.next;while(f!==i)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Dd(i){var s=Nn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,f=l.pending,y=s.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do y=i(y,w.action),w=w.next;while(w!==f);qn(y,s.memoizedState)||(sn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Rg(){}function Ag(i,s){var l=rt,h=Nn(),f=s(),y=!qn(h.memoizedState,f);if(y&&(h.memoizedState=f,sn=!0),h=h.queue,bd(kg.bind(null,l,h,i),[i]),h.getSnapshot!==s||y||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,el(9,Pg.bind(null,l,h,f,s),void 0,null),Nt===null)throw Error(t(349));(vs&30)!==0||Cg(l,s,f)}return f}function Cg(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Pg(i,s,l,h){s.value=l,s.getSnapshot=h,Ng(s)&&xg(i)}function kg(i,s,l){return l(function(){Ng(s)&&xg(i)})}function Ng(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!qn(i,l)}catch{return!0}}function xg(i){var s=zr(i,1);s!==null&&Jn(s,i,1,-1)}function Og(i){var s=dr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:i},s.queue=i,i=i.dispatch=lI.bind(null,rt,i),[s.memoizedState,i]}function el(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function Dg(){return Nn().memoizedState}function Ku(i,s,l,h){var f=dr();rt.flags|=i,f.memoizedState=el(1|s,l,void 0,h===void 0?null:h)}function Gu(i,s,l,h){var f=Nn();h=h===void 0?null:h;var y=void 0;if(St!==null){var w=St.memoizedState;if(y=w.destroy,h!==null&&kd(h,w.deps)){f.memoizedState=el(s,l,y,h);return}}rt.flags|=i,f.memoizedState=el(1|s,l,y,h)}function bg(i,s){return Ku(8390656,8,i,s)}function bd(i,s){return Gu(2048,8,i,s)}function Lg(i,s){return Gu(4,2,i,s)}function Vg(i,s){return Gu(4,4,i,s)}function Mg(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Fg(i,s,l){return l=l!=null?l.concat([i]):null,Gu(4,4,Mg.bind(null,s,i),l)}function Ld(){}function Ug(i,s){var l=Nn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&kd(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function jg(i,s){var l=Nn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&kd(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function Bg(i,s,l){return(vs&21)===0?(i.baseState&&(i.baseState=!1,sn=!0),i.memoizedState=l):(qn(l,s)||(l=ls(),rt.lanes|=l,Es|=l,i.baseState=!0),s)}function oI(i,s){var l=De;De=l!==0&&4>l?l:4,i(!0);var h=Pd.transition;Pd.transition={};try{i(!1),s()}finally{De=l,Pd.transition=h}}function zg(){return Nn().memoizedState}function aI(i,s,l){var h=Ii(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},$g(i))Hg(s,l);else if(l=Eg(i,s,l,h),l!==null){var f=Yt();Jn(l,i,h,f),qg(l,s,h)}}function lI(i,s,l){var h=Ii(i),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if($g(i))Hg(s,f);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,R=y(w,l);if(f.hasEagerState=!0,f.eagerState=R,qn(R,w)){var D=s.interleaved;D===null?(f.next=f,Td(s)):(f.next=D.next,D.next=f),s.interleaved=f;return}}catch{}finally{}l=Eg(i,s,f,h),l!==null&&(f=Yt(),Jn(l,i,h,f),qg(l,s,h))}}function $g(i){var s=i.alternate;return i===rt||s!==null&&s===rt}function Hg(i,s){Xa=Wu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function qg(i,s,l){if((l&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,li(i,l)}}var Qu={readContext:kn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},uI={readContext:kn,useCallback:function(i,s){return dr().memoizedState=[i,s===void 0?null:s],i},useContext:kn,useEffect:bg,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Ku(4194308,4,Mg.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Ku(4194308,4,i,s)},useInsertionEffect:function(i,s){return Ku(4,2,i,s)},useMemo:function(i,s){var l=dr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=dr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=aI.bind(null,rt,i),[h.memoizedState,i]},useRef:function(i){var s=dr();return i={current:i},s.memoizedState=i},useState:Og,useDebugValue:Ld,useDeferredValue:function(i){return dr().memoizedState=i},useTransition:function(){var i=Og(!1),s=i[0];return i=oI.bind(null,i[1]),dr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=rt,f=dr();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Nt===null)throw Error(t(349));(vs&30)!==0||Cg(h,s,l)}f.memoizedState=l;var y={value:l,getSnapshot:s};return f.queue=y,bg(kg.bind(null,h,y,i),[i]),h.flags|=2048,el(9,Pg.bind(null,h,y,l,s),void 0,null),l},useId:function(){var i=dr(),s=Nt.identifierPrefix;if(tt){var l=Br,h=jr;l=(h&~(1<<32-Qt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ya++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=sI++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},cI={readContext:kn,useCallback:Ug,useContext:kn,useEffect:bd,useImperativeHandle:Fg,useInsertionEffect:Lg,useLayoutEffect:Vg,useMemo:jg,useReducer:Od,useRef:Dg,useState:function(){return Od(Za)},useDebugValue:Ld,useDeferredValue:function(i){var s=Nn();return Bg(s,St.memoizedState,i)},useTransition:function(){var i=Od(Za)[0],s=Nn().memoizedState;return[i,s]},useMutableSource:Rg,useSyncExternalStore:Ag,useId:zg,unstable_isNewReconciler:!1},hI={readContext:kn,useCallback:Ug,useContext:kn,useEffect:bd,useImperativeHandle:Fg,useInsertionEffect:Lg,useLayoutEffect:Vg,useMemo:jg,useReducer:Dd,useRef:Dg,useState:function(){return Dd(Za)},useDebugValue:Ld,useDeferredValue:function(i){var s=Nn();return St===null?s.memoizedState=i:Bg(s,St.memoizedState,i)},useTransition:function(){var i=Dd(Za)[0],s=Nn().memoizedState;return[i,s]},useMutableSource:Rg,useSyncExternalStore:Ag,useId:zg,unstable_isNewReconciler:!1};function Kn(i,s){if(i&&i.defaultProps){s=le({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Vd(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:le({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ju={isMounted:function(i){return(i=i._reactInternals)?Fn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=Yt(),f=Ii(i),y=$r(h,f);y.payload=s,l!=null&&(y.callback=l),s=vi(i,y,f),s!==null&&(Jn(s,i,f,h),zu(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=Yt(),f=Ii(i),y=$r(h,f);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=vi(i,y,f),s!==null&&(Jn(s,i,f,h),zu(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Yt(),h=Ii(i),f=$r(l,h);f.tag=2,s!=null&&(f.callback=s),s=vi(i,f,h),s!==null&&(Jn(s,i,h,l),zu(s,i,h))}};function Wg(i,s,l,h,f,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,w):s.prototype&&s.prototype.isPureReactComponent?!ja(l,h)||!ja(f,y):!0}function Kg(i,s,l){var h=!1,f=gi,y=s.contextType;return typeof y=="object"&&y!==null?y=kn(y):(f=rn(s)?ps:jt.current,h=s.contextTypes,y=(h=h!=null)?Po(i,f):gi),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ju,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=f,i.__reactInternalMemoizedMaskedChildContext=y),s}function Gg(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&Ju.enqueueReplaceState(s,s.state,null)}function Md(i,s,l,h){var f=i.stateNode;f.props=l,f.state=i.memoizedState,f.refs={},Id(i);var y=s.contextType;typeof y=="object"&&y!==null?f.context=kn(y):(y=rn(s)?ps:jt.current,f.context=Po(i,y)),f.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Vd(i,s,y,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Ju.enqueueReplaceState(f,f.state,null),$u(i,l,f,h),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308)}function Vo(i,s){try{var l="",h=s;do l+=Pe(h),h=h.return;while(h);var f=l}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:f,digest:null}}function Fd(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Ud(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var dI=typeof WeakMap=="function"?WeakMap:Map;function Qg(i,s,l){l=$r(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){rc||(rc=!0,ef=h),Ud(i,s)},l}function Jg(i,s,l){l=$r(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){Ud(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Ud(i,s),typeof h!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function Xg(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new dI;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),i=AI.bind(null,i,s,l),s.then(i,i))}function Yg(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Zg(i,s,l,h,f){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=$r(-1,1),s.tag=2,vi(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=f,i)}var fI=ie.ReactCurrentOwner,sn=!1;function Xt(i,s,l,h){s.child=i===null?vg(s,null,l,h):Oo(s,i.child,l,h)}function ey(i,s,l,h,f){l=l.render;var y=s.ref;return bo(s,f),h=Nd(i,s,l,h,y,f),l=xd(),i!==null&&!sn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,Hr(i,s,f)):(tt&&l&&fd(s),s.flags|=1,Xt(i,s,h,f),s.child)}function ty(i,s,l,h,f){if(i===null){var y=l.type;return typeof y=="function"&&!lf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,ny(i,s,y,h,f)):(i=uc(l.type,null,h,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&f)===0){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:ja,l(w,h)&&i.ref===s.ref)return Hr(i,s,f)}return s.flags|=1,i=Ri(y,h),i.ref=s.ref,i.return=s,s.child=i}function ny(i,s,l,h,f){if(i!==null){var y=i.memoizedProps;if(ja(y,h)&&i.ref===s.ref)if(sn=!1,s.pendingProps=h=y,(i.lanes&f)!==0)(i.flags&131072)!==0&&(sn=!0);else return s.lanes=i.lanes,Hr(i,s,f)}return jd(i,s,l,h,f)}function ry(i,s,l){var h=s.pendingProps,f=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Fo,vn),vn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Qe(Fo,vn),vn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Qe(Fo,vn),vn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Qe(Fo,vn),vn|=h;return Xt(i,s,f,l),s.child}function iy(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function jd(i,s,l,h,f){var y=rn(l)?ps:jt.current;return y=Po(s,y),bo(s,f),l=Nd(i,s,l,h,y,f),h=xd(),i!==null&&!sn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,Hr(i,s,f)):(tt&&h&&fd(s),s.flags|=1,Xt(i,s,l,f),s.child)}function sy(i,s,l,h,f){if(rn(l)){var y=!0;bu(s)}else y=!1;if(bo(s,f),s.stateNode===null)Yu(i,s),Kg(s,l,h),Md(s,l,h,f),h=!0;else if(i===null){var w=s.stateNode,R=s.memoizedProps;w.props=R;var D=w.context,$=l.contextType;typeof $=="object"&&$!==null?$=kn($):($=rn(l)?ps:jt.current,$=Po(s,$));var ee=l.getDerivedStateFromProps,te=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==h||D!==$)&&Gg(s,w,h,$),_i=!1;var Z=s.memoizedState;w.state=Z,$u(s,h,w,f),D=s.memoizedState,R!==h||Z!==D||nn.current||_i?(typeof ee=="function"&&(Vd(s,l,ee,h),D=s.memoizedState),(R=_i||Wg(s,l,R,h,Z,D,$))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=D),w.props=h,w.state=D,w.context=$,h=R):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,wg(i,s),R=s.memoizedProps,$=s.type===s.elementType?R:Kn(s.type,R),w.props=$,te=s.pendingProps,Z=w.context,D=l.contextType,typeof D=="object"&&D!==null?D=kn(D):(D=rn(l)?ps:jt.current,D=Po(s,D));var ue=l.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==te||Z!==D)&&Gg(s,w,h,D),_i=!1,Z=s.memoizedState,w.state=Z,$u(s,h,w,f);var de=s.memoizedState;R!==te||Z!==de||nn.current||_i?(typeof ue=="function"&&(Vd(s,l,ue,h),de=s.memoizedState),($=_i||Wg(s,l,$,h,Z,de,D)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,de,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,de,D)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=de),w.props=h,w.state=de,w.context=D,h=$):(typeof w.componentDidUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),h=!1)}return Bd(i,s,l,h,y,f)}function Bd(i,s,l,h,f,y){iy(i,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&cg(s,l,!1),Hr(i,s,y);h=s.stateNode,fI.current=s;var R=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&w?(s.child=Oo(s,i.child,null,y),s.child=Oo(s,null,R,y)):Xt(i,s,R,y),s.memoizedState=h.state,f&&cg(s,l,!0),s.child}function oy(i){var s=i.stateNode;s.pendingContext?lg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&lg(i,s.context,!1),Sd(i,s.containerInfo)}function ay(i,s,l,h,f){return xo(),yd(f),s.flags|=256,Xt(i,s,l,h),s.child}var zd={dehydrated:null,treeContext:null,retryLane:0};function $d(i){return{baseLanes:i,cachePool:null,transitions:null}}function ly(i,s,l){var h=s.pendingProps,f=nt.current,y=!1,w=(s.flags&128)!==0,R;if((R=w)||(R=i!==null&&i.memoizedState===null?!1:(f&2)!==0),R?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(f|=1),Qe(nt,f&1),i===null)return gd(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=h.children,i=h.fallback,y?(h=s.mode,y=s.child,w={mode:"hidden",children:w},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=cc(w,h,0,null),i=Ss(i,h,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=$d(l),s.memoizedState=zd,i):Hd(s,w));if(f=i.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return pI(i,s,w,h,R,f,l);if(y){y=h.fallback,w=s.mode,f=i.child,R=f.sibling;var D={mode:"hidden",children:h.children};return(w&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=D,s.deletions=null):(h=Ri(f,D),h.subtreeFlags=f.subtreeFlags&14680064),R!==null?y=Ri(R,y):(y=Ss(y,w,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,w=i.child.memoizedState,w=w===null?$d(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=i.childLanes&~l,s.memoizedState=zd,h}return y=i.child,i=y.sibling,h=Ri(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function Hd(i,s){return s=cc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Xu(i,s,l,h){return h!==null&&yd(h),Oo(s,i.child,null,l),i=Hd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function pI(i,s,l,h,f,y,w){if(l)return s.flags&256?(s.flags&=-257,h=Fd(Error(t(422))),Xu(i,s,w,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=h.fallback,f=s.mode,h=cc({mode:"visible",children:h.children},f,0,null),y=Ss(y,f,w,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&Oo(s,i.child,null,w),s.child.memoizedState=$d(w),s.memoizedState=zd,y);if((s.mode&1)===0)return Xu(i,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var R=h.dgst;return h=R,y=Error(t(419)),h=Fd(y,h,void 0),Xu(i,s,w,h)}if(R=(w&i.childLanes)!==0,sn||R){if(h=Nt,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|w))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,zr(i,f),Jn(h,i,f,-1))}return af(),h=Fd(Error(t(421))),Xu(i,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=i.child,s=CI.bind(null,i),f._reactRetry=s,null):(i=y.treeContext,_n=pi(f.nextSibling),yn=s,tt=!0,Wn=null,i!==null&&(Cn[Pn++]=jr,Cn[Pn++]=Br,Cn[Pn++]=ms,jr=i.id,Br=i.overflow,ms=s),s=Hd(s,h.children),s.flags|=4096,s)}function uy(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),wd(i.return,s,l)}function qd(i,s,l,h,f){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=f)}function cy(i,s,l){var h=s.pendingProps,f=h.revealOrder,y=h.tail;if(Xt(i,s,h.children,l),h=nt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&uy(i,l,s);else if(i.tag===19)uy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Qe(nt,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)i=l.alternate,i!==null&&Hu(i)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),qd(s,!1,f,l,y);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Hu(i)===null){s.child=f;break}i=f.sibling,f.sibling=l,l=f,f=i}qd(s,!0,l,null,y);break;case"together":qd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yu(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Hr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Es|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ri(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ri(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function mI(i,s,l){switch(s.tag){case 3:oy(s),xo();break;case 5:Sg(s);break;case 1:rn(s.type)&&bu(s);break;case 4:Sd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Qe(ju,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Qe(nt,nt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?ly(i,s,l):(Qe(nt,nt.current&1),i=Hr(i,s,l),i!==null?i.sibling:null);Qe(nt,nt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(i.flags&128)!==0){if(h)return cy(i,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,ry(i,s,l)}return Hr(i,s,l)}var hy,Wd,dy,fy;hy=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Wd=function(){},dy=function(i,s,l,h){var f=i.memoizedProps;if(f!==h){i=s.stateNode,_s(hr.current);var y=null;switch(l){case"input":f=Xi(i,f),h=Xi(i,h),y=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),y=[];break;case"textarea":f=ma(i,f),h=ma(i,h),y=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=xu)}wa(l,h);var w;l=null;for($ in f)if(!h.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var R=f[$];for(w in R)R.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var D=h[$];if(R=f!=null?f[$]:void 0,h.hasOwnProperty($)&&D!==R&&(D!=null||R!=null))if($==="style")if(R){for(w in R)!R.hasOwnProperty(w)||D&&D.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in D)D.hasOwnProperty(w)&&R[w]!==D[w]&&(l||(l={}),l[w]=D[w])}else l||(y||(y=[]),y.push($,l)),l=D;else $==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(y=y||[]).push($,D)):$==="children"?typeof D!="string"&&typeof D!="number"||(y=y||[]).push($,""+D):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(D!=null&&$==="onScroll"&&Xe("scroll",i),y||R===D||(y=[])):(y=y||[]).push($,D))}l&&(y=y||[]).push("style",l);var $=y;(s.updateQueue=$)&&(s.flags|=4)}},fy=function(i,s,l,h){l!==h&&(s.flags|=4)};function tl(i,s){if(!tt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function zt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var f=i.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function gI(i,s,l){var h=s.pendingProps;switch(pd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return rn(s.type)&&Du(),zt(s),null;case 3:return h=s.stateNode,Lo(),Ye(nn),Ye(jt),Cd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Fu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wn!==null&&(rf(Wn),Wn=null))),Wd(i,s),zt(s),null;case 5:Rd(s);var f=_s(Ja.current);if(l=s.type,i!==null&&s.stateNode!=null)dy(i,s,l,h,f),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return zt(s),null}if(i=_s(hr.current),Fu(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[cr]=s,h[qa]=y,i=(s.mode&1)!==0,l){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(f=0;f<za.length;f++)Xe(za[f],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":Qs(h,y),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Xe("invalid",h);break;case"textarea":Xs(h,y),Xe("invalid",h)}wa(l,y),f=null;for(var w in y)if(y.hasOwnProperty(w)){var R=y[w];w==="children"?typeof R=="string"?h.textContent!==R&&(y.suppressHydrationWarning!==!0&&Nu(h.textContent,R,i),f=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&Nu(h.textContent,R,i),f=["children",""+R]):o.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&Xe("scroll",h)}switch(l){case"input":Pr(h),nu(h,y,!0);break;case"textarea":Pr(h),ga(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=xu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=wt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=w.createElement(l,{is:h.is}):(i=w.createElement(l),l==="select"&&(w=i,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):i=w.createElementNS(i,l),i[cr]=s,i[qa]=h,hy(i,s,!1,!1),s.stateNode=i;e:{switch(w=Ta(l,h),l){case"dialog":Xe("cancel",i),Xe("close",i),f=h;break;case"iframe":case"object":case"embed":Xe("load",i),f=h;break;case"video":case"audio":for(f=0;f<za.length;f++)Xe(za[f],i);f=h;break;case"source":Xe("error",i),f=h;break;case"img":case"image":case"link":Xe("error",i),Xe("load",i),f=h;break;case"details":Xe("toggle",i),f=h;break;case"input":Qs(i,h),f=Xi(i,h),Xe("invalid",i);break;case"option":f=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),Xe("invalid",i);break;case"textarea":Xs(i,h),f=ma(i,h),Xe("invalid",i);break;default:f=h}wa(l,f),R=f;for(y in R)if(R.hasOwnProperty(y)){var D=R[y];y==="style"?va(i,D):y==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&ya(i,D)):y==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&ri(i,D):typeof D=="number"&&ri(i,""+D):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?D!=null&&y==="onScroll"&&Xe("scroll",i):D!=null&&K(i,y,D,w))}switch(l){case"input":Pr(i),nu(i,h,!1);break;case"textarea":Pr(i),ga(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Be(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Nr(i,!!h.multiple,y,!1):h.defaultValue!=null&&Nr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(i.onclick=xu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return zt(s),null;case 6:if(i&&s.stateNode!=null)fy(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=_s(Ja.current),_s(hr.current),Fu(s)){if(h=s.stateNode,l=s.memoizedProps,h[cr]=s,(y=h.nodeValue!==l)&&(i=yn,i!==null))switch(i.tag){case 3:Nu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Nu(h.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[cr]=s,s.stateNode=h}return zt(s),null;case 13:if(Ye(nt),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&_n!==null&&(s.mode&1)!==0&&(s.flags&128)===0)gg(),xo(),s.flags|=98560,y=!1;else if(y=Fu(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[cr]=s}else xo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;zt(s),y=!1}else Wn!==null&&(rf(Wn),Wn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(nt.current&1)!==0?Rt===0&&(Rt=3):af())),s.updateQueue!==null&&(s.flags|=4),zt(s),null);case 4:return Lo(),Wd(i,s),i===null&&$a(s.stateNode.containerInfo),zt(s),null;case 10:return Ed(s.type._context),zt(s),null;case 17:return rn(s.type)&&Du(),zt(s),null;case 19:if(Ye(nt),y=s.memoizedState,y===null)return zt(s),null;if(h=(s.flags&128)!==0,w=y.rendering,w===null)if(h)tl(y,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(w=Hu(i),w!==null){for(s.flags|=128,tl(y,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,i=h,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,i=w.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Qe(nt,nt.current&1|2),s.child}i=i.sibling}y.tail!==null&&Ge()>Uo&&(s.flags|=128,h=!0,tl(y,!1),s.lanes=4194304)}else{if(!h)if(i=Hu(w),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),tl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!tt)return zt(s),null}else 2*Ge()-y.renderingStartTime>Uo&&l!==1073741824&&(s.flags|=128,h=!0,tl(y,!1),s.lanes=4194304);y.isBackwards?(w.sibling=s.child,s.child=w):(l=y.last,l!==null?l.sibling=w:s.child=w,y.last=w)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ge(),s.sibling=null,l=nt.current,Qe(nt,h?l&1|2:l&1),s):(zt(s),null);case 22:case 23:return of(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(vn&1073741824)!==0&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function yI(i,s){switch(pd(s),s.tag){case 1:return rn(s.type)&&Du(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Lo(),Ye(nn),Ye(jt),Cd(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Rd(s),null;case 13:if(Ye(nt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));xo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ye(nt),null;case 4:return Lo(),null;case 10:return Ed(s.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var Zu=!1,$t=!1,_I=typeof WeakSet=="function"?WeakSet:Set,he=null;function Mo(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ot(i,s,h)}else l.current=null}function Kd(i,s,l){try{l()}catch(h){ot(i,s,h)}}var py=!1;function vI(i,s){if(sd=hi,i=Wm(),Xh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,R=-1,D=-1,$=0,ee=0,te=i,Z=null;t:for(;;){for(var ue;te!==l||f!==0&&te.nodeType!==3||(R=w+f),te!==y||h!==0&&te.nodeType!==3||(D=w+h),te.nodeType===3&&(w+=te.nodeValue.length),(ue=te.firstChild)!==null;)Z=te,te=ue;for(;;){if(te===i)break t;if(Z===l&&++$===f&&(R=w),Z===y&&++ee===h&&(D=w),(ue=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=ue}l=R===-1||D===-1?null:{start:R,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(od={focusedElem:i,selectionRange:l},hi=!1,he=s;he!==null;)if(s=he,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,he=i;else for(;he!==null;){s=he;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,ht=de.memoizedState,B=s.stateNode,L=B.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Kn(s.type,fe),ht);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ot(s,s.return,re)}if(i=s.sibling,i!==null){i.return=s.return,he=i;break}he=s.return}return de=py,py=!1,de}function nl(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&i)===i){var y=f.destroy;f.destroy=void 0,y!==void 0&&Kd(s,l,y)}f=f.next}while(f!==h)}}function ec(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Gd(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function my(i){var s=i.alternate;s!==null&&(i.alternate=null,my(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[cr],delete s[qa],delete s[cd],delete s[tI],delete s[nI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function gy(i){return i.tag===5||i.tag===3||i.tag===4}function yy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qd(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=xu));else if(h!==4&&(i=i.child,i!==null))for(Qd(i,s,l),i=i.sibling;i!==null;)Qd(i,s,l),i=i.sibling}function Jd(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Jd(i,s,l),i=i.sibling;i!==null;)Jd(i,s,l),i=i.sibling}var Lt=null,Gn=!1;function Ei(i,s,l){for(l=l.child;l!==null;)_y(i,s,l),l=l.sibling}function _y(i,s,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(os,l)}catch{}switch(l.tag){case 5:$t||Mo(l,s);case 6:var h=Lt,f=Gn;Lt=null,Ei(i,s,l),Lt=h,Gn=f,Lt!==null&&(Gn?(i=Lt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(Gn?(i=Lt,l=l.stateNode,i.nodeType===8?ud(i.parentNode,l):i.nodeType===1&&ud(i,l),$n(i)):ud(Lt,l.stateNode));break;case 4:h=Lt,f=Gn,Lt=l.stateNode.containerInfo,Gn=!0,Ei(i,s,l),Lt=h,Gn=f;break;case 0:case 11:case 14:case 15:if(!$t&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var y=f,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&Kd(l,s,w),f=f.next}while(f!==h)}Ei(i,s,l);break;case 1:if(!$t&&(Mo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){ot(l,s,R)}Ei(i,s,l);break;case 21:Ei(i,s,l);break;case 22:l.mode&1?($t=(h=$t)||l.memoizedState!==null,Ei(i,s,l),$t=h):Ei(i,s,l);break;default:Ei(i,s,l)}}function vy(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new _I),s.forEach(function(h){var f=PI.bind(null,i,h);l.has(h)||(l.add(h),h.then(f,f))})}}function Qn(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var y=i,w=s,R=w;e:for(;R!==null;){switch(R.tag){case 5:Lt=R.stateNode,Gn=!1;break e;case 3:Lt=R.stateNode.containerInfo,Gn=!0;break e;case 4:Lt=R.stateNode.containerInfo,Gn=!0;break e}R=R.return}if(Lt===null)throw Error(t(160));_y(y,w,f),Lt=null,Gn=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch($){ot(f,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ey(s,i),s=s.sibling}function Ey(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qn(s,i),fr(i),h&4){try{nl(3,i,i.return),ec(3,i)}catch(fe){ot(i,i.return,fe)}try{nl(5,i,i.return)}catch(fe){ot(i,i.return,fe)}}break;case 1:Qn(s,i),fr(i),h&512&&l!==null&&Mo(l,l.return);break;case 5:if(Qn(s,i),fr(i),h&512&&l!==null&&Mo(l,l.return),i.flags&32){var f=i.stateNode;try{ri(f,"")}catch(fe){ot(i,i.return,fe)}}if(h&4&&(f=i.stateNode,f!=null)){var y=i.memoizedProps,w=l!==null?l.memoizedProps:y,R=i.type,D=i.updateQueue;if(i.updateQueue=null,D!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&fa(f,y),Ta(R,w);var $=Ta(R,y);for(w=0;w<D.length;w+=2){var ee=D[w],te=D[w+1];ee==="style"?va(f,te):ee==="dangerouslySetInnerHTML"?ya(f,te):ee==="children"?ri(f,te):K(f,ee,te,$)}switch(R){case"input":pa(f,y);break;case"textarea":Ys(f,y);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?Nr(f,!!y.multiple,ue,!1):Z!==!!y.multiple&&(y.defaultValue!=null?Nr(f,!!y.multiple,y.defaultValue,!0):Nr(f,!!y.multiple,y.multiple?[]:"",!1))}f[qa]=y}catch(fe){ot(i,i.return,fe)}}break;case 6:if(Qn(s,i),fr(i),h&4){if(i.stateNode===null)throw Error(t(162));f=i.stateNode,y=i.memoizedProps;try{f.nodeValue=y}catch(fe){ot(i,i.return,fe)}}break;case 3:if(Qn(s,i),fr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{$n(s.containerInfo)}catch(fe){ot(i,i.return,fe)}break;case 4:Qn(s,i),fr(i);break;case 13:Qn(s,i),fr(i),f=i.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(Zd=Ge())),h&4&&vy(i);break;case 22:if(ee=l!==null&&l.memoizedState!==null,i.mode&1?($t=($=$t)||ee,Qn(s,i),$t=$):Qn(s,i),fr(i),h&8192){if($=i.memoizedState!==null,(i.stateNode.isHidden=$)&&!ee&&(i.mode&1)!==0)for(he=i,ee=i.child;ee!==null;){for(te=he=ee;he!==null;){switch(Z=he,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:nl(4,Z,Z.return);break;case 1:Mo(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){h=Z,l=Z.return;try{s=h,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(fe){ot(h,l,fe)}}break;case 5:Mo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Iy(te);continue}}ue!==null?(ue.return=Z,he=ue):Iy(te)}ee=ee.sibling}e:for(ee=null,te=i;;){if(te.tag===5){if(ee===null){ee=te;try{f=te.stateNode,$?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=te.stateNode,D=te.memoizedProps.style,w=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=_a("display",w))}catch(fe){ot(i,i.return,fe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=$?"":te.memoizedProps}catch(fe){ot(i,i.return,fe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===i)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===i)break e;for(;te.sibling===null;){if(te.return===null||te.return===i)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Qn(s,i),fr(i),h&4&&vy(i);break;case 21:break;default:Qn(s,i),fr(i)}}function fr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(gy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(ri(f,""),h.flags&=-33);var y=yy(i);Jd(i,y,f);break;case 3:case 4:var w=h.stateNode.containerInfo,R=yy(i);Qd(i,R,w);break;default:throw Error(t(161))}}catch(D){ot(i,i.return,D)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function EI(i,s,l){he=i,wy(i)}function wy(i,s,l){for(var h=(i.mode&1)!==0;he!==null;){var f=he,y=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||Zu;if(!w){var R=f.alternate,D=R!==null&&R.memoizedState!==null||$t;R=Zu;var $=$t;if(Zu=w,($t=D)&&!$)for(he=f;he!==null;)w=he,D=w.child,w.tag===22&&w.memoizedState!==null?Sy(f):D!==null?(D.return=w,he=D):Sy(f);for(;y!==null;)he=y,wy(y),y=y.sibling;he=f,Zu=R,$t=$}Ty(i)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,he=y):Ty(i)}}function Ty(i){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:$t||ec(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!$t)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Kn(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Ig(s,y,h);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ig(s,w,l)}break;case 5:var R=s.stateNode;if(l===null&&s.flags&4){l=R;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var ee=$.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&$n(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||s.flags&512&&Gd(s)}catch(Z){ot(s,s.return,Z)}}if(s===i){he=null;break}if(l=s.sibling,l!==null){l.return=s.return,he=l;break}he=s.return}}function Iy(i){for(;he!==null;){var s=he;if(s===i){he=null;break}var l=s.sibling;if(l!==null){l.return=s.return,he=l;break}he=s.return}}function Sy(i){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ec(4,s)}catch(D){ot(s,l,D)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(D){ot(s,f,D)}}var y=s.return;try{Gd(s)}catch(D){ot(s,y,D)}break;case 5:var w=s.return;try{Gd(s)}catch(D){ot(s,w,D)}}}catch(D){ot(s,s.return,D)}if(s===i){he=null;break}var R=s.sibling;if(R!==null){R.return=s.return,he=R;break}he=s.return}}var wI=Math.ceil,tc=ie.ReactCurrentDispatcher,Xd=ie.ReactCurrentOwner,xn=ie.ReactCurrentBatchConfig,Me=0,Nt=null,gt=null,Vt=0,vn=0,Fo=mi(0),Rt=0,rl=null,Es=0,nc=0,Yd=0,il=null,on=null,Zd=0,Uo=1/0,qr=null,rc=!1,ef=null,wi=null,ic=!1,Ti=null,sc=0,sl=0,tf=null,oc=-1,ac=0;function Yt(){return(Me&6)!==0?Ge():oc!==-1?oc:oc=Ge()}function Ii(i){return(i.mode&1)===0?1:(Me&2)!==0&&Vt!==0?Vt&-Vt:iI.transition!==null?(ac===0&&(ac=ls()),ac):(i=De,i!==0||(i=window.event,i=i===void 0?16:Da(i.type)),i)}function Jn(i,s,l,h){if(50<sl)throw sl=0,tf=null,Error(t(185));ai(i,l,h),((Me&2)===0||i!==Nt)&&(i===Nt&&((Me&2)===0&&(nc|=l),Rt===4&&Si(i,Vt)),an(i,h),l===1&&Me===0&&(s.mode&1)===0&&(Uo=Ge()+500,Lu&&yi()))}function an(i,s){var l=i.callbackNode;Dr(i,s);var h=as(i,i===Nt?Vt:0);if(h===0)l!==null&&Pa(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&Pa(l),s===1)i.tag===0?rI(Ay.bind(null,i)):hg(Ay.bind(null,i)),Z0(function(){(Me&6)===0&&yi()}),l=null;else{switch(ui(h)){case 1:l=ss;break;case 4:l=ii;break;case 16:l=Sn;break;case 536870912:l=au;break;default:l=Sn}l=by(l,Ry.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Ry(i,s){if(oc=-1,ac=0,(Me&6)!==0)throw Error(t(327));var l=i.callbackNode;if(jo()&&i.callbackNode!==l)return null;var h=as(i,i===Nt?Vt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=lc(i,h);else{s=h;var f=Me;Me|=2;var y=Py();(Nt!==i||Vt!==s)&&(qr=null,Uo=Ge()+500,Ts(i,s));do try{SI();break}catch(R){Cy(i,R)}while(!0);vd(),tc.current=y,Me=f,gt!==null?s=0:(Nt=null,Vt=0,s=Rt)}if(s!==0){if(s===2&&(f=pn(i),f!==0&&(h=f,s=nf(i,f))),s===1)throw l=rl,Ts(i,0),Si(i,h),an(i,Ge()),l;if(s===6)Si(i,h);else{if(f=i.current.alternate,(h&30)===0&&!TI(f)&&(s=lc(i,h),s===2&&(y=pn(i),y!==0&&(h=y,s=nf(i,y))),s===1))throw l=rl,Ts(i,0),Si(i,h),an(i,Ge()),l;switch(i.finishedWork=f,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Is(i,on,qr);break;case 3:if(Si(i,h),(h&130023424)===h&&(s=Zd+500-Ge(),10<s)){if(as(i,0)!==0)break;if(f=i.suspendedLanes,(f&h)!==h){Yt(),i.pingedLanes|=i.suspendedLanes&f;break}i.timeoutHandle=ld(Is.bind(null,i,on,qr),s);break}Is(i,on,qr);break;case 4:if(Si(i,h),(h&4194240)===h)break;for(s=i.eventTimes,f=-1;0<h;){var w=31-Qt(h);y=1<<w,w=s[w],w>f&&(f=w),h&=~y}if(h=f,h=Ge()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*wI(h/1960))-h,10<h){i.timeoutHandle=ld(Is.bind(null,i,on,qr),h);break}Is(i,on,qr);break;case 5:Is(i,on,qr);break;default:throw Error(t(329))}}}return an(i,Ge()),i.callbackNode===l?Ry.bind(null,i):null}function nf(i,s){var l=il;return i.current.memoizedState.isDehydrated&&(Ts(i,s).flags|=256),i=lc(i,s),i!==2&&(s=on,on=l,s!==null&&rf(s)),i}function rf(i){on===null?on=i:on.push.apply(on,i)}function TI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],y=f.getSnapshot;f=f.value;try{if(!qn(y(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Si(i,s){for(s&=~Yd,s&=~nc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Qt(s),h=1<<l;i[l]=-1,s&=~h}}function Ay(i){if((Me&6)!==0)throw Error(t(327));jo();var s=as(i,0);if((s&1)===0)return an(i,Ge()),null;var l=lc(i,s);if(i.tag!==0&&l===2){var h=pn(i);h!==0&&(s=h,l=nf(i,h))}if(l===1)throw l=rl,Ts(i,0),Si(i,s),an(i,Ge()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Is(i,on,qr),an(i,Ge()),null}function sf(i,s){var l=Me;Me|=1;try{return i(s)}finally{Me=l,Me===0&&(Uo=Ge()+500,Lu&&yi())}}function ws(i){Ti!==null&&Ti.tag===0&&(Me&6)===0&&jo();var s=Me;Me|=1;var l=xn.transition,h=De;try{if(xn.transition=null,De=1,i)return i()}finally{De=h,xn.transition=l,Me=s,(Me&6)===0&&yi()}}function of(){vn=Fo.current,Ye(Fo)}function Ts(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,Y0(l)),gt!==null)for(l=gt.return;l!==null;){var h=l;switch(pd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Du();break;case 3:Lo(),Ye(nn),Ye(jt),Cd();break;case 5:Rd(h);break;case 4:Lo();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:Ed(h.type._context);break;case 22:case 23:of()}l=l.return}if(Nt=i,gt=i=Ri(i.current,null),Vt=vn=s,Rt=0,rl=null,Yd=nc=Es=0,on=il=null,ys!==null){for(s=0;s<ys.length;s++)if(l=ys[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,y=l.pending;if(y!==null){var w=y.next;y.next=f,h.next=w}l.pending=h}ys=null}return i}function Cy(i,s){do{var l=gt;try{if(vd(),qu.current=Qu,Wu){for(var h=rt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Wu=!1}if(vs=0,kt=St=rt=null,Xa=!1,Ya=0,Xd.current=null,l===null||l.return===null){Rt=1,rl=s,gt=null;break}e:{var y=i,w=l.return,R=l,D=s;if(s=Vt,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=D,ee=R,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=Yg(w);if(ue!==null){ue.flags&=-257,Zg(ue,w,R,y,s),ue.mode&1&&Xg(y,$,s),s=ue,D=$;var de=s.updateQueue;if(de===null){var fe=new Set;fe.add(D),s.updateQueue=fe}else de.add(D);break e}else{if((s&1)===0){Xg(y,$,s),af();break e}D=Error(t(426))}}else if(tt&&R.mode&1){var ht=Yg(w);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Zg(ht,w,R,y,s),yd(Vo(D,R));break e}}y=D=Vo(D,R),Rt!==4&&(Rt=2),il===null?il=[y]:il.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=Qg(y,D,s);Tg(y,B);break e;case 1:R=D;var L=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(wi===null||!wi.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var re=Jg(y,R,s);Tg(y,re);break e}}y=y.return}while(y!==null)}Ny(l)}catch(ge){s=ge,gt===l&&l!==null&&(gt=l=l.return);continue}break}while(!0)}function Py(){var i=tc.current;return tc.current=Qu,i===null?Qu:i}function af(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Nt===null||(Es&268435455)===0&&(nc&268435455)===0||Si(Nt,Vt)}function lc(i,s){var l=Me;Me|=2;var h=Py();(Nt!==i||Vt!==s)&&(qr=null,Ts(i,s));do try{II();break}catch(f){Cy(i,f)}while(!0);if(vd(),Me=l,tc.current=h,gt!==null)throw Error(t(261));return Nt=null,Vt=0,Rt}function II(){for(;gt!==null;)ky(gt)}function SI(){for(;gt!==null&&!su();)ky(gt)}function ky(i){var s=Dy(i.alternate,i,vn);i.memoizedProps=i.pendingProps,s===null?Ny(i):gt=s,Xd.current=null}function Ny(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=gI(l,s,vn),l!==null){gt=l;return}}else{if(l=yI(l,s),l!==null){l.flags&=32767,gt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Rt=6,gt=null;return}}if(s=s.sibling,s!==null){gt=s;return}gt=s=i}while(s!==null);Rt===0&&(Rt=5)}function Is(i,s,l){var h=De,f=xn.transition;try{xn.transition=null,De=1,RI(i,s,l,h)}finally{xn.transition=f,De=h}return null}function RI(i,s,l,h){do jo();while(Ti!==null);if((Me&6)!==0)throw Error(t(327));l=i.finishedWork;var f=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(We(i,y),i===Nt&&(gt=Nt=null,Vt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ic||(ic=!0,by(Sn,function(){return jo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=xn.transition,xn.transition=null;var w=De;De=1;var R=Me;Me|=4,Xd.current=null,vI(i,l),Ey(l,i),q0(od),hi=!!sd,od=sd=null,i.current=l,EI(l),$h(),Me=R,De=w,xn.transition=y}else i.current=l;if(ic&&(ic=!1,Ti=i,sc=f),y=i.pendingLanes,y===0&&(wi=null),lu(l.stateNode),an(i,Ge()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(rc)throw rc=!1,i=ef,ef=null,i;return(sc&1)!==0&&i.tag!==0&&jo(),y=i.pendingLanes,(y&1)!==0?i===tf?sl++:(sl=0,tf=i):sl=0,yi(),null}function jo(){if(Ti!==null){var i=ui(sc),s=xn.transition,l=De;try{if(xn.transition=null,De=16>i?16:i,Ti===null)var h=!1;else{if(i=Ti,Ti=null,sc=0,(Me&6)!==0)throw Error(t(331));var f=Me;for(Me|=4,he=i.current;he!==null;){var y=he,w=y.child;if((he.flags&16)!==0){var R=y.deletions;if(R!==null){for(var D=0;D<R.length;D++){var $=R[D];for(he=$;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:nl(8,ee,y)}var te=ee.child;if(te!==null)te.return=ee,he=te;else for(;he!==null;){ee=he;var Z=ee.sibling,ue=ee.return;if(my(ee),ee===$){he=null;break}if(Z!==null){Z.return=ue,he=Z;break}he=ue}}}var de=y.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var ht=fe.sibling;fe.sibling=null,fe=ht}while(fe!==null)}}he=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,he=w;else e:for(;he!==null;){if(y=he,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:nl(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,he=B;break e}he=y.return}}var L=i.current;for(he=L;he!==null;){w=he;var z=w.child;if((w.subtreeFlags&2064)!==0&&z!==null)z.return=w,he=z;else e:for(w=L;he!==null;){if(R=he,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:ec(9,R)}}catch(ge){ot(R,R.return,ge)}if(R===w){he=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,he=re;break e}he=R.return}}if(Me=f,yi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(os,i)}catch{}h=!0}return h}finally{De=l,xn.transition=s}}return!1}function xy(i,s,l){s=Vo(l,s),s=Qg(i,s,1),i=vi(i,s,1),s=Yt(),i!==null&&(ai(i,1,s),an(i,s))}function ot(i,s,l){if(i.tag===3)xy(i,i,l);else for(;s!==null;){if(s.tag===3){xy(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(wi===null||!wi.has(h))){i=Vo(l,i),i=Jg(s,i,1),s=vi(s,i,1),i=Yt(),s!==null&&(ai(s,1,i),an(s,i));break}}s=s.return}}function AI(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=Yt(),i.pingedLanes|=i.suspendedLanes&l,Nt===i&&(Vt&l)===l&&(Rt===4||Rt===3&&(Vt&130023424)===Vt&&500>Ge()-Zd?Ts(i,0):Yd|=l),an(i,s)}function Oy(i,s){s===0&&((i.mode&1)===0?s=1:(s=lo,lo<<=1,(lo&130023424)===0&&(lo=4194304)));var l=Yt();i=zr(i,s),i!==null&&(ai(i,s,l),an(i,l))}function CI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Oy(i,l)}function PI(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,f=i.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Oy(i,l)}var Dy;Dy=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||nn.current)sn=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return sn=!1,mI(i,s,l);sn=(i.flags&131072)!==0}else sn=!1,tt&&(s.flags&1048576)!==0&&dg(s,Mu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Yu(i,s),i=s.pendingProps;var f=Po(s,jt.current);bo(s,l),f=Nd(null,s,h,i,f,l);var y=xd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,rn(h)?(y=!0,bu(s)):y=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Id(s),f.updater=Ju,s.stateNode=f,f._reactInternals=s,Md(s,h,i,l),s=Bd(null,s,h,!0,y,l)):(s.tag=0,tt&&y&&fd(s),Xt(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Yu(i,s),i=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=NI(h),i=Kn(h,i),f){case 0:s=jd(null,s,h,i,l);break e;case 1:s=sy(null,s,h,i,l);break e;case 11:s=ey(null,s,h,i,l);break e;case 14:s=ty(null,s,h,Kn(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Kn(h,f),jd(i,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Kn(h,f),sy(i,s,h,f,l);case 3:e:{if(oy(s),i===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,f=y.element,wg(i,s),$u(s,h,null,l);var w=s.memoizedState;if(h=w.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){f=Vo(Error(t(423)),s),s=ay(i,s,h,l,f);break e}else if(h!==f){f=Vo(Error(t(424)),s),s=ay(i,s,h,l,f);break e}else for(_n=pi(s.stateNode.containerInfo.firstChild),yn=s,tt=!0,Wn=null,l=vg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(xo(),h===f){s=Hr(i,s,l);break e}Xt(i,s,h,l)}s=s.child}return s;case 5:return Sg(s),i===null&&gd(s),h=s.type,f=s.pendingProps,y=i!==null?i.memoizedProps:null,w=f.children,ad(h,f)?w=null:y!==null&&ad(h,y)&&(s.flags|=32),iy(i,s),Xt(i,s,w,l),s.child;case 6:return i===null&&gd(s),null;case 13:return ly(i,s,l);case 4:return Sd(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Oo(s,null,h,l):Xt(i,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Kn(h,f),ey(i,s,h,f,l);case 7:return Xt(i,s,s.pendingProps,l),s.child;case 8:return Xt(i,s,s.pendingProps.children,l),s.child;case 12:return Xt(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,y=s.memoizedProps,w=f.value,Qe(ju,h._currentValue),h._currentValue=w,y!==null)if(qn(y.value,w)){if(y.children===f.children&&!nn.current){s=Hr(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var R=y.dependencies;if(R!==null){w=y.child;for(var D=R.firstContext;D!==null;){if(D.context===h){if(y.tag===1){D=$r(-1,l&-l),D.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var ee=$.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),$.pending=D}}y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),wd(y.return,l,s),R.lanes|=l;break}D=D.next}}else if(y.tag===10)w=y.type===s.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=l,R=w.alternate,R!==null&&(R.lanes|=l),wd(w,l,s),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===s){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Xt(i,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,bo(s,l),f=kn(f),h=h(f),s.flags|=1,Xt(i,s,h,l),s.child;case 14:return h=s.type,f=Kn(h,s.pendingProps),f=Kn(h.type,f),ty(i,s,h,f,l);case 15:return ny(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Kn(h,f),Yu(i,s),s.tag=1,rn(h)?(i=!0,bu(s)):i=!1,bo(s,l),Kg(s,h,f),Md(s,h,f,l),Bd(null,s,h,!0,i,l);case 19:return cy(i,s,l);case 22:return ry(i,s,l)}throw Error(t(156,s.tag))};function by(i,s){return oo(i,s)}function kI(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(i,s,l,h){return new kI(i,s,l,h)}function lf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function NI(i){if(typeof i=="function")return lf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===Et)return 14}return 2}function Ri(i,s){var l=i.alternate;return l===null?(l=On(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function uc(i,s,l,h,f,y){var w=2;if(h=i,typeof i=="function")lf(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case N:return Ss(l.children,f,y,s);case S:w=8,f|=8;break;case C:return i=On(12,l,s,f|2),i.elementType=C,i.lanes=y,i;case k:return i=On(13,l,s,f),i.elementType=k,i.lanes=y,i;case $e:return i=On(19,l,s,f),i.elementType=$e,i.lanes=y,i;case Ue:return cc(l,f,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:w=10;break e;case V:w=9;break e;case U:w=11;break e;case Et:w=14;break e;case qe:w=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=On(w,l,s,f),s.elementType=i,s.type=h,s.lanes=y,s}function Ss(i,s,l,h){return i=On(7,i,h,s),i.lanes=l,i}function cc(i,s,l,h){return i=On(22,i,h,s),i.elementType=Ue,i.lanes=l,i.stateNode={isHidden:!1},i}function uf(i,s,l){return i=On(6,i,null,s),i.lanes=l,i}function cf(i,s,l){return s=On(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function xI(i,s,l,h,f){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function hf(i,s,l,h,f,y,w,R,D){return i=new xI(i,s,l,R,D),s===1?(s=1,y===!0&&(s|=8)):s=0,y=On(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(y),i}function OI(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function Ly(i){if(!i)return gi;i=i._reactInternals;e:{if(Fn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(rn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(rn(l))return ug(i,l,s)}return s}function Vy(i,s,l,h,f,y,w,R,D){return i=hf(l,h,!0,i,f,y,w,R,D),i.context=Ly(null),l=i.current,h=Yt(),f=Ii(l),y=$r(h,f),y.callback=s??null,vi(l,y,f),i.current.lanes=f,ai(i,f,h),an(i,h),i}function hc(i,s,l,h){var f=s.current,y=Yt(),w=Ii(f);return l=Ly(l),s.context===null?s.context=l:s.pendingContext=l,s=$r(y,w),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=vi(f,s,w),i!==null&&(Jn(i,f,w,y),zu(i,f,w)),w}function dc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function My(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function df(i,s){My(i,s),(i=i.alternate)&&My(i,s)}function DI(){return null}var Fy=typeof reportError=="function"?reportError:function(i){console.error(i)};function ff(i){this._internalRoot=i}fc.prototype.render=ff.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));hc(i,s,null,null)},fc.prototype.unmount=ff.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ws(function(){hc(null,i,null,null)}),s[Fr]=null}};function fc(i){this._internalRoot=i}fc.prototype.unstable_scheduleHydration=function(i){if(i){var s=fu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<or.length&&s!==0&&s<or[l].priority;l++);or.splice(l,0,i),l===0&&gu(i)}};function pf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Uy(){}function bI(i,s,l,h,f){if(f){if(typeof h=="function"){var y=h;h=function(){var $=dc(w);y.call($)}}var w=Vy(s,h,i,0,null,!1,!1,"",Uy);return i._reactRootContainer=w,i[Fr]=w.current,$a(i.nodeType===8?i.parentNode:i),ws(),w}for(;f=i.lastChild;)i.removeChild(f);if(typeof h=="function"){var R=h;h=function(){var $=dc(D);R.call($)}}var D=hf(i,0,!1,null,null,!1,!1,"",Uy);return i._reactRootContainer=D,i[Fr]=D.current,$a(i.nodeType===8?i.parentNode:i),ws(function(){hc(s,D,l,h)}),D}function mc(i,s,l,h,f){var y=l._reactRootContainer;if(y){var w=y;if(typeof f=="function"){var R=f;f=function(){var D=dc(w);R.call(D)}}hc(s,w,i,f)}else w=bI(l,s,i,f,h);return dc(w)}hu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=si(s.pendingLanes);l!==0&&(li(s,l|1),an(s,Ge()),(Me&6)===0&&(Uo=Ge()+500,yi()))}break;case 13:ws(function(){var h=zr(i,1);if(h!==null){var f=Yt();Jn(h,i,1,f)}}),df(i,1)}},uo=function(i){if(i.tag===13){var s=zr(i,134217728);if(s!==null){var l=Yt();Jn(s,i,134217728,l)}df(i,134217728)}},du=function(i){if(i.tag===13){var s=Ii(i),l=zr(i,s);if(l!==null){var h=Yt();Jn(l,i,s,h)}df(i,s)}},fu=function(){return De},pu=function(i,s){var l=De;try{return De=i,s()}finally{De=l}},eo=function(i,s,l){switch(s){case"input":if(pa(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var f=Ou(h);if(!f)throw Error(t(90));Gs(h),pa(h,f)}}}break;case"textarea":Ys(i,l);break;case"select":s=l.value,s!=null&&Nr(i,!!l.multiple,s,!1)}},ts=sf,Sa=ws;var LI={usingClientEntryPoint:!1,Events:[Wa,Ao,Ou,ir,Ia,sf]},ol={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VI={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ca(i),i===null?null:i.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||DI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{os=gc.inject(VI),fn=gc}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LI,ln.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pf(s))throw Error(t(200));return OI(i,s,null,l)},ln.createRoot=function(i,s){if(!pf(i))throw Error(t(299));var l=!1,h="",f=Fy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=hf(i,1,!1,null,null,l,!1,h,f),i[Fr]=s.current,$a(i.nodeType===8?i.parentNode:i),new ff(s)},ln.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ca(s),i=i===null?null:i.stateNode,i},ln.flushSync=function(i){return ws(i)},ln.hydrate=function(i,s,l){if(!pc(s))throw Error(t(200));return mc(null,i,s,!0,l)},ln.hydrateRoot=function(i,s,l){if(!pf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,y="",w=Fy;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=Vy(s,null,i,1,l??null,f,!1,y,w),i[Fr]=s.current,$a(i),h)for(i=0;i<h.length;i++)l=h[i],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new fc(s)},ln.render=function(i,s,l){if(!pc(s))throw Error(t(200));return mc(null,i,s,!1,l)},ln.unmountComponentAtNode=function(i){if(!pc(i))throw Error(t(40));return i._reactRootContainer?(ws(function(){mc(null,null,i,!1,function(){i._reactRootContainer=null,i[Fr]=null})}),!0):!1},ln.unstable_batchedUpdates=sf,ln.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!pc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return mc(i,s,l,!1,h)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var Ky;function qI(){if(Ky)return yf.exports;Ky=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yf.exports=HI(),yf.exports}var Gy;function WI(){if(Gy)return yc;Gy=1;var n=qI();return yc.createRoot=n.createRoot,yc.hydrateRoot=n.hydrateRoot,yc}var KI=WI();const GI=Zv(KI);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qy="popstate";function QI(n={}){function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return Uf("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Sl(o)}return XI(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Sr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JI(){return Math.random().toString(36).substring(2,10)}function Jy(n,e){return{usr:n.state,key:n.key,idx:e}}function Uf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:t,key:e&&e.key||r||JI()}}function Sl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ia(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function XI(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d="POP",p=null,g=_();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function _(){return(u.state||{idx:null}).idx}function E(){d="POP";let P=_(),J=P==null?null:P-g;g=P,p&&p({action:d,location:b.location,delta:J})}function T(P,J){d="PUSH";let X=Uf(b.location,P,J);g=_()+1;let K=Jy(X,g),ie=b.createHref(X);try{u.pushState(K,"",ie)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(ie)}a&&p&&p({action:d,location:b.location,delta:1})}function x(P,J){d="REPLACE";let X=Uf(b.location,P,J);g=_();let K=Jy(X,g),ie=b.createHref(X);u.replaceState(K,"",ie),a&&p&&p({action:d,location:b.location,delta:0})}function A(P){return YI(P)}let b={get action(){return d},get location(){return n(o,u)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Qy,E),p=P,()=>{o.removeEventListener(Qy,E),p=null}},createHref(P){return e(o,P)},createURL:A,encodeLocation(P){let J=A(P);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:T,replace:x,go(P){return u.go(P)}};return b}function YI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Sl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function eE(n,e,t="/"){return ZI(n,e,t,!1)}function ZI(n,e,t,r){let o=typeof e=="string"?ia(e):e,a=Xr(o.pathname||"/",t);if(a==null)return null;let u=tE(n);eS(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let g=hS(a);d=uS(u[p],g,r)}return d}function tE(n,e=[],t=[],r="",o=!1){let a=(u,d,p=o,g)=>{let _={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&p)return;it(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let E=Gr([r,_.relativePath]),T=t.concat(_);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),tE(u.children,e,T,E,p)),!(u.path==null&&!u.index)&&e.push({path:E,score:aS(E,u.index),routesMeta:T})};return n.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))a(u,d);else for(let g of nE(u.path))a(u,d,!0,g)}),e}function nE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=nE(r.join("/")),d=[];return d.push(...u.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...u),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function eS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var tS=/^:[\w-]+$/,nS=3,rS=2,iS=1,sS=10,oS=-2,Xy=n=>n==="*";function aS(n,e){let t=n.split("/"),r=t.length;return t.some(Xy)&&(r+=oS),e&&(r+=rS),t.filter(o=>!Xy(o)).reduce((o,a)=>o+(tS.test(a)?nS:a===""?iS:sS),r)}function lS(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function uS(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let d=0;d<r.length;++d){let p=r[d],g=d===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=$c({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),T=p.route;if(!E&&g&&t&&!r[r.length-1].route.index&&(E=$c({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:Gr([a,E.pathname]),pathnameBase:mS(Gr([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=Gr([a,E.pathnameBase]))}return u}function $c(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=cS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:E},T)=>{if(_==="*"){let A=d[T]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const x=d[T];return E&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:u,pattern:n}}function cS(n,e=!1,t=!0){Sr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function hS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Xr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function fS(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?ia(n):n,a;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?a=Yy(t.substring(1),"/"):a=Yy(t,e)):a=e,{pathname:a,search:gS(r),hash:yS(o)}}function Yy(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ef(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rE(n){let e=pS(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function iE(n,e,t,r=!1){let o;typeof n=="string"?o=ia(n):(o={...n},it(!o.pathname||!o.pathname.includes("?"),Ef("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Ef("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Ef("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}d=E>=0?e[E]:"/"}let p=fS(o,d),g=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Gr=n=>n.join("/").replace(/\/\/+/g,"/"),mS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),gS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,_S=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function vS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function ES(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function oE(n,e){let t=n;if(typeof t!="string"||!dS.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,o=!1;if(sE)try{let a=new URL(window.location.href),u=t.startsWith("//")?new URL(a.protocol+t):new URL(t),d=Xr(u.pathname,e);u.origin===a.origin&&d!=null?t=d+u.search+u.hash:o=!0}catch{Sr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aE=["POST","PUT","PATCH","DELETE"];new Set(aE);var wS=["GET",...aE];new Set(wS);var sa=H.createContext(null);sa.displayName="DataRouter";var dh=H.createContext(null);dh.displayName="DataRouterState";var TS=H.createContext(!1),lE=H.createContext({isTransitioning:!1});lE.displayName="ViewTransition";var IS=H.createContext(new Map);IS.displayName="Fetchers";var SS=H.createContext(null);SS.displayName="Await";var Ln=H.createContext(null);Ln.displayName="Navigation";var Ll=H.createContext(null);Ll.displayName="Location";var Ar=H.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var Ip=H.createContext(null);Ip.displayName="RouteError";var uE="REACT_ROUTER_ERROR",RS="REDIRECT",AS="ROUTE_ERROR_RESPONSE";function CS(n){if(n.startsWith(`${uE}:${RS}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function PS(n){if(n.startsWith(`${uE}:${AS}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new _S(e.status,e.statusText,e.data)}catch{}}function kS(n,{relative:e}={}){it(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=H.useContext(Ln),{hash:o,pathname:a,search:u}=Ml(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Gr([t,a])),r.createHref({pathname:d,search:u,hash:o})}function Vl(){return H.useContext(Ll)!=null}function Bs(){return it(Vl(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Ll).location}var cE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hE(n){H.useContext(Ln).static||H.useLayoutEffect(n)}function zs(){let{isDataRoute:n}=H.useContext(Ar);return n?$S():NS()}function NS(){it(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(sa),{basename:e,navigator:t}=H.useContext(Ln),{matches:r}=H.useContext(Ar),{pathname:o}=Bs(),a=JSON.stringify(rE(r)),u=H.useRef(!1);return hE(()=>{u.current=!0}),H.useCallback((p,g={})=>{if(Sr(u.current,cE),!u.current)return;if(typeof p=="number"){t.go(p);return}let _=iE(p,JSON.parse(a),o,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Gr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,a,o,n])}H.createContext(null);function xS(){let{matches:n}=H.useContext(Ar),e=n[n.length-1];return e?e.params:{}}function Ml(n,{relative:e}={}){let{matches:t}=H.useContext(Ar),{pathname:r}=Bs(),o=JSON.stringify(rE(t));return H.useMemo(()=>iE(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function OS(n,e){return dE(n,e)}function dE(n,e,t,r,o){var X;it(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=H.useContext(Ln),{matches:u}=H.useContext(Ar),d=u[u.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",E=d&&d.route;{let K=E&&E.path||"";pE(g,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let T=Bs(),x;if(e){let K=typeof e=="string"?ia(e):e;it(_==="/"||((X=K.pathname)==null?void 0:X.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${K.pathname}" was given in the \`location\` prop.`),x=K}else x=T;let A=x.pathname||"/",b=A;if(_!=="/"){let K=_.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(K.length).join("/")}let P=eE(n,{pathname:b});Sr(E||P!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Sr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=MS(P&&P.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:Gr([_,a.encodeLocation?a.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?_:Gr([_,a.encodeLocation?a.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),u,t,r,o);return e&&J?H.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},J):J}function DS(){let n=zS(),e=vS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:a},"ErrorBoundary")," or"," ",H.createElement("code",{style:a},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,u)}var bS=H.createElement(DS,null),fE=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=PS(n.digest);t&&(n=t)}let e=n!==void 0?H.createElement(Ar.Provider,{value:this.props.routeContext},H.createElement(Ip.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?H.createElement(LS,{error:n},e):e}};fE.contextType=TS;var wf=new WeakMap;function LS({children:n,error:e}){let{basename:t}=H.useContext(Ln);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=CS(e.digest);if(r){let o=wf.get(e);if(o)throw o;let a=oE(r.location,t);if(sE&&!wf.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw wf.set(e,u),u}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function VS({routeContext:n,match:e,children:t}){let r=H.useContext(sa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Ar.Provider,{value:n},t)}function MS(n,e=[],t=null,r=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let _=a.findIndex(E=>E.route.id&&(u==null?void 0:u[E.route.id])!==void 0);it(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,_+1))}let d=!1,p=-1;if(t)for(let _=0;_<a.length;_++){let E=a[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=_),E.route.id){let{loaderData:T,errors:x}=t,A=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!x||x[E.route.id]===void 0);if(E.route.lazy||A){d=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}let g=t&&r?(_,E)=>{var T,x;r(_,{location:t.location,params:((x=(T=t.matches)==null?void 0:T[0])==null?void 0:x.params)??{},unstable_pattern:ES(t.matches),errorInfo:E})}:void 0;return a.reduceRight((_,E,T)=>{let x,A=!1,b=null,P=null;t&&(x=u&&E.route.id?u[E.route.id]:void 0,b=E.route.errorElement||bS,d&&(p<0&&T===0?(pE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,P=null):p===T&&(A=!0,P=E.route.hydrateFallbackElement||null)));let J=e.concat(a.slice(0,T+1)),X=()=>{let K;return x?K=b:A?K=P:E.route.Component?K=H.createElement(E.route.Component,null):E.route.element?K=E.route.element:K=_,H.createElement(VS,{match:E,routeContext:{outlet:_,matches:J,isDataRoute:t!=null},children:K})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?H.createElement(fE,{location:t.location,revalidation:t.revalidation,component:b,error:x,children:X(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:g}):X()},null)}function Sp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FS(n){let e=H.useContext(sa);return it(e,Sp(n)),e}function US(n){let e=H.useContext(dh);return it(e,Sp(n)),e}function jS(n){let e=H.useContext(Ar);return it(e,Sp(n)),e}function Rp(n){let e=jS(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BS(){return Rp("useRouteId")}function zS(){var r;let n=H.useContext(Ip),e=US("useRouteError"),t=Rp("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function $S(){let{router:n}=FS("useNavigate"),e=Rp("useNavigate"),t=H.useRef(!1);return hE(()=>{t.current=!0}),H.useCallback(async(o,a={})=>{Sr(t.current,cE),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Zy={};function pE(n,e,t){!e&&!Zy[n]&&(Zy[n]=!0,Sr(!1,t))}H.memo(HS);function HS({routes:n,future:e,state:t,onError:r}){return dE(n,void 0,t,r,e)}function Bo(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qS({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1,unstable_useTransitions:u}){it(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=H.useMemo(()=>({basename:d,navigator:o,static:a,unstable_useTransitions:u,future:{}}),[d,o,a,u]);typeof t=="string"&&(t=ia(t));let{pathname:g="/",search:_="",hash:E="",state:T=null,key:x="default"}=t,A=H.useMemo(()=>{let b=Xr(g,d);return b==null?null:{location:{pathname:b,search:_,hash:E,state:T,key:x},navigationType:r}},[d,g,_,E,T,x,r]);return Sr(A!=null,`<Router basename="${d}"> is not able to match the URL "${g}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:H.createElement(Ln.Provider,{value:p},H.createElement(Ll.Provider,{children:e,value:A}))}function WS({children:n,location:e}){return OS(jf(n),e)}function jf(n,e=[]){let t=[];return H.Children.forEach(n,(r,o)=>{if(!H.isValidElement(r))return;let a=[...e,o];if(r.type===H.Fragment){t.push.apply(t,jf(r.props.children,a));return}it(r.type===Bo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=jf(r.props.children,a)),t.push(u)}),t}var Pc="get",kc="application/x-www-form-urlencoded";function fh(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function KS(n){return fh(n)&&n.tagName.toLowerCase()==="button"}function GS(n){return fh(n)&&n.tagName.toLowerCase()==="form"}function QS(n){return fh(n)&&n.tagName.toLowerCase()==="input"}function JS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XS(n,e){return n.button===0&&(!e||e==="_self")&&!JS(n)}var _c=null;function YS(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var ZS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(n){return n!=null&&!ZS.has(n)?(Sr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):n}function eR(n,e){let t,r,o,a,u;if(GS(n)){let d=n.getAttribute("action");r=d?Xr(d,e):null,t=n.getAttribute("method")||Pc,o=Tf(n.getAttribute("enctype"))||kc,a=new FormData(n)}else if(KS(n)||QS(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(r=p?Xr(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Pc,o=Tf(n.getAttribute("formenctype"))||Tf(d.getAttribute("enctype"))||kc,a=new FormData(d,n),!YS()){let{name:g,type:_,value:E}=n;if(_==="image"){let T=g?`${g}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else g&&a.append(g,E)}}else{if(fh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Pc,r=null,o=kc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ap(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tR(n,e,t,r){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Xr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function nR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function iR(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await nR(a,t);return u.links?u.links():[]}return[]}));return lR(r.flat(1).filter(rR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function e_(n,e,t,r,o,a){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,g)=>u(p,g)||d(p,g)):a==="data"?e.filter((p,g)=>{var E;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(u(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function sR(n,e,{includeHydrateFallback:t}={}){return oR(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function oR(n){return[...new Set(n)]}function aR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function lR(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(aR(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function mE(){let n=H.useContext(sa);return Ap(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function uR(){let n=H.useContext(dh);return Ap(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Cp=H.createContext(void 0);Cp.displayName="FrameworkContext";function gE(){let n=H.useContext(Cp);return Ap(n,"You must render this element inside a <HydratedRouter> element"),n}function cR(n,e){let t=H.useContext(Cp),[r,o]=H.useState(!1),[a,u]=H.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:E}=e,T=H.useRef(null);H.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let b=J=>{J.forEach(X=>{u(X.isIntersecting)})},P=new IntersectionObserver(b,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[n]),H.useEffect(()=>{if(r){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[r]);let x=()=>{o(!0)},A=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:ll(d,x),onBlur:ll(p,A),onMouseEnter:ll(g,x),onMouseLeave:ll(_,A),onTouchStart:ll(E,x)}]:[!1,T,{}]}function ll(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function hR({page:n,...e}){let{router:t}=mE(),r=H.useMemo(()=>eE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?H.createElement(fR,{page:n,matches:r,...e}):null}function dR(n){let{manifest:e,routeModules:t}=gE(),[r,o]=H.useState([]);return H.useEffect(()=>{let a=!1;return iR(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function fR({page:n,matches:e,...t}){let r=Bs(),{future:o,manifest:a,routeModules:u}=gE(),{basename:d}=mE(),{loaderData:p,matches:g}=uR(),_=H.useMemo(()=>e_(n,e,g,a,r,"data"),[n,e,g,a,r]),E=H.useMemo(()=>e_(n,e,g,a,r,"assets"),[n,e,g,a,r]),T=H.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,P=!1;if(e.forEach(X=>{var ie;let K=a.routes[X.route.id];!K||!K.hasLoader||(!_.some(pe=>pe.route.id===X.route.id)&&X.route.id in p&&((ie=u[X.route.id])!=null&&ie.shouldRevalidate)||K.hasClientLoader?P=!0:b.add(X.route.id))}),b.size===0)return[];let J=tR(n,d,o.unstable_trailingSlashAwareDataRequests,"data");return P&&b.size>0&&J.searchParams.set("_routes",e.filter(X=>b.has(X.route.id)).map(X=>X.route.id).join(",")),[J.pathname+J.search]},[d,o.unstable_trailingSlashAwareDataRequests,p,r,a,_,e,n,u]),x=H.useMemo(()=>sR(E,a),[E,a]),A=dR(E);return H.createElement(H.Fragment,null,T.map(b=>H.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),x.map(b=>H.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),A.map(({key:b,link:P})=>H.createElement("link",{key:b,nonce:t.nonce,...P,crossOrigin:P.crossOrigin??t.crossOrigin})))}function pR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mR&&(window.__reactRouterVersion="7.13.0")}catch{}function gR({basename:n,children:e,unstable_useTransitions:t,window:r}){let o=H.useRef();o.current==null&&(o.current=QI({window:r,v5Compat:!0}));let a=o.current,[u,d]=H.useState({action:a.action,location:a.location}),p=H.useCallback(g=>{t===!1?d(g):H.startTransition(()=>d(g))},[t]);return H.useLayoutEffect(()=>a.listen(p),[a,p]),H.createElement(qS,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:t})}var yE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,As=H.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:d,target:p,to:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:T,...x},A){let{basename:b,unstable_useTransitions:P}=H.useContext(Ln),J=typeof g=="string"&&yE.test(g),X=oE(g,b);g=X.to;let K=kS(g,{relative:o}),[ie,pe,ne]=cR(r,x),N=ER(g,{replace:u,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:T,unstable_useTransitions:P});function S(O){e&&e(O),O.defaultPrevented||N(O)}let C=H.createElement("a",{...x,...ne,href:X.absoluteURL||K,onClick:X.isExternal||a?e:S,ref:pR(A,pe),target:p,"data-discover":!J&&t==="render"?"true":void 0});return ie&&!J?H.createElement(H.Fragment,null,C,H.createElement(hR,{page:K})):C});As.displayName="Link";var yR=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:d,children:p,...g},_){let E=Ml(u,{relative:g.relative}),T=Bs(),x=H.useContext(dh),{navigator:A,basename:b}=H.useContext(Ln),P=x!=null&&RR(E)&&d===!0,J=A.encodeLocation?A.encodeLocation(E).pathname:E.pathname,X=T.pathname,K=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(X=X.toLowerCase(),K=K?K.toLowerCase():null,J=J.toLowerCase()),K&&b&&(K=Xr(K,b)||K);const ie=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let pe=X===J||!o&&X.startsWith(J)&&X.charAt(ie)==="/",ne=K!=null&&(K===J||!o&&K.startsWith(J)&&K.charAt(J.length)==="/"),N={isActive:pe,isPending:ne,isTransitioning:P},S=pe?e:void 0,C;typeof r=="function"?C=r(N):C=[r,pe?"active":null,ne?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(N):a;return H.createElement(As,{...g,"aria-current":S,className:C,ref:_,style:O,to:u,viewTransition:d},typeof p=="function"?p(N):p)});yR.displayName="NavLink";var _R=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=Pc,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:T,...x},A)=>{let{unstable_useTransitions:b}=H.useContext(Ln),P=IR(),J=SR(d,{relative:g}),X=u.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&yE.test(d),ie=pe=>{if(p&&p(pe),pe.defaultPrevented)return;pe.preventDefault();let ne=pe.nativeEvent.submitter,N=(ne==null?void 0:ne.getAttribute("formmethod"))||u,S=()=>P(ne||pe.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:o,state:a,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:T});b&&t!==!1?H.startTransition(()=>S()):S()};return H.createElement("form",{ref:A,method:X,action:J,onSubmit:r?p:ie,...x,"data-discover":!K&&n==="render"?"true":void 0})});_R.displayName="Form";function vR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _E(n){let e=H.useContext(sa);return it(e,vR(n)),e}function ER(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=zs(),_=Bs(),E=Ml(n,{relative:a});return H.useCallback(T=>{if(XS(T,e)){T.preventDefault();let x=t!==void 0?t:Sl(_)===Sl(E),A=()=>g(n,{replace:x,state:r,preventScrollReset:o,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d});p?H.startTransition(()=>A()):A()}},[_,g,E,t,r,e,n,o,a,u,d,p])}var wR=0,TR=()=>`__${String(++wR)}__`;function IR(){let{router:n}=_E("useSubmit"),{basename:e}=H.useContext(Ln),t=BS(),r=n.fetch,o=n.navigate;return H.useCallback(async(a,u={})=>{let{action:d,method:p,encType:g,formData:_,body:E}=eR(a,e);if(u.navigate===!1){let T=u.fetcherKey||TR();await r(T,t,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:E,formMethod:u.method||p,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:_,body:E,formMethod:u.method||p,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,o,e,t])}function SR(n,{relative:e}={}){let{basename:t}=H.useContext(Ln),r=H.useContext(Ar);it(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Ml(n||".",{relative:e})},u=Bs();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Gr([t,a.pathname])),Sl(a)}function RR(n,{relative:e}={}){let t=H.useContext(lE);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_E("useViewTransitionState"),o=Ml(n,{relative:e});if(!t.isTransitioning)return!1;let a=Xr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Xr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $c(o.pathname,u)!=null||$c(o.pathname,a)!=null}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=()=>{};var t_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},CR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},EE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,_=a>>2,E=(a&3)<<4|d>>4;let T=(d&15)<<2|g>>6,x=g&63;p||(x=64,u||(T=64)),r.push(t[_],t[E],t[T],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||g==null||E==null)throw new PR;const T=a<<2|d>>4;if(r.push(T),g!==64){const x=d<<4&240|g>>2;if(r.push(x),E!==64){const A=g<<6&192|E;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class PR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kR=function(n){const e=vE(n);return EE.encodeByteArray(e,!0)},Hc=function(n){return kR(n).replace(/\./g,"")},wE=function(n){try{return EE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=()=>NR().__FIREBASE_DEFAULTS__,OR=()=>{if(typeof process>"u"||typeof t_>"u")return;const n=t_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&wE(n[1]);return e&&JSON.parse(e)},ph=()=>{try{return AR()||xR()||OR()||DR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TE=n=>{var e,t;return(t=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},IE=n=>{const e=TE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},SE=()=>{var n;return(n=ph())===null||n===void 0?void 0:n.config},RE=n=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hc(JSON.stringify(t)),Hc(JSON.stringify(u)),""].join(".")}const yl={};function LR(){const n={prod:[],emulator:[]};for(const e of Object.keys(yl))yl[e]?n.emulator.push(e):n.prod.push(e);return n}function VR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let n_=!1;function kp(n,e){if(typeof window>"u"||typeof document>"u"||!Wi(window.location.host)||yl[n]===e||yl[n]||n_)return;yl[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=LR().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{n_=!0,u()},T}function _(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=VR(r),x=t("text"),A=document.getElementById(x)||document.createElement("span"),b=t("learnmore"),P=document.getElementById(b)||document.createElement("a"),J=t("preprendIcon"),X=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;d(K),_(P,b);const ie=g();p(X,J),K.append(X,A,P,ie),document.body.appendChild(K)}a?(A.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function FR(){var n;const e=(n=ph())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zR(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $R(){return!FR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HR(){try{return typeof indexedDB=="object"}catch{return!1}}function qR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="FirebaseError";class Cr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=WR,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?KR(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Cr(o,d,r)}}function KR(n,e){return n.replace(GR,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const GR=/\{\$([^}]+)}/g;function QR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Os(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(r_(a)&&r_(u)){if(!Os(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function r_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function dl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function JR(n,e){const t=new XR(n,e);return t.subscribe.bind(t)}class XR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");YR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=If),o.error===void 0&&(o.error=If),o.complete===void 0&&(o.complete=If);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function If(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n){return n&&n._delegate?n._delegate:n}class Fi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new bR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tA(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eA(n){return n===Rs?void 0:n}function tA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ZR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xe||(xe={}));const rA={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},iA=xe.INFO,sA={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},oA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=sA[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Np{constructor(e){this.name=e,this._logLevel=iA,this._logHandler=oA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const aA=(n,e)=>e.some(t=>n instanceof t);let i_,s_;function lA(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return s_||(s_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,Bf=new WeakMap,PE=new WeakMap,Sf=new WeakMap,xp=new WeakMap;function cA(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(bi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&CE.set(t,n)}).catch(()=>{}),xp.set(e,n),e}function hA(n){if(Bf.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Bf.set(n,e)}let zf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Bf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||PE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dA(n){zf=n(zf)}function fA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Rf(this),e,...t);return PE.set(r,e.sort?e.sort():[e]),bi(r)}:uA().includes(n)?function(...e){return n.apply(Rf(this),e),bi(CE.get(this))}:function(...e){return bi(n.apply(Rf(this),e))}}function pA(n){return typeof n=="function"?fA(n):(n instanceof IDBTransaction&&hA(n),aA(n,lA())?new Proxy(n,zf):n)}function bi(n){if(n instanceof IDBRequest)return cA(n);if(Sf.has(n))return Sf.get(n);const e=pA(n);return e!==n&&(Sf.set(n,e),xp.set(e,n)),e}const Rf=n=>xp.get(n);function mA(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=bi(u);return r&&u.addEventListener("upgradeneeded",p=>{r(bi(u.result),p.oldVersion,p.newVersion,bi(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const gA=["get","getKey","getAll","getAllKeys","count"],yA=["put","add","delete","clear"],Af=new Map;function o_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=yA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||gA.includes(t)))return;const a=async function(u,...d){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Af.set(e,a),a}dA(n=>({...n,get:(e,t,r)=>o_(e,t)||n.get(e,t,r),has:(e,t)=>!!o_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function vA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $f="@firebase/app",a_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new Np("@firebase/app"),EA="@firebase/app-compat",wA="@firebase/analytics-compat",TA="@firebase/analytics",IA="@firebase/app-check-compat",SA="@firebase/app-check",RA="@firebase/auth",AA="@firebase/auth-compat",CA="@firebase/database",PA="@firebase/data-connect",kA="@firebase/database-compat",NA="@firebase/functions",xA="@firebase/functions-compat",OA="@firebase/installations",DA="@firebase/installations-compat",bA="@firebase/messaging",LA="@firebase/messaging-compat",VA="@firebase/performance",MA="@firebase/performance-compat",FA="@firebase/remote-config",UA="@firebase/remote-config-compat",jA="@firebase/storage",BA="@firebase/storage-compat",zA="@firebase/firestore",$A="@firebase/ai",HA="@firebase/firestore-compat",qA="firebase",WA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="[DEFAULT]",KA={[$f]:"fire-core",[EA]:"fire-core-compat",[TA]:"fire-analytics",[wA]:"fire-analytics-compat",[SA]:"fire-app-check",[IA]:"fire-app-check-compat",[RA]:"fire-auth",[AA]:"fire-auth-compat",[CA]:"fire-rtdb",[PA]:"fire-data-connect",[kA]:"fire-rtdb-compat",[NA]:"fire-fn",[xA]:"fire-fn-compat",[OA]:"fire-iid",[DA]:"fire-iid-compat",[bA]:"fire-fcm",[LA]:"fire-fcm-compat",[VA]:"fire-perf",[MA]:"fire-perf-compat",[FA]:"fire-rc",[UA]:"fire-rc-compat",[jA]:"fire-gcs",[BA]:"fire-gcs-compat",[zA]:"fire-fst",[HA]:"fire-fst-compat",[$A]:"fire-vertex","fire-js":"fire-js",[qA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,GA=new Map,qf=new Map;function l_(n,e){try{n.container.addComponent(e)}catch(t){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ds(n){const e=n.name;if(qf.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,n);for(const t of qc.values())l_(t,n);for(const t of GA.values())l_(t,n);return!0}function mh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function En(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Fl("app","Firebase",QA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=WA;function kE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hf,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw Li.create("bad-app-name",{appName:String(o)});if(t||(t=SE()),!t)throw Li.create("no-options");const a=qc.get(o);if(a){if(Os(t,a.options)&&Os(r,a.config))return a;throw Li.create("duplicate-app",{appName:o})}const u=new nA(o);for(const p of qf.values())u.addComponent(p);const d=new JA(t,r,u);return qc.set(o,d),d}function Op(n=Hf){const e=qc.get(n);if(!e&&n===Hf&&SE())return kE();if(!e)throw Li.create("no-app",{appName:n});return e}function yr(n,e,t){var r;let o=(r=KA[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(d.join(" "));return}Ds(new Fi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firebase-heartbeat-database",YA=1,Rl="firebase-heartbeat-store";let Cf=null;function NE(){return Cf||(Cf=mA(XA,YA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Li.create("idb-open",{originalErrorMessage:n.message})})),Cf}async function ZA(n){try{const t=(await NE()).transaction(Rl),r=await t.objectStore(Rl).get(xE(n));return await t.done,r}catch(e){if(e instanceof Cr)Yr.warn(e.message);else{const t=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yr.warn(t.message)}}}async function u_(n,e){try{const r=(await NE()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,xE(n)),await r.done}catch(t){if(t instanceof Cr)Yr.warn(t.message);else{const r=Li.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Yr.warn(r.message)}}}function xE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=1024,tC=30;class nC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=c_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>tC){const u=sC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=c_(),{heartbeatsToSend:r,unsentEntries:o}=rC(this._heartbeatsCache.heartbeats),a=Hc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Yr.warn(t),""}}}function c_(){return new Date().toISOString().substring(0,10)}function rC(n,e=eC){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),h_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),h_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class iC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HR()?qR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ZA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return u_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return u_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function h_(n){return Hc(JSON.stringify({version:2,heartbeats:n})).length}function sC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(n){Ds(new Fi("platform-logger",e=>new _A(e),"PRIVATE")),Ds(new Fi("heartbeat",e=>new nC(e),"PRIVATE")),yr($f,a_,n),yr($f,a_,"esm2017"),yr("fire-js","")}oC("");function Dp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=OE,DE=new Fl("auth","Firebase",OE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Np("@firebase/auth");function lC(n,...e){Wc.logLevel<=xe.WARN&&Wc.warn(`Auth (${$s}): ${n}`,...e)}function Nc(n,...e){Wc.logLevel<=xe.ERROR&&Wc.error(`Auth (${$s}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(n,...e){throw bp(n,...e)}function _r(n,...e){return bp(n,...e)}function bE(n,e,t){const r=Object.assign(Object.assign({},aC()),{[e]:t});return new Fl("auth","Firebase",r).create(e,{appName:n.name})}function Qr(n){return bE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return DE.create(n,...e)}function we(n,e,...t){if(!n)throw bp(e,...t)}function Wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nc(e),new Error(e)}function Zr(n,e){n||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function uC(){return d_()==="http:"||d_()==="https:"}function d_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uC()||jR()||"connection"in navigator)?navigator.onLine:!0}function hC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zr(t>e,"Short delay should be less than long delay!"),this.isMobile=MR()||BR()}get(){return cC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n,e){Zr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pC=new jl(3e4,6e4);function Ki(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gi(n,e,t,r,o={}){return VE(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Ul(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},a);return UR()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Wi(n.emulatorConfig.host)&&(g.credentials="include"),LE.fetch()(await ME(n,n.config.apiHost,t,d),g)})}async function VE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},dC),e);try{const o=new gC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw vc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw vc(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw vc(n,"user-disabled",u);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bE(n,_,g);Zn(n,_)}}catch(o){if(o instanceof Cr)throw o;Zn(n,"network-request-failed",{message:String(o)})}}async function Bl(n,e,t,r,o={}){const a=await Gi(n,e,t,r,o);return"mfaPendingCredential"in a&&Zn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function ME(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?Lp(n.config,o):`${n.config.apiScheme}://${o}`;return fC.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function mC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),pC.get())})}}function vc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=_r(n,e,r);return o.customData._tokenResponse=t,o}function f_(n){return n!==void 0&&n.enterprise!==void 0}class yC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return mC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _C(n,e){return Gi(n,"GET","/v2/recaptchaConfig",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n,e){return Gi(n,"POST","/v1/accounts:delete",e)}async function Kc(n,e){return Gi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EC(n,e=!1){const t=at(n),r=await t.getIdToken(e),o=Vp(r);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:_l(Pf(o.auth_time)),issuedAtTime:_l(Pf(o.iat)),expirationTime:_l(Pf(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Pf(n){return Number(n)*1e3}function Vp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=wE(t);return o?JSON.parse(o):(Nc("Failed to decode base64 JWT payload"),null)}catch(o){return Nc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function p_(n){const e=Vp(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Cr&&wC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function wC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Al(n,Kc(t,{idToken:r}));we(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?FE(a.providerUserInfo):[],d=SC(n.providerData,u),p=n.isAnonymous,g=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=p?g:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Kf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function IC(n){const e=at(n);await Gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SC(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function FE(n){return n.map(e=>{var{providerId:t}=e,r=Dp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(n,e){const t=await VE(n,{},async()=>{const r=Ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await ME(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return n.emulatorConfig&&Wi(n.emulatorConfig.host)&&(p.credentials="include"),LE.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AC(n,e){return Gi(n,"POST","/v2/accounts:revokeToken",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=p_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await RC(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Ko;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(we(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(we(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Xn{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Al(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return EC(this,e)}reload(){return IC(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Gc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Al(this,vC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,d,p,g,_;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,x=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,b=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,J=(g=t.createdAt)!==null&&g!==void 0?g:void 0,X=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:K,emailVerified:ie,isAnonymous:pe,providerData:ne,stsTokenManager:N}=t;we(K&&N,e,"internal-error");const S=Ko.fromJSON(this.name,N);we(typeof K=="string",e,"internal-error"),Ci(E,e.name),Ci(T,e.name),we(typeof ie=="boolean",e,"internal-error"),we(typeof pe=="boolean",e,"internal-error"),Ci(x,e.name),Ci(A,e.name),Ci(b,e.name),Ci(P,e.name),Ci(J,e.name),Ci(X,e.name);const C=new Xn({uid:K,auth:e,email:T,emailVerified:ie,displayName:E,isAnonymous:pe,photoURL:A,phoneNumber:x,tenantId:b,stsTokenManager:S,createdAt:J,lastLoginAt:X});return ne&&Array.isArray(ne)&&(C.providerData=ne.map(O=>Object.assign({},O))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,r=!1){const o=new Ko;o.updateFromServerResponse(t);const a=new Xn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Gc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];we(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?FE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Ko;d.updateFromIdToken(r);const p=new Xn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Kf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;function Kr(n){Zr(n instanceof Function,"Expected a class definition");let e=m_.get(n);return e?(Zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,m_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}UE.type="NONE";const g_=UE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n,e,t){return`firebase:${n}:${e}:${t}`}class Go{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=xc(this.userKey,o.apiKey,a),this.fullPersistenceKey=xc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Kc(this.auth,{idToken:e}).catch(()=>{});return t?Xn._fromGetAccountInfoResponse(this.auth,t,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Go(Kr(g_),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||Kr(g_);const u=xc(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(u);if(_){let E;if(typeof _=="string"){const T=await Kc(e,{idToken:_}).catch(()=>{});if(!T)break;E=await Xn._fromGetAccountInfoResponse(e,T,_)}else E=Xn._fromJSON(e,_);g!==a&&(d=E),a=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Go(a,e,r):(a=p[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(u)}catch{}})),new Go(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($E(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qE(e))return"Blackberry";if(WE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||zE(e))&&!e.includes("edge/"))return"Chrome";if(HE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jE(n=Gt()){return/firefox\//i.test(n)}function BE(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zE(n=Gt()){return/crios\//i.test(n)}function $E(n=Gt()){return/iemobile/i.test(n)}function HE(n=Gt()){return/android/i.test(n)}function qE(n=Gt()){return/blackberry/i.test(n)}function WE(n=Gt()){return/webos/i.test(n)}function Mp(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CC(n=Gt()){var e;return Mp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PC(){return zR()&&document.documentMode===10}function KE(n=Gt()){return Mp(n)||HE(n)||WE(n)||qE(n)||/windows phone/i.test(n)||$E(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n,e=[]){let t;switch(n){case"Browser":t=y_(Gt());break;case"Worker":t=`${y_(Gt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const p=e(a);u(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(n,e={}){return Gi(n,"GET","/v2/passwordPolicy",Ki(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=6;class OC{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:xC,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new kC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kr(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kc(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(En(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(Qr(this));const t=e?at(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NC(this),t=new OC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await AC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Kr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&lC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Hs(n){return at(n)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=JR(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bC(n){gh=n}function QE(n){return gh.loadJS(n)}function LC(){return gh.recaptchaEnterpriseScript}function VC(){return gh.gapiScript}function MC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class FC{constructor(){this.enterprise=new UC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class UC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jC="recaptcha-enterprise",JE="NO_RECAPTCHA";class BC{constructor(e){this.type=jC,this.auth=Hs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{_C(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new yC(p);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,u(g.siteKey)}}).catch(p=>{d(p)})})}function o(a,u,d){const p=window.grecaptcha;f_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(g=>{u(g)}).catch(()=>{u(JE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FC().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&f_(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=LC();p.length!==0&&(p+=d),QE(p).then(()=>{o(d,a,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function v_(n,e,t,r=!1,o=!1){const a=new BC(n);let u;if(o)u=JE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Gf(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await v_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await v_(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n,e){const t=mh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Os(a,e??{}))return o;Zn(o,"already-initialized")}return t.initialize({options:e})}function $C(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Kr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HC(n,e,t){const r=Hs(n);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=XE(e),{host:u,port:d}=qC(e),p=d===null?"":`:${d}`,g={url:`${a}//${u}${p}/`},_=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Os(g,r.config.emulator)&&Os(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Wi(u)?(Pp(`${a}//${u}${p}`),kp("Auth",!0)):WC()}function XE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function qC(n){const e=XE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:E_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:E_(u)}}}function E_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function WC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function KC(n,e){return Gi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(n,e){return Bl(n,"POST","/v1/accounts:signInWithPassword",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(n,e){return Bl(n,"POST","/v1/accounts:signInWithEmailLink",Ki(n,e))}async function JC(n,e){return Bl(n,"POST","/v1/accounts:signInWithEmailLink",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Fp{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Cl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Cl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gf(e,t,"signInWithPassword",GC);case"emailLink":return QC(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gf(e,r,"signUpPassword",KC);case"emailLink":return JC(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n,e){return Bl(n,"POST","/v1/accounts:signInWithIdp",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="http://localhost";class bs extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Dp(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new bs(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Qo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Qo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}buildRequest(){const e={requestUri:XC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ul(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZC(n){const e=hl(dl(n)).link,t=e?hl(dl(e)).deep_link_id:null,r=hl(dl(n)).deep_link_id;return(r?hl(dl(r)).link:null)||r||t||e||n}class Up{constructor(e){var t,r,o,a,u,d;const p=hl(dl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(r=p.oobCode)!==null&&r!==void 0?r:null,E=YC((o=p.mode)!==null&&o!==void 0?o:null);we(g&&_&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=p.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=ZC(e);try{return new Up(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,t){return Cl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Up.parseLink(t);return we(r,"argument-error"),Cl._fromEmailAndCode(e,r.code,r.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends YE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends zl{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ki.credential(t,r)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends zl{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends zl{constructor(){super("twitter.com")}static credential(e,t){return bs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return xi.credential(t,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(n,e){return Bl(n,"POST","/v1/accounts:signUp",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Xn._fromIdTokenResponse(e,r,o),u=w_(r);return new Ls({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=w_(r);return new Ls({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function w_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Cr{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Qc(e,t,r,o)}}function ZE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(n,a,e,r):a})}async function t1(n,e,t=!1){const r=await Al(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ls._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(n,e,t=!1){const{auth:r}=n;if(En(r.app))return Promise.reject(Qr(r));const o="reauthenticate";try{const a=await Al(n,ZE(r,o,e,n),t);we(a.idToken,r,"internal-error");const u=Vp(a.idToken);we(u,r,"internal-error");const{sub:d}=u;return we(n.uid===d,r,"user-mismatch"),Ls._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Zn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(n,e,t=!1){if(En(n.app))return Promise.reject(Qr(n));const r="signIn",o=await ZE(n,r,e),a=await Ls._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function r1(n,e){return ew(Hs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(n){const e=Hs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i1(n,e,t){if(En(n.app))return Promise.reject(Qr(n));const r=Hs(n),u=await Gf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&tw(n),p}),d=await Ls._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function s1(n,e,t){return En(n.app)?Promise.reject(Qr(n)):r1(at(n),oa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tw(n),r})}function o1(n,e,t,r){return at(n).onIdTokenChanged(e,t,r)}function a1(n,e,t){return at(n).beforeAuthStateChanged(e,t)}function l1(n,e,t,r){return at(n).onAuthStateChanged(e,t,r)}function u1(n){return at(n).signOut()}const Jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=1e3,h1=10;class rw extends nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);PC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,h1):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},c1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rw.type="LOCAL";const d1=rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iw.type="SESSION";const sw=iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async g=>g(t.origin,a)),p=await f1(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,p)=>{const g=jp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function m1(n){vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function g1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _1(){return ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebaseLocalStorageDb",v1=1,Xc="firebaseLocalStorage",lw="fbase_key";class $l{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _h(n,e){return n.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function E1(){const n=indexedDB.deleteDatabase(aw);return new $l(n).toPromise()}function Qf(){const n=indexedDB.open(aw,v1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Xc,{keyPath:lw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Xc)?e(r):(r.close(),await E1(),e(await Qf()))})})}async function T_(n,e,t){const r=_h(n,!0).put({[lw]:e,value:t});return new $l(r).toPromise()}async function w1(n,e){const t=_h(n,!1).get(e),r=await new $l(t).toPromise();return r===void 0?null:r.value}function I_(n,e){const t=_h(n,!0).delete(e);return new $l(t).toPromise()}const T1=800,I1=3;class uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>I1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(_1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await g1(),!this.activeServiceWorker)return;this.sender=new p1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qf();return await T_(e,Jc,"1"),await I_(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>T_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>w1(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>I_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=_h(o,!1).getAll();return new $l(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uw.type="LOCAL";const S1=uw;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(n,e){return e?Kr(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function A1(n){return ew(n.auth,new Bp(n),n.bypassAuthState)}function C1(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),n1(t,new Bp(n),n.bypassAuthState)}async function P1(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),t1(t,new Bp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A1;case"linkViaPopup":case"linkViaRedirect":return P1;case"reauthViaPopup":case"reauthViaRedirect":return C1;default:Zn(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new jl(2e3,1e4);class Wo extends cw{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k1.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="pendingRedirect",Oc=new Map;class x1 extends cw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const r=await O1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O1(n,e){const t=L1(e),r=b1(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function D1(n,e){Oc.set(n._key(),e)}function b1(n){return Kr(n._redirectPersistence)}function L1(n){return xc(N1,n.config.apiKey,n.name)}async function V1(n,e,t=!1){if(En(n.app))return Promise.reject(Qr(n));const r=Hs(n),o=R1(r,e),u=await new x1(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=600*1e3;class F1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!hw(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(_r(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M1&&this.cachedEventUids.clear(),this.cachedEventUids.has(S_(e))}saveEventToCache(e){this.cachedEventUids.add(S_(e)),this.lastProcessedEventTime=Date.now()}}function S_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(n,e={}){return Gi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z1=/^https?/;async function $1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await j1(n);for(const t of e)try{if(H1(t))return}catch{}Zn(n,"unauthorized-domain")}function H1(n){const e=Wf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!z1.test(t))return!1;if(B1.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new jl(3e4,6e4);function R_(){const n=vr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function W1(n){return new Promise((e,t)=>{var r,o,a;function u(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),t(_r(n,"network-request-failed"))},timeout:q1.get()})}if(!((o=(r=vr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=vr().gapi)===null||a===void 0)&&a.load)u();else{const d=MC("iframefcb");return vr()[d]=()=>{gapi.load?u():t(_r(n,"network-request-failed"))},QE(`${VC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function K1(n){return Dc=Dc||W1(n),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new jl(5e3,15e3),Q1="__/auth/iframe",J1="emulator/auth/iframe",X1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z1(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lp(e,J1):`https://${n.config.authDomain}/${Q1}`,r={apiKey:e.apiKey,appName:n.name,v:$s},o=Y1.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ul(r).slice(1)}`}async function eP(n){const e=await K1(n),t=vr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:Z1(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X1,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=_r(n,"network-request-failed"),d=vr().setTimeout(()=>{a(u)},G1.get());function p(){vr().clearTimeout(d),o(r)}r.ping(p).then(p,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nP=500,rP=600,iP="_blank",sP="http://localhost";class A_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oP(n,e,t,r=nP,o=rP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p=Object.assign(Object.assign({},tP),{width:r.toString(),height:o.toString(),top:a,left:u}),g=Gt().toLowerCase();t&&(d=zE(g)?iP:t),jE(g)&&(e=e||sP,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[x,A])=>`${T}${x}=${A},`,"");if(CC(g)&&d!=="_self")return aP(e||"",d),new A_(null);const E=window.open(e||"",d,_);we(E,n,"popup-blocked");try{E.focus()}catch{}return new A_(E)}function aP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="__/auth/handler",uP="emulator/auth/handler",cP=encodeURIComponent("fac");async function C_(n,e,t,r,o,a){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:$s,eventId:o};if(e instanceof YE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",QR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof zl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),g=p?`#${cP}=${encodeURIComponent(p)}`:"";return`${hP(n)}?${Ul(d).slice(1)}${g}`}function hP({config:n}){return n.emulator?Lp(n,uP):`https://${n.authDomain}/${lP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="webStorageSupport";class dP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sw,this._completeRedirectFn=V1,this._overrideRedirectResult=D1}async _openPopup(e,t,r,o){var a;Zr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await C_(e,t,r,Wf(),o);return oP(e,u,jp())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await C_(e,t,r,Wf(),o);return m1(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Zr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await eP(e),r=new F1(e);return t.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kf,{type:kf},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[kf];u!==void 0&&t(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return KE()||BE()||Mp()}}const fP=dP;var P_="@firebase/auth",k_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gP(n){Ds(new Fi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(n)},g=new DC(r,o,a,p);return $C(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ds(new Fi("auth-internal",e=>{const t=Hs(e.getProvider("auth").getImmediate());return(r=>new pP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(P_,k_,mP(n)),yr(P_,k_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=300,_P=RE("authIdTokenMaxAge")||yP;let N_=null;const vP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>_P)return;const o=t==null?void 0:t.token;N_!==o&&(N_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function EP(n=Op()){const e=mh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zC(n,{popupRedirectResolver:fP,persistence:[S1,d1,sw]}),r=RE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=vP(a.toString());a1(t,u,()=>u(t.currentUser)),o1(t,d=>u(d))}}const o=TE("auth");return o&&HC(t,`http://${o}`),t}function wP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=_r("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",wP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gP("Browser");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,dw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function C(){}C.prototype=S.prototype,N.D=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(O,V,U){for(var k=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)k[$e-2]=arguments[$e];return S.prototype[V].apply(O,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,C){C||(C=0);var O=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)O[V]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(V=0;16>V;++V)O[V]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],V=N.g[2];var U=N.g[3],k=S+(U^C&(V^U))+O[0]+3614090360&4294967295;S=C+(k<<7&4294967295|k>>>25),k=U+(V^S&(C^V))+O[1]+3905402710&4294967295,U=S+(k<<12&4294967295|k>>>20),k=V+(C^U&(S^C))+O[2]+606105819&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(S^V&(U^S))+O[3]+3250441966&4294967295,C=V+(k<<22&4294967295|k>>>10),k=S+(U^C&(V^U))+O[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=U+(V^S&(C^V))+O[5]+1200080426&4294967295,U=S+(k<<12&4294967295|k>>>20),k=V+(C^U&(S^C))+O[6]+2821735955&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(S^V&(U^S))+O[7]+4249261313&4294967295,C=V+(k<<22&4294967295|k>>>10),k=S+(U^C&(V^U))+O[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=U+(V^S&(C^V))+O[9]+2336552879&4294967295,U=S+(k<<12&4294967295|k>>>20),k=V+(C^U&(S^C))+O[10]+4294925233&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(S^V&(U^S))+O[11]+2304563134&4294967295,C=V+(k<<22&4294967295|k>>>10),k=S+(U^C&(V^U))+O[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=U+(V^S&(C^V))+O[13]+4254626195&4294967295,U=S+(k<<12&4294967295|k>>>20),k=V+(C^U&(S^C))+O[14]+2792965006&4294967295,V=U+(k<<17&4294967295|k>>>15),k=C+(S^V&(U^S))+O[15]+1236535329&4294967295,C=V+(k<<22&4294967295|k>>>10),k=S+(V^U&(C^V))+O[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(S^C))+O[6]+3225465664&4294967295,U=S+(k<<9&4294967295|k>>>23),k=V+(S^C&(U^S))+O[11]+643717713&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(V^U))+O[0]+3921069994&4294967295,C=V+(k<<20&4294967295|k>>>12),k=S+(V^U&(C^V))+O[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(S^C))+O[10]+38016083&4294967295,U=S+(k<<9&4294967295|k>>>23),k=V+(S^C&(U^S))+O[15]+3634488961&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(V^U))+O[4]+3889429448&4294967295,C=V+(k<<20&4294967295|k>>>12),k=S+(V^U&(C^V))+O[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(S^C))+O[14]+3275163606&4294967295,U=S+(k<<9&4294967295|k>>>23),k=V+(S^C&(U^S))+O[3]+4107603335&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(V^U))+O[8]+1163531501&4294967295,C=V+(k<<20&4294967295|k>>>12),k=S+(V^U&(C^V))+O[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=U+(C^V&(S^C))+O[2]+4243563512&4294967295,U=S+(k<<9&4294967295|k>>>23),k=V+(S^C&(U^S))+O[7]+1735328473&4294967295,V=U+(k<<14&4294967295|k>>>18),k=C+(U^S&(V^U))+O[12]+2368359562&4294967295,C=V+(k<<20&4294967295|k>>>12),k=S+(C^V^U)+O[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^V)+O[8]+2272392833&4294967295,U=S+(k<<11&4294967295|k>>>21),k=V+(U^S^C)+O[11]+1839030562&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^S)+O[14]+4259657740&4294967295,C=V+(k<<23&4294967295|k>>>9),k=S+(C^V^U)+O[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^V)+O[4]+1272893353&4294967295,U=S+(k<<11&4294967295|k>>>21),k=V+(U^S^C)+O[7]+4139469664&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^S)+O[10]+3200236656&4294967295,C=V+(k<<23&4294967295|k>>>9),k=S+(C^V^U)+O[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^V)+O[0]+3936430074&4294967295,U=S+(k<<11&4294967295|k>>>21),k=V+(U^S^C)+O[3]+3572445317&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^S)+O[6]+76029189&4294967295,C=V+(k<<23&4294967295|k>>>9),k=S+(C^V^U)+O[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=U+(S^C^V)+O[12]+3873151461&4294967295,U=S+(k<<11&4294967295|k>>>21),k=V+(U^S^C)+O[15]+530742520&4294967295,V=U+(k<<16&4294967295|k>>>16),k=C+(V^U^S)+O[2]+3299628645&4294967295,C=V+(k<<23&4294967295|k>>>9),k=S+(V^(C|~U))+O[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~V))+O[7]+1126891415&4294967295,U=S+(k<<10&4294967295|k>>>22),k=V+(S^(U|~C))+O[14]+2878612391&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~S))+O[5]+4237533241&4294967295,C=V+(k<<21&4294967295|k>>>11),k=S+(V^(C|~U))+O[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~V))+O[3]+2399980690&4294967295,U=S+(k<<10&4294967295|k>>>22),k=V+(S^(U|~C))+O[10]+4293915773&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~S))+O[1]+2240044497&4294967295,C=V+(k<<21&4294967295|k>>>11),k=S+(V^(C|~U))+O[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~V))+O[15]+4264355552&4294967295,U=S+(k<<10&4294967295|k>>>22),k=V+(S^(U|~C))+O[6]+2734768916&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~S))+O[13]+1309151649&4294967295,C=V+(k<<21&4294967295|k>>>11),k=S+(V^(C|~U))+O[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=U+(C^(S|~V))+O[11]+3174756917&4294967295,U=S+(k<<10&4294967295|k>>>22),k=V+(S^(U|~C))+O[2]+718787259&4294967295,V=U+(k<<15&4294967295|k>>>17),k=C+(U^(V|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var C=S-this.blockSize,O=this.B,V=this.h,U=0;U<S;){if(V==0)for(;U<=C;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[V++]=N.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<S;)if(O[V++]=N[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var C=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=C&255,C/=256;for(this.u(N),N=Array(16),S=C=0;4>S;++S)for(var O=0;32>O;O+=8)N[C++]=this.g[S]>>>O&255;return N};function a(N,S){var C=d;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function u(N,S){this.h=S;for(var C=[],O=!0,V=N.length-1;0<=V;V--){var U=N[V]|0;O&&U==S||(C[V]=U,O=!1)}this.g=C}var d={};function p(N){return-128<=N&&128>N?a(N,function(S){return new u([S|0],0>S?-1:0)}):new u([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return E;if(0>N)return P(g(-N));for(var S=[],C=1,O=0;N>=C;O++)S[O]=N/C|0,C*=4294967296;return new u(S,0)}function _(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return P(_(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(S,8)),O=E,V=0;V<N.length;V+=8){var U=Math.min(8,N.length-V),k=parseInt(N.substring(V,V+U),S);8>U?(U=g(Math.pow(S,U)),O=O.j(U).add(g(k))):(O=O.j(C),O=O.add(g(k)))}return O}var E=p(0),T=p(1),x=p(16777216);n=u.prototype,n.m=function(){if(b(this))return-P(this).m();for(var N=0,S=1,C=0;C<this.g.length;C++){var O=this.i(C);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(b(this))return"-"+P(this).toString(N);for(var S=g(Math.pow(N,6)),C=this,O="";;){var V=ie(C,S).g;C=J(C,V.j(S));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=V,A(C))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function b(N){return N.h==-1}n.l=function(N){return N=J(this,N),b(N)?-1:A(N)?0:1};function P(N){for(var S=N.g.length,C=[],O=0;O<S;O++)C[O]=~N.g[O];return new u(C,~N.h).add(T)}n.abs=function(){return b(this)?P(this):this},n.add=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],O=0,V=0;V<=S;V++){var U=O+(this.i(V)&65535)+(N.i(V)&65535),k=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);O=k>>>16,U&=65535,k&=65535,C[V]=k<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function J(N,S){return N.add(P(S))}n.j=function(N){if(A(this)||A(N))return E;if(b(this))return b(N)?P(this).j(P(N)):P(P(this).j(N));if(b(N))return P(this.j(P(N)));if(0>this.l(x)&&0>N.l(x))return g(this.m()*N.m());for(var S=this.g.length+N.g.length,C=[],O=0;O<2*S;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<N.g.length;V++){var U=this.i(O)>>>16,k=this.i(O)&65535,$e=N.i(V)>>>16,Et=N.i(V)&65535;C[2*O+2*V]+=k*Et,X(C,2*O+2*V),C[2*O+2*V+1]+=U*Et,X(C,2*O+2*V+1),C[2*O+2*V+1]+=k*$e,X(C,2*O+2*V+1),C[2*O+2*V+2]+=U*$e,X(C,2*O+2*V+2)}for(O=0;O<S;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=S;O<2*S;O++)C[O]=0;return new u(C,0)};function X(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function K(N,S){this.g=N,this.h=S}function ie(N,S){if(A(S))throw Error("division by zero");if(A(N))return new K(E,E);if(b(N))return S=ie(P(N),S),new K(P(S.g),P(S.h));if(b(S))return S=ie(N,P(S)),new K(P(S.g),S.h);if(30<N.g.length){if(b(N)||b(S))throw Error("slowDivide_ only works with positive integers.");for(var C=T,O=S;0>=O.l(N);)C=pe(C),O=pe(O);var V=ne(C,1),U=ne(O,1);for(O=ne(O,2),C=ne(C,2);!A(O);){var k=U.add(O);0>=k.l(N)&&(V=V.add(C),U=k),O=ne(O,1),C=ne(C,1)}return S=J(N,V.j(S)),new K(V,S)}for(V=E;0<=N.l(S);){for(C=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=g(C),k=U.j(S);b(k)||0<k.l(N);)C-=O,U=g(C),k=U.j(S);A(U)&&(U=T),V=V.add(U),N=J(N,k)}return new K(V,N)}n.A=function(N){return ie(this,N).h},n.and=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)&N.i(O);return new u(C,this.h&N.h)},n.or=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)|N.i(O);return new u(C,this.h|N.h)},n.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)^N.i(O);return new u(C,this.h^N.h)};function pe(N){for(var S=N.g.length+1,C=[],O=0;O<S;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new u(C,N.h)}function ne(N,S){var C=S>>5;S%=32;for(var O=N.g.length-C,V=[],U=0;U<O;U++)V[U]=0<S?N.i(U+C)>>>S|N.i(U+C+1)<<32-S:N.i(U+C);return new u(V,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,Vi=u}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fw,fl,pw,bc,Jf,mw,gw,yw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function o(c,m){if(m)e:{var v=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var j=c[I];if(!(j in v))break e;v=v[j]}c=c[c.length-1],I=v[c],m=m(I),m!=I&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function a(c,m){c instanceof String&&(c+="");var v=0,I=!1,j={next:function(){if(!I&&v<c.length){var W=v++;return{value:m(W,c[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function E(c,m,v){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,I),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function T(c,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,T.apply(null,arguments)}function x(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function A(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(I,j,W){for(var oe=Array(arguments.length-2),He=2;He<arguments.length;He++)oe[He-2]=arguments[He];return m.prototype[j].apply(I,oe)}}function b(c){const m=c.length;if(0<m){const v=Array(m);for(let I=0;I<m;I++)v[I]=c[I];return v}return[]}function P(c,m){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(p(I)){const j=c.length||0,W=I.length||0;c.length=j+W;for(let oe=0;oe<W;oe++)c[j+oe]=I[oe]}else c.push(I)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var pe=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ne(c,m,v){for(const I in c)m.call(v,c[I],I,c)}function N(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function S(c){const m={};for(const v in c)m[v]=c[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,m){let v,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(v in I)c[v]=I[v];for(let W=0;W<C.length;W++)v=C[W],Object.prototype.hasOwnProperty.call(I,v)&&(c[v]=I[v])}}function V(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function U(c){d.setTimeout(()=>{throw c},0)}function k(){var c=ye;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class $e{constructor(){this.h=this.g=null}add(m,v){const I=Et.get();I.set(m,v),this.h?this.h.next=I:this.g=I,this.h=I}}var Et=new J(()=>new qe,c=>c.reset());class qe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,se=!1,ye=new $e,le=()=>{const c=d.Promise.resolve(void 0);Ue=()=>{c.then(M)}};var M=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(v){U(v)}var m=Et;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}se=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function Pe(c,m){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(pe){e:{try{ie(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}A(Pe,me);var be={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Ke(c,m,v,I,j){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!I,this.ha=j,this.key=++Be,this.da=this.fa=!1}function Ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pr(c){this.src=c,this.g={},this.h=0}Pr.prototype.add=function(c,m,v,I,j){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var oe=ni(c,m,I,j);return-1<oe?(m=c[oe],v||(m.fa=!1)):(m=new Ke(m,this.src,W,!!I,j),m.fa=v,c.push(m)),m};function Gs(c,m){var v=m.type;if(v in c.g){var I=c.g[v],j=Array.prototype.indexOf.call(I,m,void 0),W;(W=0<=j)&&Array.prototype.splice.call(I,j,1),W&&(Ct(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ni(c,m,v,I){for(var j=0;j<c.length;++j){var W=c[j];if(!W.da&&W.listener==m&&W.capture==!!v&&W.ha==I)return j}return-1}var Xi="closure_lm_"+(1e6*Math.random()|0),Qs={};function fa(c,m,v,I,j){if(Array.isArray(m)){for(var W=0;W<m.length;W++)fa(c,m[W],v,I,j);return null}return v=ga(v),c&&c[je]?c.K(m,v,g(I)?!!I.capture:!1,j):pa(c,m,v,!1,I,j)}function pa(c,m,v,I,j,W){if(!m)throw Error("Invalid event type");var oe=g(j)?!!j.capture:!!j,He=Xs(c);if(He||(c[Xi]=He=new Pr(c)),v=He.add(m,v,I,oe,W),v.proxy)return v;if(I=nu(),v.proxy=I,I.src=c,I.listener=v,c.addEventListener)Ae||(j=oe),j===void 0&&(j=!1),c.addEventListener(m.toString(),I,j);else if(c.attachEvent)c.attachEvent(Nr(m.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function nu(){function c(v){return m.call(c.src,c.listener,v)}const m=ma;return c}function Js(c,m,v,I,j){if(Array.isArray(m))for(var W=0;W<m.length;W++)Js(c,m[W],v,I,j);else I=g(I)?!!I.capture:!!I,v=ga(v),c&&c[je]?(c=c.i,m=String(m).toString(),m in c.g&&(W=c.g[m],v=ni(W,v,I,j),-1<v&&(Ct(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete c.g[m],c.h--)))):c&&(c=Xs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ni(m,v,I,j)),(v=-1<c?m[c]:null)&&kr(v))}function kr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[je])Gs(m.i,c);else{var v=c.type,I=c.proxy;m.removeEventListener?m.removeEventListener(v,I,c.capture):m.detachEvent?m.detachEvent(Nr(v),I):m.addListener&&m.removeListener&&m.removeListener(I),(v=Xs(m))?(Gs(v,c),v.h==0&&(v.src=null,m[Xi]=null)):Ct(c)}}}function Nr(c){return c in Qs?Qs[c]:Qs[c]="on"+c}function ma(c,m){if(c.da)c=!0;else{m=new Pe(m,this);var v=c.listener,I=c.ha||c.src;c.fa&&kr(c),c=v.call(I,m)}return c}function Xs(c){return c=c[Xi],c instanceof Pr?c:null}var Ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function ga(c){return typeof c=="function"?c:(c[Ys]||(c[Ys]=function(m){return c.handleEvent(m)}),c[Ys])}function wt(){G.call(this),this.i=new Pr(this),this.M=this,this.F=null}A(wt,G),wt.prototype[je]=!0,wt.prototype.removeEventListener=function(c,m,v,I){Js(this,c,m,v,I)};function Tt(c,m){var v,I=c.F;if(I)for(v=[];I;I=I.F)v.push(I);if(c=c.M,I=m.type||m,typeof m=="string")m=new me(m,c);else if(m instanceof me)m.target=m.target||c;else{var j=m;m=new me(I,c),O(m,j)}if(j=!0,v)for(var W=v.length-1;0<=W;W--){var oe=m.g=v[W];j=xr(oe,I,!0,m)&&j}if(oe=m.g=c,j=xr(oe,I,!0,m)&&j,j=xr(oe,I,!1,m)&&j,v)for(W=0;W<v.length;W++)oe=m.g=v[W],j=xr(oe,I,!1,m)&&j}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],I=0;I<v.length;I++)Ct(v[I]);delete c.g[m],c.h--}}this.F=null},wt.prototype.K=function(c,m,v,I){return this.i.add(String(c),m,!1,v,I)},wt.prototype.L=function(c,m,v,I){return this.i.add(String(c),m,!0,v,I)};function xr(c,m,v,I){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,W=0;W<m.length;++W){var oe=m[W];if(oe&&!oe.da&&oe.capture==v){var He=oe.listener,It=oe.ha||oe.src;oe.fa&&Gs(c.i,oe),j=He.call(It,I)!==!1&&j}}return j&&!I.defaultPrevented}function ya(c,m,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(c,m||0)}function ri(c){c.g=ya(()=>{c.g=null,c.i&&(c.i=!1,ri(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Yi extends G{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(c){G.call(this),this.h=c,this.g={}}A(Zi,G);var _a=[];function va(c){ne(c.g,function(m,v){this.g.hasOwnProperty(v)&&kr(m)},c),c.g={}}Zi.prototype.N=function(){Zi.aa.N.call(this),va(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ea=d.JSON.stringify,wa=d.JSON.parse,Ta=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function es(){}es.prototype.h=null;function Zs(c){return c.h||(c.h=c.i())}function eo(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){me.call(this,"d")}A(rr,me);function to(){me.call(this,"c")}A(to,me);var ir={},Ia=null;function ts(){return Ia=Ia||new wt}ir.La="serverreachability";function Sa(c){me.call(this,ir.La,c)}A(Sa,me);function Or(c){const m=ts();Tt(m,new Sa(m))}ir.STAT_EVENT="statevent";function Ra(c,m){me.call(this,ir.STAT_EVENT,c),this.stat=m}A(Ra,me);function ct(c){const m=ts();Tt(m,new Ra(m,c))}ir.Ma="timingevent";function no(c,m){me.call(this,ir.Ma,c),this.size=m}A(no,me);function Vn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function ns(){this.g=!0}ns.prototype.xa=function(){this.g=!1};function rs(c,m,v,I,j,W){c.info(function(){if(c.g)if(W)for(var oe="",He=W.split("&"),It=0;It<He.length;It++){var Le=He[It].split("=");if(1<Le.length){var Pt=Le[0];Le=Le[1];var mt=Pt.split("_");oe=2<=mt.length&&mt[1]=="type"?oe+(Pt+"="+Le+"&"):oe+(Pt+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+m+`
`+v+`
`+oe})}function ro(c,m,v,I,j,W,oe){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+m+`
`+v+`
`+W+" "+oe})}function Mn(c,m,v,I){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(c,v)+(I?" "+I:"")})}function Aa(c,m){c.info(function(){return"TIMEOUT: "+m})}ns.prototype.info=function(){};function zh(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var I=v[c];if(!(2>I.length)){var j=I[1];if(Array.isArray(j)&&!(1>j.length)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<j.length;oe++)j[oe]=""}}}}return Ea(v)}catch{return m}}var io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ru={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function is(){}A(is,es),is.prototype.g=function(){return new XMLHttpRequest},is.prototype.i=function(){return{}},Fn=new is;function Un(c,m,v,I){this.j=c,this.i=m,this.l=v,this.R=I||1,this.U=new Zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iu}function iu(){this.i=null,this.g="",this.h=!1}var Ca={},so={};function oo(c,m,v){c.L=1,c.v=li(pn(m)),c.m=v,c.P=!0,Pa(c,null)}function Pa(c,m){c.F=Date.now(),Ge(c),c.A=pn(c.v);var v=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),ci(v.i,"t",I),c.C=0,v=c.j.J,c.h=new iu,c.g=Tu(c.j,v?m:null,!c.m),0<c.O&&(c.M=new Yi(T(c.Y,c,c.g),c.O)),m=c.U,v=c.g,I=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(_a[0]=j.toString()),j=_a);for(var W=0;W<j.length;W++){var oe=fa(v,j[W],I||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Or(),rs(c.i,c.u,c.A,c.l,c.R,c.m)}Un.prototype.ca=function(c){c=c.target;const m=this.M;m&&tn(c)==3?m.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const mt=tn(this.g);var m=this.g.Ba();const An=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||ba(this.g)))){this.J||mt!=4||m==7||(m==8||0>=An?Or(3):Or(2)),ss(this);var v=this.g.Z();this.X=v;t:if(su(this)){var I=ba(this.g);c="";var j=I.length,W=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),ii(this);var oe="";break t}this.h.i=new d.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(I[m],{stream:!(W&&m==j-1)});I.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,ro(this.i,this.u,this.A,this.l,this.R,mt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,It=this.g;if((He=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(He)){var Le=He;break t}}Le=null}if(v=Le)Mn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,v);else{this.o=!1,this.s=3,ct(12),Sn(this),ii(this);break e}}if(this.P){v=!0;let gn;for(;!this.J&&this.C<oe.length;)if(gn=$h(this,oe),gn==so){mt==4&&(this.s=4,ct(14),v=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Ca){this.s=4,ct(15),Mn(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else Mn(this.i,this.l,gn,null),ka(this,gn);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||oe.length!=0||this.h.h||(this.s=1,ct(16),v=!1),this.o=this.o&&v,!v)Mn(this.i,this.l,oe,"[Invalid Chunked Response]"),Sn(this),ii(this);else if(0<oe.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Va(Pt),Pt.M=!0,ct(11))}}else Mn(this.i,this.l,oe,null),ka(this,oe);mt==4&&Sn(this),this.o&&!this.J&&(mt==4?_o(this.j,this):(this.o=!1,Ge(this)))}else fo(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Sn(this),ii(this)}}}catch{}finally{}};function su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $h(c,m){var v=c.C,I=m.indexOf(`
`,v);return I==-1?so:(v=Number(m.substring(v,I)),isNaN(v)?Ca:(I+=1,I+v>m.length?so:(m=m.slice(I,I+v),c.C=I+v,m)))}Un.prototype.cancel=function(){this.J=!0,Sn(this)};function Ge(c){c.S=Date.now()+c.I,ou(c,c.I)}function ou(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vn(T(c.ba,c),m)}function ss(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Aa(this.i,this.A),this.L!=2&&(Or(),ct(17)),Sn(this),this.s=2,ii(this)):ou(this,this.S-c)};function ii(c){c.j.G==0||c.J||_o(c.j,c)}function Sn(c){ss(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,va(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function ka(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||Qt(v.h,c))){if(!c.K&&Qt(v.h,c)&&v.G==3){try{var I=v.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)yo(v),Hn(v);else break e;go(v),ct(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Vn(T(v.Za,v),6e3));if(1>=lu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Mr(v,11)}else if((c.K||v.g==c)&&yo(v),!X(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let Le=j[m];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Pt=Le[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const mt=Le[4];mt!=null&&(v.Aa=mt,v.j.info("SVER="+v.Aa));const An=Le[5];An!=null&&typeof An=="number"&&0<An&&(I=1.5*An,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const gn=c.g;if(gn){const ds=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var W=I.h;W.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Na(W,W.h),W.h=null))}if(I.D){const Eo=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(I.ya=Eo,We(I.I,I.D,Eo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var oe=c;if(I.qa=wu(I,I.J?I.ia:null,I.W),oe.K){uu(I.h,oe);var He=oe,It=I.L;It&&(He.I=It),He.B&&(ss(He),Ge(He)),I.g=oe}else hs(I);0<v.i.length&&lr(v)}else Le[0]!="stop"&&Le[0]!="close"||Mr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Mr(v,7):bt(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}Or(4)}catch{}}var au=class{constructor(c,m){this.g=c,this.map=m}};function os(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function lu(c){return c.h?1:c.g?c.g.size:0}function Qt(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Na(c,m){c.g?c.g.add(m):c.h=m}function uu(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}os.prototype.cancel=function(){if(this.i=cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return b(c.i)}function ao(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var m=[],v=c.length,I=0;I<v;I++)m.push(c[I]);return m}m=[],v=0;for(I in c)m[v++]=c[I];return m}function lo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const I in c)m[v++]=I;return m}}}function si(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=lo(c),I=ao(c),j=I.length,W=0;W<j;W++)m.call(void 0,I[W],v&&v[W],c)}var as=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var I=c[v].indexOf("="),j=null;if(0<=I){var W=c[v].substring(0,I);j=c[v].substring(I+1)}else W=c[v];m(W,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Dr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Dr){this.h=c.h,ls(this,c.j),this.o=c.o,this.g=c.g,oi(this,c.s),this.l=c.l;var m=c.i,v=new sr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),ai(this,v),this.m=c.m}else c&&(m=String(c).match(as))?(this.h=!1,ls(this,m[1]||"",!0),this.o=De(m[2]||""),this.g=De(m[3]||"",!0),oi(this,m[4]),this.l=De(m[5]||"",!0),ai(this,m[6]||"",!0),this.m=De(m[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}Dr.prototype.toString=function(){var c=[],m=this.j;m&&c.push(ui(m,uo,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ui(m,uo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ui(v,v.charAt(0)=="/"?fu:du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ui(v,xa)),c.join("")};function pn(c){return new Dr(c)}function ls(c,m,v){c.j=v?De(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function oi(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function ai(c,m,v){m instanceof sr?(c.i=m,or(c.i,c.h)):(v||(m=ui(m,pu)),c.i=new sr(m,c.h))}function We(c,m,v){c.i.set(m,v)}function li(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ui(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,hu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var uo=/[#\/\?@]/g,du=/[#\?:]/g,fu=/[#\?]/g,pu=/[#\?@]/g,xa=/#/g;function sr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Dt(c){c.g||(c.g=new Map,c.h=0,c.i&&Hh(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=sr.prototype,n.add=function(c,m){Dt(this),this.i=null,c=Rn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function jn(c,m){Dt(c),m=Rn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Bn(c,m){return Dt(c),m=Rn(c,m),c.g.has(m)}n.forEach=function(c,m){Dt(this),this.g.forEach(function(v,I){v.forEach(function(j){c.call(m,j,I,this)},this)},this)},n.na=function(){Dt(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let I=0;I<m.length;I++){const j=c[I];for(let W=0;W<j.length;W++)v.push(m[I])}return v},n.V=function(c){Dt(this);let m=[];if(typeof c=="string")Bn(this,c)&&(m=m.concat(this.g.get(Rn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},n.set=function(c,m){return Dt(this),this.i=null,c=Rn(this,c),Bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},n.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function ci(c,m,v){jn(c,m),0<v.length&&(c.i=null,c.g.set(Rn(c,m),b(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var I=m[v];const W=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var j=W;oe[I]!==""&&(j+="="+encodeURIComponent(String(oe[I]))),c.push(j)}}return this.i=c.join("&")};function Rn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function or(c,m){m&&!c.j&&(Dt(c),c.i=null,c.g.forEach(function(v,I){var j=I.toLowerCase();I!=j&&(jn(this,I),ci(this,j,v))},c)),c.j=m}function qh(c,m){const v=new ns;if(d.Image){const I=new Image;I.onload=x(en,v,"TestLoadImage: loaded",!0,m,I),I.onerror=x(en,v,"TestLoadImage: error",!1,m,I),I.onabort=x(en,v,"TestLoadImage: abort",!1,m,I),I.ontimeout=x(en,v,"TestLoadImage: timeout",!1,m,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else m(!1)}function mu(c,m){const v=new ns,I=new AbortController,j=setTimeout(()=>{I.abort(),en(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:I.signal}).then(W=>{clearTimeout(j),W.ok?en(v,"TestPingServer: ok",!0,m):en(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),en(v,"TestPingServer: error",!1,m)})}function en(c,m,v,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(v)}catch{}}function Wh(){this.g=new Ta}function gu(c,m,v){const I=v||"";try{si(c,function(j,W){let oe=j;g(j)&&(oe=Ea(j)),m.push(I+W+"="+encodeURIComponent(oe))})}catch(j){throw m.push(I+"type="+encodeURIComponent("_badmap")),j}}function br(c){this.l=c.Ub||null,this.j=c.eb||!1}A(br,es),br.prototype.g=function(){return new us(this.l,this.j)},br.prototype.i=(function(c){return function(){return c}})({});function us(c,m){wt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(us,wt),n=us.prototype,n.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,$n(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?zn(this):$n(this),this.readyState==3&&yu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,zn(this))},n.Qa=function(c){this.g&&(this.response=c,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}n.setRequestHeader=function(c,m){this.u.append(c,m)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lr(c){let m="";return ne(c,function(v,I){m+=I,m+=":",m+=v,m+=`\r
`}),m}function hi(c,m,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Lr(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,m,v))}function et(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(et,wt);var Kh=/^https?$/i,Oa=["POST","PUT"];n=et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,m,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Zs(this.o):Zs(Fn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(W){cs(this,W);return}if(c=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)v.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())v.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Oa,m,void 0))||I||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of v)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ho(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){cs(this,W)}};function cs(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,co(c),mn(c)}function co(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},n.bb=function(){Da(this)};function Da(c){if(c.h&&typeof u<"u"&&(!c.v[1]||tn(c)!=4||c.Z()!=2)){if(c.u&&tn(c)==4)ya(c.Ea,0,c);else if(Tt(c,"readystatechange"),tn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var I;if(I=oe===0){var j=String(c.D).match(as)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),I=!Kh.test(j?j.toLowerCase():"")}v=I}if(v)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var W=2<tn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",co(c)}}finally{mn(c)}}}}function mn(c,m){if(c.g){ho(c);const v=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Tt(c,"ready");try{v.onreadystatechange=I}catch{}}}function ho(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function tn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),wa(m)}};function ba(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fo(c){const m={};c=(c.g&&2<=tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(X(c[I]))continue;var v=V(c[I]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=m[j]||[];m[j]=W,W.push(v)}N(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function La(c){this.Aa=0,this.i=[],this.j=new ns,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ar("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ar("baseRetryDelayMs",5e3,c),this.cb=ar("retryDelaySeedMs",1e4,c),this.Wa=ar("forwardChannelMaxRetries",2,c),this.wa=ar("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new os(c&&c.concurrentRequestLimit),this.Da=new Wh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=La.prototype,n.la=8,n.G=1,n.connect=function(c,m,v,I){ct(0),this.W=c,this.H=m||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=wu(this,null,this.W),lr(this)};function bt(c){if(po(c),c.G==3){var m=c.U++,v=pn(c.I);if(We(v,"SID",c.K),We(v,"RID",m),We(v,"TYPE","terminate"),Vr(c,v),m=new Un(c,c.j,m),m.L=2,m.v=li(pn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ge(m)}Eu(c)}function Hn(c){c.g&&(Va(c),c.g.cancel(),c.g=null)}function po(c){Hn(c),c.u&&(d.clearTimeout(c.u),c.u=null),yo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function lr(c){if(!fn(c.h)&&!c.s){c.s=!0;var m=c.Ga;Ue||le(),se||(Ue(),se=!0),ye.add(m,c),c.B=0}}function Gh(c,m){return lu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vn(T(c.Ga,c,m),vu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Un(this,this.j,c);let W=this.o;if(this.S&&(W?(W=S(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(j.H=W,W=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=di(this,j,m),v=pn(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Vr(this,v),W&&(this.O?m="headers="+encodeURIComponent(String(Lr(W)))+"&"+m:this.m&&hi(v,this.m,W)),Na(this.h,j),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",m),We(v,"SID","null"),j.T=!0,oo(j,v,null)):oo(j,v,m),this.G=2}}else this.G==3&&(c?mo(this,c):this.i.length==0||fn(this.h)||mo(this))};function mo(c,m){var v;m?v=m.l:v=c.U++;const I=pn(c.I);We(I,"SID",c.K),We(I,"RID",v),We(I,"AID",c.T),Vr(c,I),c.m&&c.o&&hi(I,c.m,c.o),v=new Un(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=di(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Na(c.h,v),oo(v,I,m)}function Vr(c,m){c.H&&ne(c.H,function(v,I){We(m,I,v)}),c.l&&si({},function(v,I){We(m,I,v)})}function di(c,m,v){v=Math.min(c.i.length,v);var I=c.l?T(c.l.Na,c.l,c):null;e:{var j=c.i;let W=-1;for(;;){const oe=["count="+v];W==-1?0<v?(W=j[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let He=!0;for(let It=0;It<v;It++){let Le=j[It].g;const Pt=j[It].map;if(Le-=W,0>Le)W=Math.max(0,j[It].g-100),He=!1;else try{gu(Pt,oe,"req"+Le+"_")}catch{I&&I(Pt)}}if(He){I=oe.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,I}function hs(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Ue||le(),se||(Ue(),se=!0),ye.add(m,c),c.v=0}}function go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vn(T(c.Fa,c),vu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vn(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Hn(this),_u(this))};function Va(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function _u(c){c.g=new Un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=pn(c.qa);We(m,"RID","rpc"),We(m,"SID",c.K),We(m,"AID",c.T),We(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(m,"TO",c.ja),We(m,"TYPE","xmlhttp"),Vr(c,m),c.m&&c.o&&hi(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=li(pn(m)),v.m=null,v.P=!0,Pa(v,c)}n.Za=function(){this.C!=null&&(this.C=null,Hn(this),go(this),ct(19))};function yo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function _o(c,m){var v=null;if(c.g==m){yo(c),Va(c),c.g=null;var I=2}else if(Qt(c.h,m))v=m.D,uu(c.h,m),I=1;else return;if(c.G!=0){if(m.o)if(I==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;I=ts(),Tt(I,new no(I,v)),lr(c)}else hs(c);else if(j=m.s,j==3||j==0&&0<m.X||!(I==1&&Gh(c,m)||I==2&&go(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),j){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function vu(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Mr(c,m){if(c.j.info("Error code "+m),m==2){var v=T(c.fb,c),I=c.Xa;const j=!I;I=new Dr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ls(I,"https"),li(I),j?qh(I.toString(),v):mu(I.toString(),v)}else ct(2);c.G=0,c.l&&c.l.sa(m),Eu(c),po(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Eu(c){if(c.G=0,c.ka=[],c.l){const m=cu(c.h);(m.length!=0||c.i.length!=0)&&(P(c.ka,m),P(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function wu(c,m,v){var I=v instanceof Dr?pn(v):new Dr(v);if(I.g!="")m&&(I.g=m+"."+I.g),oi(I,I.s);else{var j=d.location;I=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var W=new Dr(null);I&&ls(W,I),m&&(W.g=m),j&&oi(W,j),v&&(W.l=v),I=W}return v=c.D,m=c.ya,v&&m&&We(I,v,m),We(I,"VER",c.la),Vr(c,I),I}function Tu(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new et(new br({eb:v})):new et(c.pa),m.Ha(c.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ma(){}n=Ma.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function vo(){}vo.prototype.g=function(c,m){return new Jt(c,m)};function Jt(c,m){wt.call(this),this.g=new La(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!X(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!X(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ur(this)}A(Jt,wt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){bt(this.g)},Jt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ea(c),c=v);m.i.push(new au(m.Ya++,c)),m.G==3&&lr(m)},Jt.prototype.N=function(){this.g.l=null,delete this.j,bt(this.g),delete this.g,Jt.aa.N.call(this)};function Iu(c){rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Iu,rr);function Su(){to.call(this),this.status=1}A(Su,to);function ur(c){this.g=c}A(ur,Ma),ur.prototype.ua=function(){Tt(this.g,"a")},ur.prototype.ta=function(c){Tt(this.g,new Iu(c))},ur.prototype.sa=function(c){Tt(this.g,new Su)},ur.prototype.ra=function(){Tt(this.g,"b")},vo.prototype.createWebChannel=vo.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,yw=function(){return new vo},gw=function(){return ts()},mw=ir,Jf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},io.NO_ERROR=0,io.TIMEOUT=8,io.HTTP_ERROR=6,bc=io,ru.COMPLETE="complete",pw=ru,eo.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",wt.prototype.listen=wt.prototype.K,fl=eo,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,fw=et}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const O_="@firebase/firestore",D_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Np("@firebase/firestore");function zo(){return Vs.logLevel}function ce(n,...e){if(Vs.logLevel<=xe.DEBUG){const t=e.map(zp);Vs.debug(`Firestore (${aa}): ${n}`,...t)}}function ei(n,...e){if(Vs.logLevel<=xe.ERROR){const t=e.map(zp);Vs.error(`Firestore (${aa}): ${n}`,...t)}}function Ui(n,...e){if(Vs.logLevel<=xe.WARN){const t=e.map(zp);Vs.warn(`Firestore (${aa}): ${n}`,...t)}}function zp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,_w(n,r,t)}function _w(n,e,t){let r=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ei(r),new Error(r)}function ze(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||_w(e,o,r)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qt.UNAUTHENTICATED)))}shutdown(){}}class IP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class SP{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Jr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new vw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class RP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new RP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new b_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=PP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function Xf(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return ke(r,o);{const a=Ew(),u=kP(a.encode(L_(n,t)),a.encode(L_(e,t)));return u!==0?u:ke(r,o)}}t+=r>65535?2:1}return ke(n.length,e.length)}function L_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function kP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function Yo(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__name__";class mr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=mr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return ke(e.length,t.length)}static compareSegments(e,t){const r=mr.isNumericId(e),o=mr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?mr.extractNumericId(e).compare(mr.extractNumericId(t)):Xf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vi.fromString(e.substring(4,e.length-2))}}class Je extends mr{construct(e,t,r){return new Je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new Je(t)}static emptyPath(){return new Je([])}}const NP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends mr{construct(e,t,r){return new Ft(e,t,r)}static isValidIdentifier(e){return NP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new Ft([V_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ae(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new ae(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Je.fromString(e))}static fromName(e){return new _e(Je.fromString(e).popFirst(5))}static empty(){return new _e(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n,e,t){if(!t)throw new ae(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xP(n,e,t,r){if(e===!0&&r===!0)throw new ae(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function M_(n){if(!_e.isDocumentKey(n))throw new ae(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function F_(n){if(_e.isDocumentKey(n))throw new ae(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function er(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vh(n);throw new ae(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hl(n,e){if(!Tw(n))throw new ae(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ae(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=-62135596800,j_=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*j_);return new Ze(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<U_)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hl(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:vt("string",Ze._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Ze(0,0))}static max(){return new Re(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function OP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(r===1e9?new Ze(t+1,0):new Ze(t,r));return new ji(o,_e.empty(),e)}function DP(n){return new ji(n.readTime,n.key,Pl)}class ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ji(Re.min(),_e.empty(),Pl)}static max(){return new ji(Re.max(),_e.empty(),Pl)}}function bP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==LP)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.reject(t)}static resolve(e){return new Y(((t,r)=>{t(e)}))}static reject(e){return new Y(((t,r)=>{r(e)}))}static waitFor(e){return new Y(((t,r)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&t()}),(p=>r(p)))})),u=!0,a===o&&t()}))}static or(e){let t=Y.resolve(!1);for(const r of e)t=t.next((o=>o?Y.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new Y(((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let p=0;p<a;p++){const g=p;t(e[g]).next((_=>{u[g]=_,++d,d===a&&r(u)}),(_=>o(_)))}}))}static doWhile(e,t){return new Y(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function MP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ua(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Eh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;function wh(n){return n==null}function Yc(n){return n===0&&1/n==-1/0}function FP(n){return typeof n=="number"&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="";function UP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=B_(e)),e=jP(n.get(t),e);return B_(e)}function jP(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Iw:t+="";break;default:t+=a}}return t}function B_(n){return n+Iw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Sw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Mt.RED,this.left=o??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Mt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Mt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(e){return new $_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class $_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new wn([])}unionWith(e){let t=new At(Ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Rw("Invalid base64 string: "+a):a}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const BP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(n){if(ze(!!n,39018),typeof n=="string"){let e=0;const t=BP.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zi(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="server_timestamp",Cw="__type__",Pw="__previous_value__",kw="__local_write_time__";function qp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Cw])===null||t===void 0?void 0:t.stringValue)===Aw}function Th(n){const e=n.mapValue.fields[Pw];return qp(e)?Th(e):e}function kl(n){const e=Bi(n.mapValue.fields[kw].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t,r,o,a,u,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Zc="(default)";class Nl{constructor(e,t){this.projectId=e,this.database=t||Zc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="__type__",$P="__max__",Tc={mapValue:{}},xw="__vector__",eh="value";function $i(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qp(n)?4:qP(n)?9007199254740991:HP(n)?10:11:Te(28295,{value:n})}function Rr(n,e){if(n===e)return!0;const t=$i(n);if(t!==$i(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return kl(n).isEqual(kl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Bi(o.timestampValue),d=Bi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return zi(o.bytesValue).isEqual(zi(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return dt(o.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return dt(o.integerValue)===dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=dt(o.doubleValue),d=dt(a.doubleValue);return u===d?Yc(u)===Yc(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Yo(n.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(z_(u)!==z_(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!Rr(u[p],d[p])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function xl(n,e){return(n.values||[]).find((t=>Rr(t,e)))!==void 0}function Zo(n,e){if(n===e)return 0;const t=$i(n),r=$i(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=dt(a.integerValue||a.doubleValue),p=dt(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return H_(n.timestampValue,e.timestampValue);case 4:return H_(kl(n),kl(e));case 5:return Xf(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=zi(a),p=zi(u);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),p=u.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=ke(d[g],p[g]);if(_!==0)return _}return ke(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=ke(dt(a.latitude),dt(u.latitude));return d!==0?d:ke(dt(a.longitude),dt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return q_(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var d,p,g,_;const E=a.fields||{},T=u.fields||{},x=(d=E[eh])===null||d===void 0?void 0:d.arrayValue,A=(p=T[eh])===null||p===void 0?void 0:p.arrayValue,b=ke(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((_=A==null?void 0:A.values)===null||_===void 0?void 0:_.length)||0);return b!==0?b:q_(x,A)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Tc.mapValue&&u===Tc.mapValue)return 0;if(a===Tc.mapValue)return 1;if(u===Tc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),g=u.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const T=Xf(p[E],_[E]);if(T!==0)return T;const x=Zo(d[p[E]],g[_[E]]);if(x!==0)return x}return ke(p.length,_.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{le:t})}}function H_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Bi(n),r=Bi(e),o=ke(t.seconds,r.seconds);return o!==0?o:ke(t.nanos,r.nanos)}function q_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Zo(t[o],r[o]);if(a)return a}return ke(t.length,r.length)}function ea(n){return Yf(n)}function Yf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Bi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return zi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return _e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Yf(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Yf(t.fields[u])}`;return o+"}"})(n.mapValue):Te(61005,{value:n})}function Lc(n){switch($i(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(n);return e?16+Lc(e):16;case 5:return 2*n.stringValue.length;case 6:return zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Lc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Qi(r.fields,((a,u)=>{o+=a.length+Lc(u)})),o})(n.mapValue);default:throw Te(13486,{value:n})}}function W_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zf(n){return!!n&&"integerValue"in n}function Wp(n){return!!n&&"arrayValue"in n}function K_(n){return!!n&&"nullValue"in n}function G_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vc(n){return!!n&&"mapValue"in n}function HP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nw])===null||t===void 0?void 0:t.stringValue)===xw}function vl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qi(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=vl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$P}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(t)}setAll(e){let t=Ft.emptyPath(),r={},o=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=vl(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Qi(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new cn(vl(this.value))}}function Ow(n){const e=[];return Qi(n.fields,((t,r)=>{const o=new Ft([t]);if(Vc(r)){const a=Ow(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Wt(e,0,Re.min(),Re.min(),Re.min(),cn.empty(),0)}static newFoundDocument(e,t,r,o){return new Wt(e,1,t,Re.min(),r,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Re.min(),Re.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Re.min(),Re.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.position=e,this.inclusive=t}}function Q_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=Zo(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function J_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function WP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{}class _t extends Dw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new GP(e,t,r):t==="array-contains"?new XP(e,r):t==="in"?new YP(e,r):t==="not-in"?new ZP(e,r):t==="array-contains-any"?new ek(e,r):new _t(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new QP(e,r):new JP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Zo(t,this.value)):t!==null&&$i(this.value)===$i(t)&&this.matchesComparison(Zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends Dw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new tr(e,t)}matches(e){return bw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function bw(n){return n.op==="and"}function Lw(n){return KP(n)&&bw(n)}function KP(n){for(const e of n.filters)if(e instanceof tr)return!1;return!0}function ep(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+ea(n.value);if(Lw(n))return n.filters.map((e=>ep(e))).join(",");{const e=n.filters.map((t=>ep(t))).join(",");return`${n.op}(${e})`}}function Vw(n,e){return n instanceof _t?(function(r,o){return o instanceof _t&&r.op===o.op&&r.field.isEqual(o.field)&&Rr(r.value,o.value)})(n,e):n instanceof tr?(function(r,o){return o instanceof tr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,d)=>a&&Vw(u,o.filters[d])),!0):!1})(n,e):void Te(19439)}function Mw(n){return n instanceof _t?(function(t){return`${t.field.canonicalString()} ${t.op} ${ea(t.value)}`})(n):n instanceof tr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Mw).join(" ,")+"}"})(n):"Filter"}class GP extends _t{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class QP extends _t{constructor(e,t){super(e,"in",t),this.keys=Fw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class JP extends _t{constructor(e,t){super(e,"not-in",t),this.keys=Fw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Fw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((r=>_e.fromName(r.referenceValue)))}class XP extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wp(t)&&xl(t.arrayValue,this.value)}}class YP extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xl(this.value.arrayValue,t)}}class ZP extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xl(this.value.arrayValue,t)}}class ek extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>xl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Pe=null}}function X_(n,e=null,t=[],r=[],o=null,a=null,u=null){return new tk(n,e,t,r,o,a,u)}function Kp(n){const e=Ce(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>ep(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ea(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ea(r))).join(",")),e.Pe=t}return e.Pe}function Gp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!WP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Vw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!J_(n.startAt,e.startAt)&&J_(n.endAt,e.endAt)}function tp(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function nk(n,e,t,r,o,a,u,d){return new ql(n,e,t,r,o,a,u,d)}function Qp(n){return new ql(n)}function Y_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Uw(n){return n.collectionGroup!==null}function El(n){const e=Ce(n);if(e.Te===null){e.Te=[];const t=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new At(Ft.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Te.push(new nh(a,r))})),t.has(Ft.keyField().canonicalString())||e.Te.push(new nh(Ft.keyField(),r))}return e.Te}function Er(n){const e=Ce(n);return e.Ie||(e.Ie=rk(e,El(n))),e.Ie}function rk(n,e){if(n.limitType==="F")return X_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new nh(o.field,a)}));const t=n.endAt?new th(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new th(n.startAt.position,n.startAt.inclusive):null;return X_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function np(n,e){const t=n.filters.concat([e]);return new ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rp(n,e,t){return new ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ih(n,e){return Gp(Er(n),Er(e))&&n.limitType===e.limitType}function jw(n){return`${Kp(Er(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>Mw(o))).join(", ")}]`),wh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>ea(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>ea(o))).join(",")),`Target(${r})`})(Er(n))}; limitType=${n.limitType})`}function Sh(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of El(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,d,p){const g=Q_(u,d,p);return u.inclusive?g<=0:g<0})(r.startAt,El(r),o)||r.endAt&&!(function(u,d,p){const g=Q_(u,d,p);return u.inclusive?g>=0:g>0})(r.endAt,El(r),o))})(n,e)}function ik(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Bw(n){return(e,t)=>{let r=!1;for(const o of El(n)){const a=sk(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function sk(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):(function(a,u,d){const p=u.data.field(a),g=d.data.field(a);return p!==null&&g!==null?Zo(p,g):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return Sw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new st(_e.comparator);function ti(){return ok}const zw=new st(_e.comparator);function pl(...n){let e=zw;for(const t of n)e=e.insert(t.key,t);return e}function $w(n){let e=zw;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Cs(){return wl()}function Hw(){return wl()}function wl(){return new qs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const ak=new st(_e.comparator),lk=new At(_e.comparator);function Oe(...n){let e=lk;for(const t of n)e=e.add(t);return e}const uk=new At(ke);function ck(){return uk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function qw(n){return{integerValue:""+n}}function hk(n,e){return FP(e)?qw(e):Jp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function dk(n,e,t){return n instanceof rh?(function(o,a){const u={fields:{[Cw]:{stringValue:Aw},[kw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&qp(a)&&(a=Th(a)),a&&(u.fields[Pw]=a),{mapValue:u}})(t,e):n instanceof Ol?Kw(n,e):n instanceof Dl?Gw(n,e):(function(o,a){const u=Ww(o,a),d=Z_(u)+Z_(o.Ee);return Zf(u)&&Zf(o.Ee)?qw(d):Jp(o.serializer,d)})(n,e)}function fk(n,e,t){return n instanceof Ol?Kw(n,e):n instanceof Dl?Gw(n,e):t}function Ww(n,e){return n instanceof ih?(function(r){return Zf(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class rh extends Rh{}class Ol extends Rh{constructor(e){super(),this.elements=e}}function Kw(n,e){const t=Qw(e);for(const r of n.elements)t.some((o=>Rr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Dl extends Rh{constructor(e){super(),this.elements=e}}function Gw(n,e){let t=Qw(e);for(const r of n.elements)t=t.filter((o=>!Rr(o,r)));return{arrayValue:{values:t}}}class ih extends Rh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Z_(n){return dt(n.integerValue||n.doubleValue)}function Qw(n){return Wp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function pk(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof Ol&&o instanceof Ol||r instanceof Dl&&o instanceof Dl?Yo(r.elements,o.elements,Rr):r instanceof ih&&o instanceof ih?Rr(r.Ee,o.Ee):r instanceof rh&&o instanceof rh})(n.transform,e.transform)}class mk{constructor(e,t){this.version=e,this.transformResults=t}}class bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ah{}function Jw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xp(n.key,bn.none()):new Wl(n.key,n.data,bn.none());{const t=n.data,r=cn.empty();let o=new At(Ft.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Ji(n.key,r,new wn(o.toArray()),bn.none())}}function gk(n,e,t){n instanceof Wl?(function(o,a,u){const d=o.value.clone(),p=tv(o.fieldTransforms,a,u.transformResults);d.setAll(p),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Ji?(function(o,a,u){if(!Mc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=tv(o.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(Xw(o)),p.setAll(d),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Tl(n,e,t,r){return n instanceof Wl?(function(a,u,d,p){if(!Mc(a.precondition,u))return d;const g=a.value.clone(),_=nv(a.fieldTransforms,p,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ji?(function(a,u,d,p){if(!Mc(a.precondition,u))return d;const g=nv(a.fieldTransforms,p,u),_=u.data;return _.setAll(Xw(a)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(n,e,t,r):(function(a,u,d){return Mc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function yk(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=Ww(r.transform,o||null);a!=null&&(t===null&&(t=cn.empty()),t.set(r.field,a))}return t||null}function ev(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Yo(r,o,((a,u)=>pk(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wl extends Ah{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends Ah{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Xw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function tv(n,e,t){const r=new Map;ze(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,fk(u,d,t[o]))}return r}function nv(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,dk(a,u,e))}return r}class Xp extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _k extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&gk(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Tl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Tl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Hw();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const p=Jw(u,d);p!==null&&r.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Oe())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((t,r)=>ev(t,r)))&&Yo(this.baseMutations,e.baseMutations,((t,r)=>ev(t,r)))}}class Yp{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ze(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let o=(function(){return ak})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new Yp(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ve;function Tk(n){switch(n){case Q.OK:return Te(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function Yw(n){if(n===void 0)return ei("GRPC error has no .code"),Q.UNKNOWN;switch(n){case yt.OK:return Q.OK;case yt.CANCELLED:return Q.CANCELLED;case yt.UNKNOWN:return Q.UNKNOWN;case yt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case yt.INTERNAL:return Q.INTERNAL;case yt.UNAVAILABLE:return Q.UNAVAILABLE;case yt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case yt.NOT_FOUND:return Q.NOT_FOUND;case yt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case yt.ABORTED:return Q.ABORTED;case yt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case yt.DATA_LOSS:return Q.DATA_LOSS;default:return Te(39323,{code:n})}}(Ve=yt||(yt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=new Vi([4294967295,4294967295],0);function rv(n){const e=Ew().encode(n),t=new dw;return t.update(e),new Uint8Array(t.digest())}function iv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Vi([t,r],0),new Vi([o,a],0)]}class Zp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ml(`Invalid padding: ${t}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ml(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Vi.fromNumber(this.fe)}pe(e,t,r){let o=e.add(t.multiply(Vi.fromNumber(r)));return o.compare(Ik)===1&&(o=new Vi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=rv(e),[r,o]=iv(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);if(!this.ye(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Zp(a,o,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.fe===0)return;const t=rv(e),[r,o]=iv(t);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,o,a);this.we(u)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ch(Re.min(),o,new st(ke),ti(),Oe())}}class Kl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Kl(r,t,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=o}}class Zw{constructor(e,t){this.targetId=e,this.De=t}}class eT{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class sv{constructor(){this.ve=0,this.Ce=ov(),this.Fe=Ut.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Oe(),t=Oe(),r=Oe();return this.Ce.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:a})}})),new Kl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=ov()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Sk{constructor(e){this.We=e,this.Ge=new Map,this.ze=ti(),this.je=Ic(),this.Je=Ic(),this.He=new st(ke)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((r,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,r=e.De.count,o=this.st(t);if(o){const a=o.target;if(tp(a))if(r===0){const u=new _e(a.path);this.Xe(t,u,Wt.newNoDocument(u,Re.min()))}else ze(r===1,20013,{expectedCount:r});else{const u=this.ot(t);if(u!==r){const d=this._t(e),p=d?this.ut(d,e,u):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=zi(r).toUint8Array()}catch(p){if(p instanceof Rw)return Ui("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Zp(u,o,a)}catch(p){return Ui(p instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const u=this.We.lt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,a,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((a,u)=>{const d=this.st(u);if(d){if(a.current&&tp(d.target)){const p=new _e(d.target.path);this.Tt(p).has(u)||this.It(u,p)||this.Xe(u,p,Wt.newNoDocument(p,e))}a.Ne&&(t.set(u,a.Le()),a.ke())}}));let r=Oe();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ze.forEach(((a,u)=>u.setReadTime(e)));const o=new Ch(e,t,this.He,this.ze,r);return this.ze=ti(),this.je=Ic(),this.Je=Ic(),this.He=new st(ke),o}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new sv,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new At(ke),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new At(ke),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new sv),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Ic(){return new st(_e.comparator)}function ov(){return new st(_e.comparator)}const Rk={asc:"ASCENDING",desc:"DESCENDING"},Ak={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ck={and:"AND",or:"OR"};class Pk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ip(n,e){return n.useProto3Json||wh(e)?e:{value:e}}function sh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kk(n,e){return sh(n,e.toTimestamp())}function wr(n){return ze(!!n,49232),Re.fromTimestamp((function(t){const r=Bi(t);return new Ze(r.seconds,r.nanos)})(n))}function em(n,e){return sp(n,e).canonicalString()}function sp(n,e){const t=(function(o){return new Je(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function nT(n){const e=Je.fromString(n);return ze(aT(e),10190,{key:e.toString()}),e}function op(n,e){return em(n.databaseId,e.path)}function Nf(n,e){const t=nT(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(iT(t))}function rT(n,e){return em(n.databaseId,e)}function Nk(n){const e=nT(n);return e.length===4?Je.emptyPath():iT(e)}function ap(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iT(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function av(n,e,t){return{name:op(n,e),fields:t.value.mapValue.fields}}function xk(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(g,_){return g.useProto3Json?(ze(_===void 0||typeof _=="string",58123),Ut.fromBase64String(_||"")):(ze(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ut.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(g){const _=g.code===void 0?Q.UNKNOWN:Yw(g.code);return new ae(_,g.message||"")})(u);t=new eT(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Nf(n,r.document.name),a=wr(r.document.updateTime),u=r.document.createTime?wr(r.document.createTime):Re.min(),d=new cn({mapValue:{fields:r.document.fields}}),p=Wt.newFoundDocument(o,a,u,d),g=r.targetIds||[],_=r.removedTargetIds||[];t=new Fc(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Nf(n,r.document),a=r.readTime?wr(r.readTime):Re.min(),u=Wt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new Fc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Nf(n,r.document),a=r.removedTargetIds||[];t=new Fc([],a,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new wk(o,a),d=r.targetId;t=new Zw(d,u)}}return t}function Ok(n,e){let t;if(e instanceof Wl)t={update:av(n,e.key,e.value)};else if(e instanceof Xp)t={delete:op(n,e.key)};else if(e instanceof Ji)t={update:av(n,e.key,e.data),updateMask:Bk(e.fieldMask)};else{if(!(e instanceof _k))return Te(16599,{Rt:e.type});t={verify:op(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof rh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ol)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Dl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ih)return{fieldPath:u.field.canonicalString(),increment:d.Ee};throw Te(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:kk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)})(n,e.precondition)),t}function Dk(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map((t=>(function(o,a){let u=o.updateTime?wr(o.updateTime):wr(a);return u.isEqual(Re.min())&&(u=wr(a)),new mk(u,o.transformResults||[])})(t,e)))):[]}function bk(n,e){return{documents:[rT(n,e.path)]}}function Lk(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=rT(n,o);const a=(function(g){if(g.length!==0)return oT(tr.create(g,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(g){if(g.length!==0)return g.map((_=>(function(T){return{field:Ho(T.field),direction:Fk(T.dir)}})(_)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=ip(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:t,parent:o}}function Vk(n){let e=Nk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ze(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(E){const T=sT(E);return T instanceof tr&&Lw(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(E){return E.map((T=>(function(A){return new nh(qo(A.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let T;return T=typeof E=="object"?E.value:E,wh(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(E){const T=!!E.before,x=E.values||[];return new th(x,T)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const T=!E.before,x=E.values||[];return new th(x,T)})(t.endAt)),nk(e,o,u,a,d,"F",p,g)}function Mk(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qo(t.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=qo(t.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qo(t.unaryFilter.field);return _t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qo(t.unaryFilter.field);return _t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return _t.create(qo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return tr.create(t.compositeFilter.filters.map((r=>sT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function Fk(n){return Rk[n]}function Uk(n){return Ak[n]}function jk(n){return Ck[n]}function Ho(n){return{fieldPath:n.canonicalString()}}function qo(n){return Ft.fromServerFormat(n.fieldPath)}function oT(n){return n instanceof _t?(function(t){if(t.op==="=="){if(G_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(K_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(G_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(K_(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:Uk(t.op),value:t.value}}})(n):n instanceof tr?(function(t){const r=t.getFilters().map((o=>oT(o)));return r.length===1?r[0]:{compositeFilter:{op:jk(t.op),filters:r}}})(n):Te(54877,{filter:n})}function Bk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function aT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t,r,o,a=Re.min(),u=Re.min(),d=Ut.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.gt=e}}function $k(n){const e=Vk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.Dn=new qk}addToCollectionParentIndex(e,t){return this.Dn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(ji.min())}updateCollectionGroup(e,t,r){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class qk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new At(Je.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new At(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(lT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ta(0)}static ur(){return new ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="LruGarbageCollector",Wk=1048576;function cv([n,e],[t,r]){const o=ke(n,t);return o===0?ke(e,r):o}class Kk{constructor(e){this.Tr=e,this.buffer=new At(cv),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();cv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Gk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ce(uv,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ua(t)?ce(uv,"Ignoring IndexedDB error during garbage collection: ",t):await la(t)}await this.Rr(3e5)}))}}class Qk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Eh.ue);const r=new Kk(t);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(lv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,o,a,u,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,d=Date.now(),this.removeTargets(e,r,t)))).next((E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(g=Date.now(),zo()<=xe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E}))))}}function Jk(n,e){return new Qk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.changes=new qs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Y.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Tl(r.mutation,o,wn.empty(),Ze.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Oe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Oe()){const o=Cs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let u=pl();return a.forEach(((d,p)=>{u=u.insert(d,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Cs();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Oe())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,o){let a=ti();const u=wl(),d=(function(){return wl()})();return t.forEach(((p,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Ji)?a=a.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),Tl(_.mutation,g,_.mutation.getFieldMask(),Ze.now())):u.set(g.key,wn.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((g,_)=>u.set(g,_))),t.forEach(((g,_)=>{var E;return d.set(g,new Yk(_,(E=u.get(g))!==null&&E!==void 0?E:null))})),d)))}recalculateAndSaveOverlays(e,t){const r=wl();let o=new st(((u,d)=>u-d)),a=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=r.get(p)||wn.empty();_=d.applyToLocalView(g,_),r.set(p,_);const E=(o.get(d.batchId)||Oe()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,E=Hw();_.forEach((T=>{if(!a.has(T)){const x=Jw(t.get(T),r.get(T));x!==null&&E.set(T,x),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,E))}return Y.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Uw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):Y.resolve(Cs());let d=Pl,p=a;return u.next((g=>Y.forEach(g,((_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(_)?Y.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{p=p.insert(_,T)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,p,g,Oe()))).next((_=>({batchId:d,changes:$w(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((r=>{let o=pl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=pl();return this.indexManager.getCollectionParents(e,a).next((d=>Y.forEach(d,(p=>{const g=(function(E,T){return new ql(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((_=>{_.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((u=>{a.forEach(((p,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,Wt.newInvalidDocument(_)))}));let d=pl();return u.forEach(((p,g)=>{const _=a.get(p);_!==void 0&&Tl(_.mutation,g,wn.empty(),Ze.now()),Sh(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:wr(o.createTime)}})(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:$k(o.bundledQuery),readTime:wr(o.readTime)}})(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.overlays=new st(_e.comparator),this.kr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Cs();return Y.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.wt(e,t,a)})),Y.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(r)),Y.resolve()}getOverlaysForCollection(e,t,r){const o=Cs(),a=t.length+1,u=new _e(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&p.largestBatchId>r&&o.set(p.getKey(),p)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new st(((g,_)=>g-_));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=a.get(g.largestBatchId);_===null&&(_=Cs(),a=a.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Cs(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return Y.resolve(d)}wt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Ek(t,r));let a=this.kr.get(t);a===void 0&&(a=Oe(),this.kr.set(t,a)),this.kr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.qr=new At(Ot.Qr),this.$r=new At(Ot.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Ot(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Ot(e,t))}Gr(e,t){e.forEach((r=>this.removeReference(r,t)))}zr(e){const t=new _e(new Je([])),r=new Ot(t,e),o=new Ot(t,e+1),a=[];return this.$r.forEachInRange([r,o],(u=>{this.Wr(u),a.push(u.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new _e(new Je([])),r=new Ot(t,e),o=new Ot(t,e+1);let a=Oe();return this.$r.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Ot(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return _e.comparator(e.key,t.key)||ke(e.Hr,t.Hr)}static Ur(e,t){return ke(e.Hr,t.Hr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new At(Ot.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new vk(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Yr=this.Yr.add(new Ot(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,t){return Y.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),a=o<0?0:o;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Hp:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ot(t,0),o=new Ot(t,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,o],(u=>{const d=this.Zr(u.Hr);a.push(d)})),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new At(ke);return t.forEach((o=>{const a=new Ot(o,0),u=new Ot(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],(d=>{r=r.add(d.Hr)}))})),Y.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const u=new Ot(new _e(a),0);let d=new At(ke);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)}),u),Y.resolve(this.ei(d))}ei(e){const t=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ze(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Y.forEach(t.mutations,(o=>{const a=new Ot(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,t){const r=new Ot(t,0),o=this.Yr.firstAfterOrEqual(r);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.ni=e,this.docs=(function(){return new st(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Y.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=ti();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Wt.newInvalidDocument(o))})),Y.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ti();const u=t.path,d=new _e(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||bP(DP(_),r)<=0||(o.has(_.key)||Sh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Te(9500)}ri(e,t){return Y.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new sN(this)}getSize(e){return Y.resolve(this.size)}}class sN extends Xk{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(r)})),Y.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.persistence=e,this.ii=new qs((t=>Kp(t)),Gp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.si=0,this.oi=new tm,this.targetCount=0,this._i=ta.ar()}forEachTarget(e,t){return this.ii.forEach(((r,o)=>t(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),Y.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ta(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.hr(t),Y.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ii.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Y.waitFor(a).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return Y.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),Y.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),Y.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return Y.resolve(r)}containsKey(e,t){return Y.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t){this.ai={},this.overlays={},this.ui=new Eh(0),this.ci=!1,this.ci=!0,this.li=new nN,this.referenceDelegate=e(this),this.hi=new oN(this),this.indexManager=new Hk,this.remoteDocumentCache=(function(o){return new iN(o)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new zk(t),this.Ti=new eN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new rN(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const o=new aN(this.ui.next());return this.referenceDelegate.Ii(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,t){return Y.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,t))))}}class aN extends VP{constructor(e){super(),this.currentSequenceNumber=e}}class nm{constructor(e){this.persistence=e,this.Ai=new tm,this.Ri=null}static Vi(e){return new nm(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),Y.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.mi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,(r=>{const o=_e.fromPath(r);return this.fi(e,o).next((a=>{a||t.removeEntry(o,Re.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return Y.or([()=>Y.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class oh{constructor(e,t){this.persistence=e,this.gi=new qs((r=>UP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Jk(this,t)}static Vi(e,t){return new oh(e,t)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}yr(e){let t=0;return this.gr(e,(r=>{t++})).next((()=>t))}gr(e,t){return Y.forEach(this.gi,((r,o)=>this.Sr(e,r,o).next((a=>a?Y.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ri(e,(u=>this.Sr(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Re.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Y.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lc(e.data.value)),t}Sr(e,t,r){return Y.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return Y.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=o}static Es(e,t){let r=Oe(),o=Oe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new rm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return $R()?8:MP(Gt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ps(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ys(e,t,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new lN;return this.ws(e,t,u).next((d=>{if(a.result=d,this.Rs)return this.Ss(e,t,u,d.size)}))})).next((()=>a.result))}Ss(e,t,r,o){return r.documentReadCount<this.Vs?(zo()<=xe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(zo()<=xe.DEBUG&&ce("QueryEngine","Query:",$o(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(zo()<=xe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(t))):Y.resolve())}ps(e,t){if(Y_(t))return Y.resolve(null);let r=Er(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=rp(t,null,"F"),r=Er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Oe(...a);return this.gs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.bs(t,d);return this.Ds(t,g,u,p.readTime)?this.ps(e,rp(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ys(e,t,r,o){return Y_(t)||o.isEqual(Re.min())?Y.resolve(null):this.gs.getDocuments(e,r).next((a=>{const u=this.bs(t,a);return this.Ds(t,u,r,o)?Y.resolve(null):(zo()<=xe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$o(t)),this.vs(e,u,t,OP(o,Pl)).next((d=>d)))}))}bs(e,t){let r=new At(Bw(e));return t.forEach(((o,a)=>{Sh(e,a)&&(r=r.add(a))})),r}Ds(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ws(e,t,r){return zo()<=xe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",$o(t)),this.gs.getDocumentsMatchingQuery(e,t,ji.min(),r)}vs(e,t,r,o){return this.gs.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="LocalStore",cN=3e8;class hN{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new st(ke),this.Ms=new qs((a=>Kp(a)),Gp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function dN(n,e,t,r){return new hN(n,e,t,r)}async function cT(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Ns(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let p=Oe();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of a){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next((g=>({Bs:g,removedBatchIds:u,addedBatchIds:d})))}))}))}function fN(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Os.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const E=g.batch,T=E.keys();let x=Y.resolve();return T.forEach((A=>{x=x.next((()=>_.getEntry(p,A))).next((b=>{const P=g.docVersions.get(A);ze(P!==null,48541),b.version.compareTo(P)<0&&(E.applyToRemoteDocument(b,g),b.isValidDocument()&&(b.setReadTime(g.commitVersion),_.addEntry(b)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=Oe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function hT(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function pN(n,e){const t=Ce(n),r=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach(((_,E)=>{const T=o.get(E);if(!T)return;d.push(t.hi.removeMatchingKeys(a,_.removedDocuments,E).next((()=>t.hi.addMatchingKeys(a,_.addedDocuments,E))));let x=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?x=x.withResumeToken(Ut.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,r)),o=o.insert(E,x),(function(b,P,J){return b.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=cN?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(T,x,_)&&d.push(t.hi.updateTargetData(a,x))}));let p=ti(),g=Oe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),d.push(mN(a,u,e.documentUpdates).next((_=>{p=_.Ls,g=_.ks}))),!r.isEqual(Re.min())){const _=t.hi.getLastRemoteSnapshotVersion(a).next((E=>t.hi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(_)}return Y.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,g))).next((()=>p))})).then((a=>(t.Fs=o,a)))}function mN(n,e,t){let r=Oe(),o=Oe();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=ti();return t.forEach(((d,p)=>{const g=a.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):ce(im,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Ls:u,ks:o}}))}function gN(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Hp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function yN(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.hi.getTargetData(r,e).next((a=>a?(o=a,Y.resolve(o)):t.hi.allocateTargetId(r).next((u=>(o=new Di(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r}))}async function lp(n,e,t){const r=Ce(n),o=r.Fs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!ua(u))throw u;ce(im,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(o.target)}function hv(n,e,t){const r=Ce(n);let o=Re.min(),a=Oe();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,_){const E=Ce(p),T=E.Ms.get(_);return T!==void 0?Y.resolve(E.Fs.get(T)):E.hi.getTargetData(g,_)})(r,u,Er(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,d.targetId).next((p=>{a=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?o:Re.min(),t?a:Oe()))).next((d=>(_N(r,ik(e),d),{documents:d,qs:a})))))}function _N(n,e,t){let r=n.xs.get(e)||Re.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.xs.set(e,r)}class dv{constructor(){this.activeTargetIds=ck()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vN{constructor(){this.Fo=new dv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new dv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="ConnectivityMonitor";class pv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ce(fv,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ce(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function up(){return Sc===null?Sc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="RestConnection",wN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===Zc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,a){const u=up(),d=this.Go(e,t.toUriEncodedString());ce(xf,`Sending RPC '${e}' ${u}:`,d,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,a);const{host:g}=new URL(d),_=Wi(g);return this.jo(e,d,p,r,_).then((E=>(ce(xf,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Ui(xf,`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",r),E}))}Jo(e,t,r,o,a,u){return this.Wo(e,t,r,o,a)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+aa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}Go(e,t){const r=wN[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class SN extends TN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,o,a){const u=up();return new Promise(((d,p)=>{const g=new fw;g.setWithCredentials(!0),g.listenOnce(pw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case bc.NO_ERROR:const E=g.getResponseJson();ce(Ht,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case bc.TIMEOUT:ce(Ht,`RPC '${e}' ${u} timed out`),p(new ae(Q.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const T=g.getStatus();if(ce(Ht,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x==null?void 0:x.error;if(A&&A.status&&A.message){const b=(function(J){const X=J.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(X)>=0?X:Q.UNKNOWN})(A.status);p(new ae(b,A.message))}else p(new ae(Q.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ae(Q.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:u,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ce(Ht,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);ce(Ht,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",_,r,15)}))}P_(e,t,r){const o=up(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=yw(),d=gw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=a.join("");ce(Ht,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=u.createWebChannel(_,p);this.T_(E);let T=!1,x=!1;const A=new IN({Ho:P=>{x?ce(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(T||(ce(Ht,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),ce(Ht,`RPC '${e}' stream ${o} sending:`,P),E.send(P))},Yo:()=>E.close()}),b=(P,J,X)=>{P.listen(J,(K=>{try{X(K)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return b(E,fl.EventType.OPEN,(()=>{x||(ce(Ht,`RPC '${e}' stream ${o} transport opened.`),A.s_())})),b(E,fl.EventType.CLOSE,(()=>{x||(x=!0,ce(Ht,`RPC '${e}' stream ${o} transport closed`),A.__(),this.I_(E))})),b(E,fl.EventType.ERROR,(P=>{x||(x=!0,Ui(Ht,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),A.__(new ae(Q.UNAVAILABLE,"The operation could not be completed")))})),b(E,fl.EventType.MESSAGE,(P=>{var J;if(!x){const X=P.data[0];ze(!!X,16349);const K=X,ie=(K==null?void 0:K.error)||((J=K[0])===null||J===void 0?void 0:J.error);if(ie){ce(Ht,`RPC '${e}' stream ${o} received error:`,ie);const pe=ie.status;let ne=(function(C){const O=yt[C];if(O!==void 0)return Yw(O)})(pe),N=ie.message;ne===void 0&&(ne=Q.INTERNAL,N="Unknown error status: "+pe+" with message "+ie.message),x=!0,A.__(new ae(ne,N)),E.close()}else ce(Ht,`RPC '${e}' stream ${o} received:`,X),A.a_(X)}})),b(d,mw.STAT_EVENT,(P=>{P.stat===Jf.PROXY?ce(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Jf.NOPROXY&&ce(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{A.o_()}),0),A}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(n){return new Pk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=o,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="PersistentStream";class fT{constructor(e,t,r,o,a,u,d,p){this.Fi=e,this.w_=r,this.S_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new dT(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.b_===t&&this.W_(r,o)}),(r=>{e((()=>{const o=new ae(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)}))}))}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{r((()=>this.G_(o)))})),this.stream.onMessage((o=>{r((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ce(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(ce(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RN extends fT{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=xk(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Re.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?wr(u.readTime):Re.min()})(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=ap(this.serializer),t.addTarget=(function(a,u){let d;const p=u.target;if(d=tp(p)?{documents:bk(a,p)}:{query:Lk(a,p).Vt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=tT(a,u.resumeToken);const g=ip(a,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(Re.min())>0){d.readTime=sh(a,u.snapshotVersion.toTimestamp());const g=ip(a,u.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=Mk(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=ap(this.serializer),t.removeTarget=e,this.k_(t)}}class AN extends fT{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Dk(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=ap(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Ok(this.serializer,r)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{}class PN extends CN{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,sp(t,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(Q.UNKNOWN,a.toString())}))}Jo(e,t,r,o,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Jo(e,sp(t,r),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(Q.UNKNOWN,u.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class kN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ei(t),this._a=!1):ce("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="RemoteStore";class NN{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((u=>{r.enqueueAndForget((async()=>{Ws(this)&&(ce(Ms,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ia.add(4),await Gl(g),g.Aa.set("Unknown"),g.Ia.delete(4),await kh(g)})(this))}))})),this.Aa=new kN(r,o)}}async function kh(n){if(Ws(n))for(const e of n.da)await e(!0)}async function Gl(n){for(const e of n.da)await e(!1)}function pT(n,e){const t=Ce(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),lm(t)?am(t):ca(t).x_()&&om(t,e))}function sm(n,e){const t=Ce(n),r=ca(t);t.Ta.delete(e),r.x_()&&mT(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ws(t)&&t.Aa.set("Unknown"))}function om(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ca(n).H_(e)}function mT(n,e){n.Ra.$e(e),ca(n).Y_(e)}function am(n){n.Ra=new Sk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ca(n).start(),n.Aa.aa()}function lm(n){return Ws(n)&&!ca(n).M_()&&n.Ta.size>0}function Ws(n){return Ce(n).Ia.size===0}function gT(n){n.Ra=void 0}async function xN(n){n.Aa.set("Online")}async function ON(n){n.Ta.forEach(((e,t)=>{om(n,e)}))}async function DN(n,e){gT(n),lm(n)?(n.Aa.la(e),am(n)):n.Aa.set("Unknown")}async function bN(n,e,t){if(n.Aa.set("Online"),e instanceof eT&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ta.delete(d),o.Ra.removeTarget(d))})(n,e)}catch(r){ce(Ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(n,r)}else if(e instanceof Fc?n.Ra.Ye(e):e instanceof Zw?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Re.min()))try{const r=await hT(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Ra.Pt(u);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.Ta.get(g);_&&a.Ta.set(g,_.withResumeToken(p.resumeToken,u))}})),d.targetMismatches.forEach(((p,g)=>{const _=a.Ta.get(p);if(!_)return;a.Ta.set(p,_.withResumeToken(Ut.EMPTY_BYTE_STRING,_.snapshotVersion)),mT(a,p);const E=new Di(_.target,p,g,_.sequenceNumber);om(a,E)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ce(Ms,"Failed to raise snapshot:",r),await ah(n,r)}}async function ah(n,e,t){if(!ua(e))throw e;n.Ia.add(1),await Gl(n),n.Aa.set("Offline"),t||(t=()=>hT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ce(Ms,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await kh(n)}))}function yT(n,e){return e().catch((t=>ah(n,t,e)))}async function Nh(n){const e=Ce(n),t=Hi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Hp;for(;LN(e);)try{const o=await gN(e.localStore,r);if(o===null){e.Pa.length===0&&t.B_();break}r=o.batchId,VN(e,o)}catch(o){await ah(e,o)}_T(e)&&vT(e)}function LN(n){return Ws(n)&&n.Pa.length<10}function VN(n,e){n.Pa.push(e);const t=Hi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function _T(n){return Ws(n)&&!Hi(n).M_()&&n.Pa.length>0}function vT(n){Hi(n).start()}async function MN(n){Hi(n).na()}async function FN(n){const e=Hi(n);for(const t of n.Pa)e.X_(t.mutations)}async function UN(n,e,t){const r=n.Pa.shift(),o=Yp.from(r,e,t);await yT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Nh(n)}async function jN(n,e){e&&Hi(n).Z_&&await(async function(r,o){if((function(u){return Tk(u)&&u!==Q.ABORTED})(o.code)){const a=r.Pa.shift();Hi(r).N_(),await yT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Nh(r)}})(n,e),_T(n)&&vT(n)}async function gv(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),ce(Ms,"RemoteStore received new credentials");const r=Ws(t);t.Ia.add(3),await Gl(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await kh(t)}async function BN(n,e){const t=Ce(n);e?(t.Ia.delete(2),await kh(t)):e||(t.Ia.add(2),await Gl(t),t.Aa.set("Unknown"))}function ca(n){return n.Va||(n.Va=(function(t,r,o){const a=Ce(t);return a.ia(),new RN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:xN.bind(null,n),e_:ON.bind(null,n),n_:DN.bind(null,n),J_:bN.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),lm(n)?am(n):n.Aa.set("Unknown")):(await n.Va.stop(),gT(n))}))),n.Va}function Hi(n){return n.ma||(n.ma=(function(t,r,o){const a=Ce(t);return a.ia(),new AN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:MN.bind(null,n),n_:jN.bind(null,n),ea:FN.bind(null,n),ta:UN.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await Nh(n)):(await n.ma.stop(),n.Pa.length>0&&(ce(Ms,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new um(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cm(n,e){if(ei("AsyncQueue",`${e}: ${n}`),ua(n))return new ae(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=pl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.fa=new st(_e.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Te(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,r)=>{e.push(r)})),e}}class na{constructor(e,t,r,o,a,u,d,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new na(e,t,Jo.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class $N{constructor(){this.queries=_v(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const o=Ce(t),a=o.queries;o.queries=_v(),a.forEach(((u,d)=>{for(const p of d.wa)p.onError(r)}))})(this,new ae(Q.ABORTED,"Firestore shutting down"))}}function _v(){return new qs((n=>jw(n)),Ih)}async function ET(n,e){const t=Ce(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.ba()&&(r=2):(a=new zN,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await t.onListen(o,!0);break;case 1:a.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=cm(u,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.wa.push(e),e.va(t.onlineState),a.ya&&e.Ca(a.ya)&&hm(t)}async function wT(n,e){const t=Ce(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?o=e.ba()?0:1:!a.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function HN(n,e){const t=Ce(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.wa)d.Ca(o)&&(r=!0);u.ya=o}}r&&hm(t)}function qN(n,e,t){const r=Ce(n),o=r.queries.get(e);if(o)for(const a of o.wa)a.onError(t);r.queries.delete(e)}function hm(n){n.Da.forEach((e=>{e.next()}))}var cp,vv;(vv=cp||(cp={})).Fa="default",vv.Cache="cache";class TT{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.key=e}}class ST{constructor(e){this.key=e}}class WN{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Oe(),this.mutatedKeys=Oe(),this.Xa=Bw(e),this.eu=new Jo(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new yv,o=t?t.eu:this.eu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const T=o.get(_),x=Sh(this.query,E)?E:null,A=!!T&&this.mutatedKeys.has(T.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let P=!1;T&&x?T.data.isEqual(x.data)?A!==b&&(r.track({type:3,doc:x}),P=!0):this.iu(T,x)||(r.track({type:2,doc:x}),P=!0,(p&&this.Xa(x,p)>0||g&&this.Xa(x,g)<0)&&(d=!0)):!T&&x?(r.track({type:0,doc:x}),P=!0):T&&!x&&(r.track({type:1,doc:T}),P=!0,(p||g)&&(d=!0)),P&&(x?(u=u.add(x),a=b?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{eu:u,ru:r,Ds:d,mutatedKeys:a}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort(((_,E)=>(function(x,A){const b=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:P})}};return b(x)-b(A)})(_.type,E.type)||this.Xa(_.doc,E.doc))),this.su(r),o=o!=null&&o;const d=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,u.length!==0||g?{snapshot:new na(this.query,e.eu,a,u,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new yv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Oe(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const t=[];return e.forEach((r=>{this.Za.has(r)||t.push(new ST(r))})),this.Za.forEach((r=>{e.has(r)||t.push(new IT(r))})),t}uu(e){this.Ha=e.qs,this.Za=Oe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return na.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const dm="SyncEngine";class KN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class GN{constructor(e){this.key=e,this.lu=!1}}class QN{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new qs((d=>jw(d)),Ih),this.Tu=new Map,this.Iu=new Set,this.du=new st(_e.comparator),this.Eu=new Map,this.Au=new tm,this.Ru={},this.Vu=new Map,this.mu=ta.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function JN(n,e,t=!0){const r=NT(n);let o;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.cu()):o=await RT(r,e,t,!0),o}async function XN(n,e){const t=NT(n);await RT(t,e,!0,!1)}async function RT(n,e,t,r){const o=await yN(n.localStore,Er(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await YN(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&pT(n.remoteStore,o),d}async function YN(n,e,t,r,o){n.gu=(E,T,x)=>(async function(b,P,J,X){let K=P.view.nu(J);K.Ds&&(K=await hv(b.localStore,P.query,!1).then((({documents:N})=>P.view.nu(N,K))));const ie=X&&X.targetChanges.get(P.targetId),pe=X&&X.targetMismatches.get(P.targetId)!=null,ne=P.view.applyChanges(K,b.isPrimaryClient,ie,pe);return wv(b,P.targetId,ne._u),ne.snapshot})(n,E,T,x);const a=await hv(n.localStore,e,!0),u=new WN(e,a.qs),d=u.nu(a.documents),p=Kl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),g=u.applyChanges(d,n.isPrimaryClient,p);wv(n,t,g._u);const _=new KN(e,t,u);return n.Pu.set(e,_),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),g.snapshot}async function ZN(n,e,t){const r=Ce(n),o=r.Pu.get(e),a=r.Tu.get(o.targetId);if(a.length>1)return r.Tu.set(o.targetId,a.filter((u=>!Ih(u,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&sm(r.remoteStore,o.targetId),hp(r,o.targetId)})).catch(la)):(hp(r,o.targetId),await lp(r.localStore,o.targetId,!0))}async function ex(n,e){const t=Ce(n),r=t.Pu.get(e),o=t.Tu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),sm(t.remoteStore,r.targetId))}async function tx(n,e,t){const r=lx(n);try{const o=await(function(u,d){const p=Ce(u),g=Ze.now(),_=d.reduce(((x,A)=>x.add(A.key)),Oe());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let A=ti(),b=Oe();return p.Os.getEntries(x,_).next((P=>{A=P,A.forEach(((J,X)=>{X.isValidDocument()||(b=b.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,A))).next((P=>{E=P;const J=[];for(const X of d){const K=yk(X,E.get(X.key).overlayedDocument);K!=null&&J.push(new Ji(X.key,K,Ow(K.value.mapValue),bn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,J,d)})).next((P=>{T=P;const J=P.applyToLocalDocumentSet(E,b);return p.documentOverlayCache.saveOverlays(x,P.batchId,J)}))})).then((()=>({batchId:T.batchId,changes:$w(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,d,p){let g=u.Ru[u.currentUser.toKey()];g||(g=new st(ke)),g=g.insert(d,p),u.Ru[u.currentUser.toKey()]=g})(r,o.batchId,t),await Ql(r,o.changes),await Nh(r.remoteStore)}catch(o){const a=cm(o,"Failed to persist write");t.reject(a)}}async function AT(n,e){const t=Ce(n);try{const r=await pN(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Eu.get(a);u&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.lu=!0:o.modifiedDocuments.size>0?ze(u.lu,14607):o.removedDocuments.size>0&&(ze(u.lu,42227),u.lu=!1))})),await Ql(t,r,e)}catch(r){await la(r)}}function Ev(n,e,t){const r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Pu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const p=Ce(u);p.onlineState=d;let g=!1;p.queries.forEach(((_,E)=>{for(const T of E.wa)T.va(d)&&(g=!0)})),g&&hm(p)})(r.eventManager,e),o.length&&r.hu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nx(n,e,t){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Eu.get(e),a=o&&o.key;if(a){let u=new st(_e.comparator);u=u.insert(a,Wt.newNoDocument(a,Re.min()));const d=Oe().add(a),p=new Ch(Re.min(),new Map,new st(ke),u,d);await AT(r,p),r.du=r.du.remove(a),r.Eu.delete(e),fm(r)}else await lp(r.localStore,e,!1).then((()=>hp(r,e,t))).catch(la)}async function rx(n,e){const t=Ce(n),r=e.batch.batchId;try{const o=await fN(t.localStore,e);PT(t,r,null),CT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(t,o)}catch(o){await la(o)}}async function ix(n,e,t){const r=Ce(n);try{const o=await(function(u,d){const p=Ce(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(ze(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(r.localStore,e);PT(r,e,t),CT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ql(r,o)}catch(o){await la(o)}}function CT(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function PT(n,e,t){const r=Ce(n);let o=r.Ru[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Ru[r.currentUser.toKey()]=o}}function hp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((r=>{n.Au.containsKey(r)||kT(n,r)}))}function kT(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(sm(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),fm(n))}function wv(n,e,t){for(const r of t)r instanceof IT?(n.Au.addReference(r.key,e),sx(n,r)):r instanceof ST?(ce(dm,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||kT(n,r.key)):Te(19791,{yu:r})}function sx(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(ce(dm,"New document in limbo: "+t),n.Iu.add(r),fm(n))}function fm(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new _e(Je.fromString(e)),r=n.mu.next();n.Eu.set(r,new GN(t)),n.du=n.du.insert(t,r),pT(n.remoteStore,new Di(Er(Qp(t.path)),r,"TargetPurposeLimboResolution",Eh.ue))}}async function Ql(n,e,t){const r=Ce(n),o=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach(((d,p)=>{u.push(r.gu(p,e,t).then((g=>{var _;if((g||t)&&r.isPrimaryClient){const E=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=rm.Es(p.targetId,g);a.push(E)}})))})),await Promise.all(u),r.hu.J_(o),await(async function(p,g){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Y.forEach(g,(T=>Y.forEach(T.Is,(x=>_.persistence.referenceDelegate.addReference(E,T.targetId,x))).next((()=>Y.forEach(T.ds,(x=>_.persistence.referenceDelegate.removeReference(E,T.targetId,x)))))))))}catch(E){if(!ua(E))throw E;ce(im,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const x=_.Fs.get(T),A=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(A);_.Fs=_.Fs.insert(T,b)}}})(r.localStore,a))}async function ox(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){ce(dm,"User change. New user:",e.toKey());const r=await cT(t.localStore,e);t.currentUser=e,(function(a,u){a.Vu.forEach((d=>{d.forEach((p=>{p.reject(new ae(Q.CANCELLED,u))}))})),a.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ql(t,r.Bs)}}function ax(n,e){const t=Ce(n),r=t.Eu.get(e);if(r&&r.lu)return Oe().add(r.key);{let o=Oe();const a=t.Tu.get(e);if(!a)return o;for(const u of a){const d=t.Pu.get(u);o=o.unionWith(d.view.tu)}return o}}function NT(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ax.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nx.bind(null,e),e.hu.J_=HN.bind(null,e.eventManager),e.hu.pu=qN.bind(null,e.eventManager),e}function lx(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ix.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return dN(this.persistence,new uN,e.initialUser,this.serializer)}Du(e){return new uT(nm.Vi,this.serializer)}bu(e){return new vN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class ux extends lh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ze(this.persistence.referenceDelegate instanceof oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Gk(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new uT((r=>oh.Vi(r,t)),this.serializer)}}class dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ev(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ox.bind(null,this.syncEngine),await BN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $N})()}createDatastore(e){const t=Ph(e.databaseInfo.databaseId),r=(function(a){return new SN(a)})(e.databaseInfo);return(function(a,u,d,p){return new PN(a,u,d,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,u,d){return new NN(r,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Ev(this.syncEngine,t,0)),(function(){return pv.C()?new pv:new EN})())}createSyncEngine(e,t){return(function(o,a,u,d,p,g,_){const E=new QN(o,a,u,d,p,g);return _&&(E.fu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=Ce(o);ce(Ms,"RemoteStore shutting down."),a.Ia.add(5),await Gl(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="FirestoreClient";class cx{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=$p.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ce(qi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ce(qi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=cm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Df(n,e){n.asyncQueue.verifyOperationInProgress(),ce(qi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await cT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>{Ui("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{ce("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Ui("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=e}async function Tv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await hx(n);ce(qi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>gv(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>gv(e.remoteStore,o))),n._onlineComponents=e}async function hx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(qi,"Using user provided OfflineComponentProvider");try{await Df(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ui("Error using user provided cache. Falling back to memory cache: "+t),await Df(n,new lh)}}else ce(qi,"Using default OfflineComponentProvider"),await Df(n,new ux(void 0));return n._offlineComponents}async function OT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(qi,"Using user provided OnlineComponentProvider"),await Tv(n,n._uninitializedComponentsProvider._online)):(ce(qi,"Using default OnlineComponentProvider"),await Tv(n,new dp))),n._onlineComponents}function dx(n){return OT(n).then((e=>e.syncEngine))}async function DT(n){const e=await OT(n),t=e.eventManager;return t.onListen=JN.bind(null,e.syncEngine),t.onUnlisten=ZN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=XN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ex.bind(null,e.syncEngine),t}function fx(n,e,t={}){const r=new Jr;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,p,g){const _=new xT({next:T=>{_.Ou(),u.enqueueAndForget((()=>wT(a,E)));const x=T.docs.has(d);!x&&T.fromCache?g.reject(new ae(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&p&&p.source==="server"?g.reject(new ae(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new TT(Qp(d.path),_,{includeMetadataChanges:!0,ka:!0});return ET(a,E)})(await DT(n),n.asyncQueue,e,t,r))),r.promise}function px(n,e,t={}){const r=new Jr;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,p,g){const _=new xT({next:T=>{_.Ou(),u.enqueueAndForget((()=>wT(a,E))),T.fromCache&&p.source==="server"?g.reject(new ae(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new TT(d,_,{includeMetadataChanges:!0,ka:!0});return ET(a,E)})(await DT(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firestore.googleapis.com",Sv=!0;class Rv{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=Sv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wk)throw new ae(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new TP;switch(r.type){case"firstParty":return new AP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Iv.get(t);r&&(ce("ComponentProvider","Removing Datastore"),Iv.delete(t),r.terminate())})(this),Promise.resolve()}}function mx(n,e,t,r={}){var o;n=er(n,xh);const a=Wi(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;a&&(Pp(`https://${p}`),kp("Firestore",!0)),u.host!==LT&&u.host!==p&&Ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:p,ssl:a,emulatorOptions:r});if(!Os(g,d)&&(n._setSettings(g),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=qt.MOCK_USER;else{_=AE(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ae(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new qt(T)}n._authCredentials=new IP(new vw(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class ft{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Hl(t,ft._jsonSchema))return new ft(e,r||null,new _e(Je.fromString(t.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:vt("string",ft._jsonSchemaVersion),referencePath:vt("string")};class Mi extends ha{constructor(e,t,r){super(e,t,Qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new _e(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function bl(n,e,...t){if(n=at(n),ww("collection","path",e),n instanceof xh){const r=Je.fromString(e,...t);return F_(r),new Mi(n,null,r)}{if(!(n instanceof ft||n instanceof Mi))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return F_(r),new Mi(n.firestore,null,r)}}function Fs(n,e,...t){if(n=at(n),arguments.length===1&&(e=$p.newId()),ww("doc","path",e),n instanceof xh){const r=Je.fromString(e,...t);return M_(r),new ft(n,null,new _e(r))}{if(!(n instanceof ft||n instanceof Mi))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return M_(r),new ft(n.firestore,n instanceof Mi?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="AsyncQueue";class Cv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new dT(this,"async_queue_retry"),this.oc=()=>{const r=Of();r&&ce(Av,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=Of();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Of();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Jr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ua(e))throw e;ce(Av,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,ei("INTERNAL UNHANDLED ERROR: ",Pv(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=um.createAndSchedule(this,e,t,r,(a=>this.lc(a)));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:Pv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Pv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ks extends xh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new Cv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cv(e),this._firestoreClient=void 0,await e}}}function gx(n,e){const t=typeof n=="object"?n:Op(),r=typeof n=="string"?n:Zc,o=mh(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=IE("firestore");a&&mx(o,...a)}return o}function pm(n){if(n._terminated)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yx(n),n._firestoreClient}function yx(n){var e,t,r;const o=n._freezeSettings(),a=(function(d,p,g,_){return new zP(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,bT(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new cx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Ut.fromBase64String(e))}catch(t){throw new ae(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hl(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:vt("string",Dn._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tr._jsonSchemaVersion}}static fromJSON(e){if(Hl(e,Tr._jsonSchema))return new Tr(e.latitude,e.longitude)}}Tr._jsonSchemaVersion="firestore/geoPoint/1.0",Tr._jsonSchema={type:vt("string",Tr._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hl(e,Ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ir(e.vectorValues);throw new ae(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ir._jsonSchemaVersion="firestore/vectorValue/1.0",Ir._jsonSchema={type:vt("string",Ir._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=/^__.*__$/;class vx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wl(e,this.data,t,this.fieldTransforms)}}class VT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:n})}}class gm{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new gm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.fc(e),o}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return uh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(MT(this.Ec)&&_x.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Ex{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ph(e)}Dc(e,t,r,o=!1){return new gm({Ec:e,methodName:t,bc:r,path:Ft.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dh(n){const e=n._freezeSettings(),t=Ph(n._databaseId);return new Ex(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FT(n,e,t,r,o,a={}){const u=n.Dc(a.merge||a.mergeFields?2:0,e,t,o);ym("Data must be an object, but it was:",u,r);const d=UT(r,u);let p,g;if(a.merge)p=new wn(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const T=fp(e,E,t);if(!u.contains(T))throw new ae(Q.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);BT(_,T)||_.push(T)}p=new wn(_),g=u.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=u.fieldTransforms;return new vx(new cn(d),p,g)}class bh extends mm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bh}}function wx(n,e,t,r){const o=n.Dc(1,e,t);ym("Data must be an object, but it was:",o,r);const a=[],u=cn.empty();Qi(r,((p,g)=>{const _=_m(e,p,t);g=at(g);const E=o.gc(_);if(g instanceof bh)a.push(_);else{const T=Jl(g,E);T!=null&&(a.push(_),u.set(_,T))}}));const d=new wn(a);return new VT(u,d,o.fieldTransforms)}function Tx(n,e,t,r,o,a){const u=n.Dc(1,e,t),d=[fp(e,r,t)],p=[o];if(a.length%2!=0)throw new ae(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(fp(e,a[T])),p.push(a[T+1]);const g=[],_=cn.empty();for(let T=d.length-1;T>=0;--T)if(!BT(g,d[T])){const x=d[T];let A=p[T];A=at(A);const b=u.gc(x);if(A instanceof bh)g.push(x);else{const P=Jl(A,b);P!=null&&(g.push(x),_.set(x,P))}}const E=new wn(g);return new VT(_,E,u.fieldTransforms)}function Ix(n,e,t,r=!1){return Jl(t,n.Dc(r?4:3,e))}function Jl(n,e){if(jT(n=at(n)))return ym("Unsupported field value:",e,n),UT(n,e);if(n instanceof mm)return(function(r,o){if(!MT(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const d of r){let p=Jl(d,o.yc(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hk(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ze.fromDate(r);return{timestampValue:sh(o.serializer,a)}}if(r instanceof Ze){const a=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(o.serializer,a)}}if(r instanceof Tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dn)return{bytesValue:tT(o.serializer,r._byteString)};if(r instanceof ft){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:em(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ir)return(function(u,d){return{mapValue:{fields:{[Nw]:{stringValue:xw},[eh]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return Jp(d.serializer,g)}))}}}}}})(r,o);throw o.wc(`Unsupported field value: ${vh(r)}`)})(n,e)}function UT(n,e){const t={};return Sw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(n,((r,o)=>{const a=Jl(o,e.Vc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function jT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof Tr||n instanceof Dn||n instanceof ft||n instanceof mm||n instanceof Ir)}function ym(n,e,t){if(!jT(t)||!Tw(t)){const r=vh(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function fp(n,e,t){if((e=at(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return _m(n,e);throw uh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Sx=new RegExp("[~\\*/\\[\\]]");function _m(n,e,t){if(e.search(Sx)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oh(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uh(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${r}`),u&&(p+=` in document ${o}`),p+=")"),new ae(Q.INVALID_ARGUMENT,d+n+p)}function BT(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Rx extends zT{data(){return super.data()}}function vm(n,e){return typeof e=="string"?_m(n,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Em{}class Cx extends Em{}function $T(n,e,...t){let r=[];e instanceof Em&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((p=>p instanceof wm)).length,d=a.filter((p=>p instanceof Lh)).length;if(u>1||u>0&&d>0)throw new ae(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Lh extends Cx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Lh(e,t,r)}_apply(e){const t=this._parse(e);return qT(e._query,t),new ha(e.firestore,e.converter,np(e._query,t))}_parse(e){const t=Dh(e.firestore);return(function(a,u,d,p,g,_,E){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Nv(E,_);const A=[];for(const b of E)A.push(kv(p,a,b));T={arrayValue:{values:A}}}else T=kv(p,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Nv(E,_),T=Ix(d,u,E,_==="in"||_==="not-in");return _t.create(g,_,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function HT(n,e,t){const r=e,o=vm("where",n);return Lh._create(o,r,t)}class wm extends Em{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wm(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let u=o;const d=a.getFlattenedFilters();for(const p of d)qT(u,p),u=np(u,p)})(e._query,t),new ha(e.firestore,e.converter,np(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kv(n,e,t){if(typeof(t=at(t))=="string"){if(t==="")throw new ae(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uw(e)&&t.indexOf("/")!==-1)throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Je.fromString(t));if(!_e.isDocumentKey(r))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return W_(n,new _e(r))}if(t instanceof ft)return W_(n,t._key);throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(t)}.`)}function Nv(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qT(n,e){const t=(function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Px{convertValue(e,t="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Qi(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[eh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((u=>dt(u.doubleValue)));return new Ir(a)}convertGeoPoint(e){return new Tr(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Th(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const t=Bi(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Je.fromString(e);ze(aT(r),9688,{name:e});const o=new Nl(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return o.isEqual(t)||ei(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ks extends zT{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ks._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:vt("string",ks._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class Uc extends ks{data(e={}){return super.data(e)}}class Xo{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new gl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Uc(this._firestore,this._userDataWriter,r.key,r,new gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const p=new Uc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new gl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const p=new Uc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new gl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:kx(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$p.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n){n=er(n,ft);const e=er(n.firestore,Ks);return fx(pm(e),n._key).then((t=>Dx(e,n,t)))}Xo._jsonSchemaVersion="firestore/querySnapshot/1.0",Xo._jsonSchema={type:vt("string",Xo._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class KT extends Px{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,t)}}function Im(n){n=er(n,ha);const e=er(n.firestore,Ks),t=pm(e),r=new KT(e);return Ax(n._query),px(t,n._query).then((o=>new Xo(e,r,n,o)))}function Nx(n,e,t){n=er(n,ft);const r=er(n.firestore,Ks),o=WT(n.converter,e);return Vh(r,[FT(Dh(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,bn.none())])}function xx(n,e,t,...r){n=er(n,ft);const o=er(n.firestore,Ks),a=Dh(o);let u;return u=typeof(e=at(e))=="string"||e instanceof Oh?Tx(a,"updateDoc",n._key,e,t,r):wx(a,"updateDoc",n._key,e),Vh(o,[u.toMutation(n._key,bn.exists(!0))])}function Ox(n){return Vh(er(n.firestore,Ks),[new Xp(n._key,bn.none())])}function GT(n,e){const t=er(n.firestore,Ks),r=Fs(n),o=WT(n.converter,e);return Vh(t,[FT(Dh(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then((()=>r))}function Vh(n,e){return(function(r,o){const a=new Jr;return r.asyncQueue.enqueueAndForget((async()=>tx(await dx(r),o,a))),a.promise})(pm(n),e)}function Dx(n,e,t){const r=t.docs.get(e._key),o=new KT(n);return new ks(n,o,e._key,r,new gl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){aa=o})($s),Ds(new Fi("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Ks(new SP(r.getProvider("auth-internal")),new CP(u,r.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ae(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(g.options.projectId,_)})(u,o),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),yr(O_,D_,e),yr(O_,D_,"esm2017")})();var bx="firebase",Lx="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(bx,Lx,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebasestorage.googleapis.com",JT="storageBucket",Vx=120*1e3,Mx=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends Cr{constructor(e,t,r=0){super(bf(e),`Firebase Storage: ${t} (${bf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function bf(n){return"storage/"+n}function Sm(){const n="An unknown error occurred, please check the error payload for server response.";return new ut(lt.UNKNOWN,n)}function Fx(n){return new ut(lt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Ux(n){return new ut(lt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jx(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(lt.UNAUTHENTICATED,n)}function Bx(){return new ut(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zx(n){return new ut(lt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function $x(){return new ut(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Hx(){return new ut(lt.CANCELED,"User canceled the upload/download.")}function qx(n){return new ut(lt.INVALID_URL,"Invalid URL '"+n+"'.")}function Wx(n){return new ut(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Kx(){return new ut(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JT+"' property when initializing the app?")}function Gx(){return new ut(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qx(){return new ut(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jx(n){return new ut(lt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pp(n){return new ut(lt.INVALID_ARGUMENT,n)}function XT(){return new ut(lt.APP_DELETED,"The Firebase app was deleted.")}function Xx(n){return new ut(lt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Il(n,e){return new ut(lt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ul(n){throw new ut(lt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Tn.makeFromUrl(e,t)}catch{return new Tn(e,"")}if(r.path==="")return r;throw Wx(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const _="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",x=new RegExp(`^https?://${E}/${_}/b/${o}/o${T}`,"i"),A={bucket:1,path:3},b=t===QT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",J=new RegExp(`^https?://${b}/${o}/${P}`,"i"),K=[{regex:d,indices:p,postModify:a},{regex:x,indices:A,postModify:g},{regex:J,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<K.length;ie++){const pe=K[ie],ne=pe.regex.exec(e);if(ne){const N=ne[pe.indices.bucket];let S=ne[pe.indices.path];S||(S=""),r=new Tn(N,S),pe.postModify(r);break}}if(r==null)throw qx(e);return r}}class Yx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(n,e,t){let r=1,o=null,a=null,u=!1,d=0;function p(){return d===2}let g=!1;function _(...P){g||(g=!0,e.apply(null,P))}function E(P){o=setTimeout(()=>{o=null,n(x,p())},P)}function T(){a&&clearTimeout(a)}function x(P,...J){if(g){T();return}if(P){T(),_.call(null,P,...J);return}if(p()||u){T(),_.call(null,P,...J);return}r<64&&(r*=2);let K;d===1?(d=2,K=0):K=(r+Math.random())*1e3,E(K)}let A=!1;function b(P){A||(A=!0,T(),!g&&(o!==null?(P||(d=2),clearTimeout(o),E(0)):P||(d=1)))}return E(0),a=setTimeout(()=>{u=!0,b(!0)},t),b}function eO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n){return n!==void 0}function nO(n){return typeof n=="object"&&!Array.isArray(n)}function Rm(n){return typeof n=="string"||n instanceof String}function xv(n){return Am()&&n instanceof Blob}function Am(){return typeof Blob<"u"}function Ov(n,e,t,r){if(r<e)throw pp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw pp(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function YT(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ns;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ns||(Ns={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t,r,o,a,u,d,p,g,_,E,T=!0,x=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=E,this.retry=T,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,b)=>{this.resolve_=A,this.reject_=b,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Rc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===Ns.NO_ERROR,p=a.getStatus();if(!d||rO(p,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===Ns.ABORT;r(!1,new Rc(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new Rc(g,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());tO(p)?a(p):a()}catch(p){u(p)}else if(d!==null){const p=Sm();p.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,p)):u(p)}else if(o.canceled){const p=this.appDelete_?XT():Hx();u(p)}else{const p=$x();u(p)}};this.canceled_?t(!1,new Rc(!1,null,!0)):this.backoffId_=Zx(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function sO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function oO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function lO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function uO(n,e,t,r,o,a,u=!0,d=!1){const p=YT(n.urlParams),g=n.url+p,_=Object.assign({},n.headers);return aO(_,e),sO(_,t),oO(_,a),lO(_,r),new iO(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hO(...n){const e=cO();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Am())return new Blob(n);throw new ut(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dO(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(n){if(typeof atob>"u")throw Jx("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lf{constructor(e,t){this.data=e,this.contentType=t||null}}function pO(n,e){switch(n){case gr.RAW:return new Lf(ZT(e));case gr.BASE64:case gr.BASE64URL:return new Lf(e0(n,e));case gr.DATA_URL:return new Lf(gO(e),yO(e))}throw Sm()}function ZT(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function mO(n){let e;try{e=decodeURIComponent(n)}catch{throw Il(gr.DATA_URL,"Malformed data URL.")}return ZT(e)}function e0(n,e){switch(n){case gr.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Il(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case gr.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Il(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=fO(e)}catch(o){throw o.message.includes("polyfill")?o:Il(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class t0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Il(gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=_O(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function gO(n){const e=new t0(n);return e.base64?e0(gr.BASE64,e.rest):mO(e.rest)}function yO(n){return new t0(n).contentType}function _O(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,t){let r=0,o="";xv(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(xv(this.data_)){const r=this.data_,o=dO(r,e,t);return o===null?null:new Oi(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Oi(r,!0)}}static getBlob(...e){if(Am()){const t=e.map(r=>r instanceof Oi?r.data_:r);return new Oi(hO.apply(null,t))}else{const t=e.map(u=>Rm(u)?pO(gr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)o[a++]=u[d]}),new Oi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(n){let e;try{e=JSON.parse(n)}catch{return null}return nO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function EO(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function r0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(n,e){return e}class Zt{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||wO}}let Ac=null;function TO(n){return!Rm(n)||n.length<2?n:r0(n)}function i0(){if(Ac)return Ac;const n=[];n.push(new Zt("bucket")),n.push(new Zt("generation")),n.push(new Zt("metageneration")),n.push(new Zt("name","fullPath",!0));function e(a,u){return TO(u)}const t=new Zt("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const o=new Zt("size");return o.xform=r,n.push(o),n.push(new Zt("timeCreated")),n.push(new Zt("updated")),n.push(new Zt("md5Hash",null,!0)),n.push(new Zt("cacheControl",null,!0)),n.push(new Zt("contentDisposition",null,!0)),n.push(new Zt("contentEncoding",null,!0)),n.push(new Zt("contentLanguage",null,!0)),n.push(new Zt("contentType",null,!0)),n.push(new Zt("metadata","customMetadata",!0)),Ac=n,Ac}function IO(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new Tn(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function SO(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return IO(r,n),r}function s0(n,e,t){const r=n0(e);return r===null?null:SO(n,r,t)}function RO(n,e,t,r){const o=n0(e);if(o===null||!Rm(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(g=>{const _=n.bucket,E=n.fullPath,T="/b/"+u(_)+"/o/"+u(E),x=Cm(T,t,r),A=YT({alt:"media",token:g});return x+A})[0]}function AO(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class o0{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(n){if(!n)throw Sm()}function CO(n,e){function t(r,o){const a=s0(n,o,e);return a0(a!==null),a}return t}function PO(n,e){function t(r,o){const a=s0(n,o,e);return a0(a!==null),RO(a,o,n.host,n._protocol)}return t}function l0(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Bx():o=jx():t.getStatus()===402?o=Ux(n.bucket):t.getStatus()===403?o=zx(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function kO(n){const e=l0(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=Fx(n.path)),a.serverResponse=o.serverResponse,a}return t}function NO(n,e,t){const r=e.fullServerUrl(),o=Cm(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new o0(o,a,PO(n,t),u);return d.errorHandler=kO(e),d}function xO(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function OO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=xO(null,e)),r}function DO(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let K="";for(let ie=0;ie<2;ie++)K=K+Math.random().toString().slice(2);return K}const p=d();u["Content-Type"]="multipart/related; boundary="+p;const g=OO(e,r,o),_=AO(g,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",x=Oi.getBlob(E,r,T);if(x===null)throw Gx();const A={name:g.fullPath},b=Cm(a,n.host,n._protocol),P="POST",J=n.maxUploadRetryTime,X=new o0(b,P,CO(n,t),J);return X.urlParams=A,X.headers=u,X.body=x.uploadData(),X.errorHandler=l0(e),X}class bO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ns.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ns.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ns.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,a){if(this.sent_)throw ul("cannot .send() more than once");if(Wi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class LO extends bO{initXhr(){this.xhr_.responseType="text"}}function u0(){return new LO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){this._service=e,t instanceof Tn?this._location=t:this._location=Tn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Us(e,t)}get root(){const e=new Tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return r0(this._location.path)}get storage(){return this._service}get parent(){const e=vO(this._location.path);if(e===null)return null;const t=new Tn(this._location.bucket,e);return new Us(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Xx(e)}}function VO(n,e,t){n._throwIfRoot("uploadBytes");const r=DO(n.storage,n._location,i0(),new Oi(e,!0),t);return n.storage.makeRequestWithTokens(r,u0).then(o=>({metadata:o,ref:n}))}function MO(n){n._throwIfRoot("getDownloadURL");const e=NO(n.storage,n._location,i0());return n.storage.makeRequestWithTokens(e,u0).then(t=>{if(t===null)throw Qx();return t})}function FO(n,e){const t=EO(n._location.path,e),r=new Tn(n._location.bucket,t);return new Us(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n){return/^[A-Za-z]+:\/\//.test(n)}function jO(n,e){return new Us(n,e)}function c0(n,e){if(n instanceof Pm){const t=n;if(t._bucket==null)throw Kx();const r=new Us(t,t._bucket);return e!=null?c0(r,e):r}else return e!==void 0?FO(n,e):n}function BO(n,e){if(e&&UO(e)){if(n instanceof Pm)return jO(n,e);throw pp("To use ref(service, url), the first argument must be a Storage instance.")}else return c0(n,e)}function Dv(n,e){const t=e==null?void 0:e[JT];return t==null?null:Tn.makeFromBucketSpec(t,n)}function zO(n,e,t,r={}){n.host=`${e}:${t}`;const o=Wi(e);o&&(Pp(`https://${n.host}/b`),kp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:AE(a,n.app.options.projectId))}class Pm{constructor(e,t,r,o,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=QT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vx,this._maxUploadRetryTime=Mx,this._requests=new Set,o!=null?this._bucket=Tn.makeFromBucketSpec(o,this._host):this._bucket=Dv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,e):this._bucket=Dv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ov("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ov("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Us(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new Yx(XT());{const u=uO(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const bv="@firebase/storage",Lv="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="storage";function Vv(n,e,t){return n=at(n),VO(n,e,t)}function mp(n){return n=at(n),MO(n)}function gp(n,e){return n=at(n),BO(n,e)}function $O(n=Op(),e){n=at(n);const r=mh(n,h0).getImmediate({identifier:e}),o=IE("storage");return o&&HO(r,...o),r}function HO(n,e,t,r={}){zO(n,e,t,r)}function qO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Pm(t,r,o,e,$s)}function WO(){Ds(new Fi(h0,qO,"PUBLIC").setMultipleInstances(!0)),yr(bv,Lv,""),yr(bv,Lv,"esm2017")}WO();const KO={apiKey:"AIzaSyDYNx_Q_xJI35iMZLPKXrs5nD62f0Nlfws",authDomain:"ninja-store-d9c62.firebaseapp.com",projectId:"ninja-store-d9c62",storageBucket:"ninja-store-d9c62.firebasestorage.app",messagingSenderId:"167260749498",appId:"1:167260749498:web:6eaf80d557c16942ac766b"},km=kE(KO),ch=EP(km),Yn=gx(km),yp=$O(km),GO=({user:n})=>{const e=zs(),t=async()=>{try{await u1(ch),e("/")}catch(r){console.error("Erro ao fazer logout:",r)}};return F.jsx("header",{className:"header",children:F.jsx("div",{className:"container",children:F.jsxs("div",{className:"header-content",children:[F.jsxs(As,{to:"/",className:"logo",children:[F.jsx("span",{className:"logo-ninja",children:"NINJA"}),F.jsx("span",{className:"logo-store",children:"STORE"})]}),F.jsxs("nav",{className:"nav",children:[F.jsx(As,{to:"/",className:"nav-link",children:"Produtos"}),n?F.jsxs(F.Fragment,{children:[F.jsx(As,{to:"/my-orders",className:"nav-link",children:"Meus Pedidos"}),n.isAdmin&&F.jsx(As,{to:"/admin",className:"nav-link",children:"Admin"}),F.jsx("button",{onClick:t,className:"nav-link btn-logout",children:"Sair"})]}):F.jsx(As,{to:"/login",className:"nav-link",children:"Login"})]})]})})})},QO=()=>F.jsx("section",{className:"hero",children:F.jsx("div",{className:"container",children:F.jsxs("div",{className:"hero-content",children:[F.jsxs("h1",{className:"hero-title",children:["PRODUTOS",F.jsx("br",{}),F.jsx("span",{className:"hero-title-digital",children:"DIGITAIS"})]}),F.jsx("p",{className:"hero-subtitle",children:"Compre e baixe instantaneamente seus produtos favoritos"}),F.jsx("a",{href:"#products",className:"btn btn-primary hero-cta",children:"Ver Produtos"})]})})}),JO=({product:n})=>{const e=zs(),t=()=>{e(`/product/${n.id}`)};return F.jsxs("div",{className:"product-card",onClick:t,children:[F.jsxs("div",{className:"product-image",children:[F.jsx("img",{src:n.imageUrl||"https://via.placeholder.com/300x200?text=Produto",alt:n.name}),F.jsx("div",{className:"product-overlay",children:F.jsx("i",{className:"fas fa-eye"})})]}),F.jsxs("div",{className:"product-info",children:[F.jsx("h3",{className:"product-name",children:n.name}),F.jsx("p",{className:"product-description",children:n.description}),F.jsxs("div",{className:"product-footer",children:[F.jsxs("span",{className:"product-price",children:["R$ ",n.price.toFixed(2)]}),F.jsxs("button",{className:"btn-buy",children:[F.jsx("i",{className:"fas fa-shopping-cart"})," Comprar"]})]})]})]})},XO=()=>{const n=[{id:"1",name:"E-book Premium",description:"Guia completo para iniciantes",price:49.9,imageUrl:"https://via.placeholder.com/300x200/ff00ff/ffffff?text=E-book",active:!0},{id:"2",name:"Template Design",description:"Pack com 50 templates profissionais",price:79.9,imageUrl:"https://via.placeholder.com/300x200/00f3ff/ffffff?text=Templates",active:!0},{id:"3",name:"Curso Online",description:"Acesso vitalcio ao curso completo",price:149.9,imageUrl:"https://via.placeholder.com/300x200/39ff14/000000?text=Curso",active:!0}],[e,t]=H.useState(n),[r,o]=H.useState(!1);H.useEffect(()=>{a()},[]);const a=async()=>{try{const u=$T(bl(Yn,"products"),HT("active","==",!0)),d=await Im(u);if(d.docs.length>0){const p=d.docs.map(g=>({id:g.id,...g.data()}));t(p)}}catch{console.log("Usando produtos mockados para demonstrao")}};return F.jsxs("div",{className:"home",children:[F.jsx(QO,{}),F.jsx("section",{id:"products",className:"products-section",children:F.jsxs("div",{className:"container",children:[F.jsx("h2",{className:"section-title",children:"Nossos Produtos"}),r?F.jsx("div",{className:"loading",children:F.jsx("div",{className:"spinner"})}):e.length===0?F.jsx("p",{className:"no-products",children:"Nenhum produto disponvel no momento."}):F.jsx("div",{className:"products-grid",children:e.map(u=>F.jsx(JO,{product:u},u.id))})]})})]})},YO=()=>{const[n,e]=H.useState(""),[t,r]=H.useState(""),[o,a]=H.useState(!1),[u,d]=H.useState(""),[p,g]=H.useState(!1),_=zs(),E=async T=>{T.preventDefault(),d(""),g(!0);try{if(o){console.log("Criando conta para:",n);const x=await i1(ch,n,t);console.log("Conta criada com sucesso:",x.user.uid);try{await Nx(Fs(Yn,"users",x.user.uid),{email:n,isAdmin:!1,createdAt:new Date}),console.log("Documento do usurio criado no Firestore")}catch(A){console.error("Erro ao criar documento no Firestore:",A)}}else console.log("Fazendo login para:",n),await s1(ch,n,t),console.log("Login realizado com sucesso");setTimeout(()=>{g(!1),_("/")},500)}catch(x){console.error("Erro de autenticao:",x),g(!1);let A="Erro ao processar sua solicitao";x.code==="auth/email-already-in-use"?A="Este e-mail j est em uso":x.code==="auth/invalid-email"?A="E-mail invlido":x.code==="auth/weak-password"?A="A senha deve ter pelo menos 6 caracteres":x.code==="auth/user-not-found"?A="Usurio no encontrado":x.code==="auth/wrong-password"?A="Senha incorreta":x.code==="auth/invalid-credential"?A="Credenciais invlidas":A=x.message,d(A)}};return F.jsx("div",{className:"login-page",children:F.jsxs("div",{className:"login-container",children:[F.jsx("h1",{className:"login-title",children:o?"Criar Conta":"Login"}),F.jsxs("form",{onSubmit:E,className:"login-form",children:[F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Email"}),F.jsx("input",{type:"email",value:n,onChange:T=>e(T.target.value),required:!0,placeholder:"seu@email.com",disabled:p})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Senha"}),F.jsx("input",{type:"password",value:t,onChange:T=>r(T.target.value),required:!0,placeholder:"",minLength:"6",disabled:p})]}),u&&F.jsx("p",{className:"error-message",children:u}),F.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Carregando...":o?"Criar Conta":"Entrar"})]}),F.jsxs("p",{className:"toggle-text",children:[o?"J tem uma conta?":"No tem uma conta?",F.jsx("button",{onClick:()=>{a(!o),d("")},className:"toggle-button",disabled:p,children:o?"Fazer Login":"Criar Conta"})]})]})})};function d0(n,e){return function(){return n.apply(e,arguments)}}const{toString:ZO}=Object.prototype,{getPrototypeOf:Nm}=Object,{iterator:Mh,toStringTag:f0}=Symbol,Fh=(n=>e=>{const t=ZO.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),nr=n=>(n=n.toLowerCase(),e=>Fh(e)===n),Uh=n=>e=>typeof e===n,{isArray:da}=Array,ra=Uh("undefined");function Xl(n){return n!==null&&!ra(n)&&n.constructor!==null&&!ra(n.constructor)&&hn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const p0=nr("ArrayBuffer");function eD(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&p0(n.buffer),e}const tD=Uh("string"),hn=Uh("function"),m0=Uh("number"),Yl=n=>n!==null&&typeof n=="object",nD=n=>n===!0||n===!1,jc=n=>{if(Fh(n)!=="object")return!1;const e=Nm(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(f0 in n)&&!(Mh in n)},rD=n=>{if(!Yl(n)||Xl(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},iD=nr("Date"),sD=nr("File"),oD=nr("Blob"),aD=nr("FileList"),lD=n=>Yl(n)&&hn(n.pipe),uD=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||hn(n.append)&&((e=Fh(n))==="formdata"||e==="object"&&hn(n.toString)&&n.toString()==="[object FormData]"))},cD=nr("URLSearchParams"),[hD,dD,fD,pD]=["ReadableStream","Request","Response","Headers"].map(nr),mD=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zl(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,o;if(typeof n!="object"&&(n=[n]),da(n))for(r=0,o=n.length;r<o;r++)e.call(null,n[r],r,n);else{if(Xl(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let d;for(r=0;r<u;r++)d=a[r],e.call(null,n[d],d,n)}}function g0(n,e){if(Xl(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,o;for(;r-- >0;)if(o=t[r],e===o.toLowerCase())return o;return null}const Ps=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,y0=n=>!ra(n)&&n!==Ps;function _p(){const{caseless:n,skipUndefined:e}=y0(this)&&this||{},t={},r=(o,a)=>{const u=n&&g0(t,a)||a;jc(t[u])&&jc(o)?t[u]=_p(t[u],o):jc(o)?t[u]=_p({},o):da(o)?t[u]=o.slice():(!e||!ra(o))&&(t[u]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Zl(arguments[o],r);return t}const gD=(n,e,t,{allOwnKeys:r}={})=>(Zl(e,(o,a)=>{t&&hn(o)?Object.defineProperty(n,a,{value:d0(o,t),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(n,a,{value:o,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),n),yD=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),_D=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},vD=(n,e,t,r)=>{let o,a,u;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)u=o[a],(!r||r(u,n,e))&&!d[u]&&(e[u]=n[u],d[u]=!0);n=t!==!1&&Nm(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},ED=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},wD=n=>{if(!n)return null;if(da(n))return n;let e=n.length;if(!m0(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},TD=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Nm(Uint8Array)),ID=(n,e)=>{const r=(n&&n[Mh]).call(n);let o;for(;(o=r.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},SD=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},RD=nr("HTMLFormElement"),AD=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,o){return r.toUpperCase()+o}),Mv=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),CD=nr("RegExp"),_0=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Zl(t,(o,a)=>{let u;(u=e(o,a,n))!==!1&&(r[a]=u||o)}),Object.defineProperties(n,r)},PD=n=>{_0(n,(e,t)=>{if(hn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(hn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},kD=(n,e)=>{const t={},r=o=>{o.forEach(a=>{t[a]=!0})};return da(n)?r(n):r(String(n).split(e)),t},ND=()=>{},xD=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function OD(n){return!!(n&&hn(n.append)&&n[f0]==="FormData"&&n[Mh])}const DD=n=>{const e=new Array(10),t=(r,o)=>{if(Yl(r)){if(e.indexOf(r)>=0)return;if(Xl(r))return r;if(!("toJSON"in r)){e[o]=r;const a=da(r)?[]:{};return Zl(r,(u,d)=>{const p=t(u,o+1);!ra(p)&&(a[d]=p)}),e[o]=void 0,a}}return r};return t(n,0)},bD=nr("AsyncFunction"),LD=n=>n&&(Yl(n)||hn(n))&&hn(n.then)&&hn(n.catch),v0=((n,e)=>n?setImmediate:e?((t,r)=>(Ps.addEventListener("message",({source:o,data:a})=>{o===Ps&&a===t&&r.length&&r.shift()()},!1),o=>{r.push(o),Ps.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",hn(Ps.postMessage)),VD=typeof queueMicrotask<"u"?queueMicrotask.bind(Ps):typeof process<"u"&&process.nextTick||v0,MD=n=>n!=null&&hn(n[Mh]),q={isArray:da,isArrayBuffer:p0,isBuffer:Xl,isFormData:uD,isArrayBufferView:eD,isString:tD,isNumber:m0,isBoolean:nD,isObject:Yl,isPlainObject:jc,isEmptyObject:rD,isReadableStream:hD,isRequest:dD,isResponse:fD,isHeaders:pD,isUndefined:ra,isDate:iD,isFile:sD,isBlob:oD,isRegExp:CD,isFunction:hn,isStream:lD,isURLSearchParams:cD,isTypedArray:TD,isFileList:aD,forEach:Zl,merge:_p,extend:gD,trim:mD,stripBOM:yD,inherits:_D,toFlatObject:vD,kindOf:Fh,kindOfTest:nr,endsWith:ED,toArray:wD,forEachEntry:ID,matchAll:SD,isHTMLForm:RD,hasOwnProperty:Mv,hasOwnProp:Mv,reduceDescriptors:_0,freezeMethods:PD,toObjectSet:kD,toCamelCase:AD,noop:ND,toFiniteNumber:xD,findKey:g0,global:Ps,isContextDefined:y0,isSpecCompliantForm:OD,toJSONObject:DD,isAsyncFn:bD,isThenable:LD,setImmediate:v0,asap:VD,isIterable:MD};let Ie=class E0 extends Error{static from(e,t,r,o,a,u){const d=new E0(e.message,t||e.code,r,o,a);return d.cause=e,d.name=e.name,u&&Object.assign(d,u),d}constructor(e,t,r,o,a){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}};Ie.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ie.ERR_BAD_OPTION="ERR_BAD_OPTION";Ie.ECONNABORTED="ECONNABORTED";Ie.ETIMEDOUT="ETIMEDOUT";Ie.ERR_NETWORK="ERR_NETWORK";Ie.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ie.ERR_DEPRECATED="ERR_DEPRECATED";Ie.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ie.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ie.ERR_CANCELED="ERR_CANCELED";Ie.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ie.ERR_INVALID_URL="ERR_INVALID_URL";const FD=null;function vp(n){return q.isPlainObject(n)||q.isArray(n)}function w0(n){return q.endsWith(n,"[]")?n.slice(0,-2):n}function Fv(n,e,t){return n?n.concat(e).map(function(o,a){return o=w0(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function UD(n){return q.isArray(n)&&!n.some(vp)}const jD=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function jh(n,e,t){if(!q.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,P){return!q.isUndefined(P[b])});const r=t.metaTokens,o=t.visitor||_,a=t.dots,u=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(o))throw new TypeError("visitor must be a function");function g(A){if(A===null)return"";if(q.isDate(A))return A.toISOString();if(q.isBoolean(A))return A.toString();if(!p&&q.isBlob(A))throw new Ie("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(A)||q.isTypedArray(A)?p&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function _(A,b,P){let J=A;if(A&&!P&&typeof A=="object"){if(q.endsWith(b,"{}"))b=r?b:b.slice(0,-2),A=JSON.stringify(A);else if(q.isArray(A)&&UD(A)||(q.isFileList(A)||q.endsWith(b,"[]"))&&(J=q.toArray(A)))return b=w0(b),J.forEach(function(K,ie){!(q.isUndefined(K)||K===null)&&e.append(u===!0?Fv([b],ie,a):u===null?b:b+"[]",g(K))}),!1}return vp(A)?!0:(e.append(Fv(P,b,a),g(A)),!1)}const E=[],T=Object.assign(jD,{defaultVisitor:_,convertValue:g,isVisitable:vp});function x(A,b){if(!q.isUndefined(A)){if(E.indexOf(A)!==-1)throw Error("Circular reference detected in "+b.join("."));E.push(A),q.forEach(A,function(J,X){(!(q.isUndefined(J)||J===null)&&o.call(e,J,q.isString(X)?X.trim():X,b,T))===!0&&x(J,b?b.concat(X):[X])}),E.pop()}}if(!q.isObject(n))throw new TypeError("data must be an object");return x(n),e}function Uv(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function xm(n,e){this._pairs=[],n&&jh(n,this,e)}const T0=xm.prototype;T0.append=function(e,t){this._pairs.push([e,t])};T0.toString=function(e){const t=e?function(r){return e.call(this,r,Uv)}:Uv;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function BD(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function I0(n,e,t){if(!e)return n;const r=t&&t.encode||BD,o=q.isFunction(t)?{serialize:t}:t,a=o&&o.serialize;let u;if(a?u=a(e,o):u=q.isURLSearchParams(e)?e.toString():new xm(e,o).toString(r),u){const d=n.indexOf("#");d!==-1&&(n=n.slice(0,d)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class jv{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(r){r!==null&&e(r)})}}const S0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zD=typeof URLSearchParams<"u"?URLSearchParams:xm,$D=typeof FormData<"u"?FormData:null,HD=typeof Blob<"u"?Blob:null,qD={isBrowser:!0,classes:{URLSearchParams:zD,FormData:$D,Blob:HD},protocols:["http","https","file","blob","url","data"]},Om=typeof window<"u"&&typeof document<"u",Ep=typeof navigator=="object"&&navigator||void 0,WD=Om&&(!Ep||["ReactNative","NativeScript","NS"].indexOf(Ep.product)<0),KD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",GD=Om&&window.location.href||"http://localhost",QD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Om,hasStandardBrowserEnv:WD,hasStandardBrowserWebWorkerEnv:KD,navigator:Ep,origin:GD},Symbol.toStringTag,{value:"Module"})),Kt={...QD,...qD};function JD(n,e){return jh(n,new Kt.classes.URLSearchParams,{visitor:function(t,r,o,a){return Kt.isNode&&q.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function XD(n){return q.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function YD(n){const e={},t=Object.keys(n);let r;const o=t.length;let a;for(r=0;r<o;r++)a=t[r],e[a]=n[a];return e}function R0(n){function e(t,r,o,a){let u=t[a++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),p=a>=t.length;return u=!u&&q.isArray(o)?o.length:u,p?(q.hasOwnProp(o,u)?o[u]=[o[u],r]:o[u]=r,!d):((!o[u]||!q.isObject(o[u]))&&(o[u]=[]),e(t,r,o[u],a)&&q.isArray(o[u])&&(o[u]=YD(o[u])),!d)}if(q.isFormData(n)&&q.isFunction(n.entries)){const t={};return q.forEachEntry(n,(r,o)=>{e(XD(r),o,t,0)}),t}return null}function ZD(n,e,t){if(q.isString(n))try{return(e||JSON.parse)(n),q.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const eu={transitional:S0,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",o=r.indexOf("application/json")>-1,a=q.isObject(e);if(a&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return o?JSON.stringify(R0(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return JD(e,this.formSerializer).toString();if((d=q.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return jh(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),ZD(e)):e}],transformResponse:[function(e){const t=this.transitional||eu.transitional,r=t&&t.forcedJSONParsing,o=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(r&&!this.responseType||o)){const u=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(d){if(u)throw d.name==="SyntaxError"?Ie.from(d,Ie.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],n=>{eu.headers[n]={}});const eb=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tb=n=>{const e={};let t,r,o;return n&&n.split(`
`).forEach(function(u){o=u.indexOf(":"),t=u.substring(0,o).trim().toLowerCase(),r=u.substring(o+1).trim(),!(!t||e[t]&&eb[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Bv=Symbol("internals");function cl(n){return n&&String(n).trim().toLowerCase()}function Bc(n){return n===!1||n==null?n:q.isArray(n)?n.map(Bc):String(n)}function nb(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const rb=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Vf(n,e,t,r,o){if(q.isFunction(r))return r.call(this,e,t);if(o&&(e=t),!!q.isString(e)){if(q.isString(r))return e.indexOf(r)!==-1;if(q.isRegExp(r))return r.test(e)}}function ib(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function sb(n,e){const t=q.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(o,a,u){return this[r].call(this,e,o,a,u)},configurable:!0})})}let dn=class{constructor(e){e&&this.set(e)}set(e,t,r){const o=this;function a(d,p,g){const _=cl(p);if(!_)throw new Error("header name must be a non-empty string");const E=q.findKey(o,_);(!E||o[E]===void 0||g===!0||g===void 0&&o[E]!==!1)&&(o[E||p]=Bc(d))}const u=(d,p)=>q.forEach(d,(g,_)=>a(g,_,p));if(q.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(q.isString(e)&&(e=e.trim())&&!rb(e))u(tb(e),t);else if(q.isObject(e)&&q.isIterable(e)){let d={},p,g;for(const _ of e){if(!q.isArray(_))throw TypeError("Object iterator must return a key-value pair");d[g=_[0]]=(p=d[g])?q.isArray(p)?[...p,_[1]]:[p,_[1]]:_[1]}u(d,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=cl(e),e){const r=q.findKey(this,e);if(r){const o=this[r];if(!t)return o;if(t===!0)return nb(o);if(q.isFunction(t))return t.call(this,o,r);if(q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=cl(e),e){const r=q.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Vf(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let o=!1;function a(u){if(u=cl(u),u){const d=q.findKey(r,u);d&&(!t||Vf(r,r[d],d,t))&&(delete r[d],o=!0)}}return q.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let r=t.length,o=!1;for(;r--;){const a=t[r];(!e||Vf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,r={};return q.forEach(this,(o,a)=>{const u=q.findKey(r,a);if(u){t[u]=Bc(o),delete t[a];return}const d=e?ib(a):String(a).trim();d!==a&&delete t[a],t[d]=Bc(o),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return q.forEach(this,(r,o)=>{r!=null&&r!==!1&&(t[o]=e&&q.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Bv]=this[Bv]={accessors:{}}).accessors,o=this.prototype;function a(u){const d=cl(u);r[d]||(sb(o,u),r[d]=!0)}return q.isArray(e)?e.forEach(a):a(e),this}};dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(dn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});q.freezeMethods(dn);function Mf(n,e){const t=this||eu,r=e||t,o=dn.from(r.headers);let a=r.data;return q.forEach(n,function(d){a=d.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function A0(n){return!!(n&&n.__CANCEL__)}let tu=class extends Ie{constructor(e,t,r){super(e??"canceled",Ie.ERR_CANCELED,t,r),this.name="CanceledError",this.__CANCEL__=!0}};function C0(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ie("Request failed with status code "+t.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ob(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function ab(n,e){n=n||10;const t=new Array(n),r=new Array(n);let o=0,a=0,u;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),_=r[a];u||(u=g),t[o]=p,r[o]=g;let E=a,T=0;for(;E!==o;)T+=t[E++],E=E%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),g-u<e)return;const x=_&&g-_;return x?Math.round(T*1e3/x):void 0}}function lb(n,e){let t=0,r=1e3/e,o,a;const u=(g,_=Date.now())=>{t=_,o=null,a&&(clearTimeout(a),a=null),n(...g)};return[(...g)=>{const _=Date.now(),E=_-t;E>=r?u(g,_):(o=g,a||(a=setTimeout(()=>{a=null,u(o)},r-E)))},()=>o&&u(o)]}const hh=(n,e,t=3)=>{let r=0;const o=ab(50,250);return lb(a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,p=u-r,g=o(p),_=u<=d;r=u;const E={loaded:u,total:d,progress:d?u/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&_?(d-u)/g:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(E)},t)},zv=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},$v=n=>(...e)=>q.asap(()=>n(...e)),ub=Kt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Kt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Kt.origin),Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent)):()=>!0,cb=Kt.hasStandardBrowserEnv?{write(n,e,t,r,o,a,u){if(typeof document>"u")return;const d=[`${n}=${encodeURIComponent(e)}`];q.isNumber(t)&&d.push(`expires=${new Date(t).toUTCString()}`),q.isString(r)&&d.push(`path=${r}`),q.isString(o)&&d.push(`domain=${o}`),a===!0&&d.push("secure"),q.isString(u)&&d.push(`SameSite=${u}`),document.cookie=d.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hb(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function db(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function P0(n,e,t){let r=!hb(e);return n&&(r||t==!1)?db(n,e):e}const Hv=n=>n instanceof dn?{...n}:n;function js(n,e){e=e||{};const t={};function r(g,_,E,T){return q.isPlainObject(g)&&q.isPlainObject(_)?q.merge.call({caseless:T},g,_):q.isPlainObject(_)?q.merge({},_):q.isArray(_)?_.slice():_}function o(g,_,E,T){if(q.isUndefined(_)){if(!q.isUndefined(g))return r(void 0,g,E,T)}else return r(g,_,E,T)}function a(g,_){if(!q.isUndefined(_))return r(void 0,_)}function u(g,_){if(q.isUndefined(_)){if(!q.isUndefined(g))return r(void 0,g)}else return r(void 0,_)}function d(g,_,E){if(E in e)return r(g,_);if(E in n)return r(void 0,g)}const p={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(g,_,E)=>o(Hv(g),Hv(_),E,!0)};return q.forEach(Object.keys({...n,...e}),function(_){const E=p[_]||o,T=E(n[_],e[_],_);q.isUndefined(T)&&E!==d||(t[_]=T)}),t}const k0=n=>{const e=js({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:u,auth:d}=e;if(e.headers=u=dn.from(u),e.url=I0(P0(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),q.isFormData(t)){if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(q.isFunction(t.getHeaders)){const p=t.getHeaders(),g=["content-type","content-length"];Object.entries(p).forEach(([_,E])=>{g.includes(_.toLowerCase())&&u.set(_,E)})}}if(Kt.hasStandardBrowserEnv&&(r&&q.isFunction(r)&&(r=r(e)),r||r!==!1&&ub(e.url))){const p=o&&a&&cb.read(a);p&&u.set(o,p)}return e},fb=typeof XMLHttpRequest<"u",pb=fb&&function(n){return new Promise(function(t,r){const o=k0(n);let a=o.data;const u=dn.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=o,_,E,T,x,A;function b(){x&&x(),A&&A(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let P=new XMLHttpRequest;P.open(o.method.toUpperCase(),o.url,!0),P.timeout=o.timeout;function J(){if(!P)return;const K=dn.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),pe={data:!d||d==="text"||d==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:K,config:n,request:P};C0(function(N){t(N),b()},function(N){r(N),b()},pe),P=null}"onloadend"in P?P.onloadend=J:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(J)},P.onabort=function(){P&&(r(new Ie("Request aborted",Ie.ECONNABORTED,n,P)),P=null)},P.onerror=function(ie){const pe=ie&&ie.message?ie.message:"Network Error",ne=new Ie(pe,Ie.ERR_NETWORK,n,P);ne.event=ie||null,r(ne),P=null},P.ontimeout=function(){let ie=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const pe=o.transitional||S0;o.timeoutErrorMessage&&(ie=o.timeoutErrorMessage),r(new Ie(ie,pe.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,n,P)),P=null},a===void 0&&u.setContentType(null),"setRequestHeader"in P&&q.forEach(u.toJSON(),function(ie,pe){P.setRequestHeader(pe,ie)}),q.isUndefined(o.withCredentials)||(P.withCredentials=!!o.withCredentials),d&&d!=="json"&&(P.responseType=o.responseType),g&&([T,A]=hh(g,!0),P.addEventListener("progress",T)),p&&P.upload&&([E,x]=hh(p),P.upload.addEventListener("progress",E),P.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(_=K=>{P&&(r(!K||K.type?new tu(null,n,P):K),P.abort(),P=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const X=ob(o.url);if(X&&Kt.protocols.indexOf(X)===-1){r(new Ie("Unsupported protocol "+X+":",Ie.ERR_BAD_REQUEST,n));return}P.send(a||null)})},mb=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,o;const a=function(g){if(!o){o=!0,d();const _=g instanceof Error?g:this.reason;r.abort(_ instanceof Ie?_:new tu(_ instanceof Error?_.message:_))}};let u=e&&setTimeout(()=>{u=null,a(new Ie(`timeout of ${e}ms exceeded`,Ie.ETIMEDOUT))},e);const d=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(a):g.removeEventListener("abort",a)}),n=null)};n.forEach(g=>g.addEventListener("abort",a));const{signal:p}=r;return p.unsubscribe=()=>q.asap(d),p}},gb=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,o;for(;r<t;)o=r+e,yield n.slice(r,o),r=o},yb=async function*(n,e){for await(const t of _b(n))yield*gb(t,e)},_b=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},qv=(n,e,t,r)=>{const o=yb(n,e);let a=0,u,d=p=>{u||(u=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:g,value:_}=await o.next();if(g){d(),p.close();return}let E=_.byteLength;if(t){let T=a+=E;t(T)}p.enqueue(new Uint8Array(_))}catch(g){throw d(g),g}},cancel(p){return d(p),o.return()}},{highWaterMark:2})},Wv=64*1024,{isFunction:Cc}=q,vb=(({Request:n,Response:e})=>({Request:n,Response:e}))(q.global),{ReadableStream:Kv,TextEncoder:Gv}=q.global,Qv=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Eb=n=>{n=q.merge.call({skipUndefined:!0},vb,n);const{fetch:e,Request:t,Response:r}=n,o=e?Cc(e):typeof fetch=="function",a=Cc(t),u=Cc(r);if(!o)return!1;const d=o&&Cc(Kv),p=o&&(typeof Gv=="function"?(A=>b=>A.encode(b))(new Gv):async A=>new Uint8Array(await new t(A).arrayBuffer())),g=a&&d&&Qv(()=>{let A=!1;const b=new t(Kt.origin,{body:new Kv,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!b}),_=u&&d&&Qv(()=>q.isReadableStream(new r("").body)),E={stream:_&&(A=>A.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!E[A]&&(E[A]=(b,P)=>{let J=b&&b[A];if(J)return J.call(b);throw new Ie(`Response type '${A}' is not supported`,Ie.ERR_NOT_SUPPORT,P)})});const T=async A=>{if(A==null)return 0;if(q.isBlob(A))return A.size;if(q.isSpecCompliantForm(A))return(await new t(Kt.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(q.isArrayBufferView(A)||q.isArrayBuffer(A))return A.byteLength;if(q.isURLSearchParams(A)&&(A=A+""),q.isString(A))return(await p(A)).byteLength},x=async(A,b)=>{const P=q.toFiniteNumber(A.getContentLength());return P??T(b)};return async A=>{let{url:b,method:P,data:J,signal:X,cancelToken:K,timeout:ie,onDownloadProgress:pe,onUploadProgress:ne,responseType:N,headers:S,withCredentials:C="same-origin",fetchOptions:O}=k0(A),V=e||fetch;N=N?(N+"").toLowerCase():"text";let U=mb([X,K&&K.toAbortSignal()],ie),k=null;const $e=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let Et;try{if(ne&&g&&P!=="get"&&P!=="head"&&(Et=await x(S,J))!==0){let M=new t(b,{method:"POST",body:J,duplex:"half"}),G;if(q.isFormData(J)&&(G=M.headers.get("content-type"))&&S.setContentType(G),M.body){const[me,Ae]=zv(Et,hh($v(ne)));J=qv(M.body,Wv,me,Ae)}}q.isString(C)||(C=C?"include":"omit");const qe=a&&"credentials"in t.prototype,Ue={...O,signal:U,method:P.toUpperCase(),headers:S.normalize().toJSON(),body:J,duplex:"half",credentials:qe?C:void 0};k=a&&new t(b,Ue);let se=await(a?V(k,O):V(b,Ue));const ye=_&&(N==="stream"||N==="response");if(_&&(pe||ye&&$e)){const M={};["status","statusText","headers"].forEach(Pe=>{M[Pe]=se[Pe]});const G=q.toFiniteNumber(se.headers.get("content-length")),[me,Ae]=pe&&zv(G,hh($v(pe),!0))||[];se=new r(qv(se.body,Wv,me,()=>{Ae&&Ae(),$e&&$e()}),M)}N=N||"text";let le=await E[q.findKey(E,N)||"text"](se,A);return!ye&&$e&&$e(),await new Promise((M,G)=>{C0(M,G,{data:le,headers:dn.from(se.headers),status:se.status,statusText:se.statusText,config:A,request:k})})}catch(qe){throw $e&&$e(),qe&&qe.name==="TypeError"&&/Load failed|fetch/i.test(qe.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,A,k),{cause:qe.cause||qe}):Ie.from(qe,qe&&qe.code,A,k)}}},wb=new Map,N0=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:o}=e,a=[r,o,t];let u=a.length,d=u,p,g,_=wb;for(;d--;)p=a[d],g=_.get(p),g===void 0&&_.set(p,g=d?new Map:Eb(e)),_=g;return g};N0();const Dm={http:FD,xhr:pb,fetch:{get:N0}};q.forEach(Dm,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Jv=n=>`- ${n}`,Tb=n=>q.isFunction(n)||n===null||n===!1;function Ib(n,e){n=q.isArray(n)?n:[n];const{length:t}=n;let r,o;const a={};for(let u=0;u<t;u++){r=n[u];let d;if(o=r,!Tb(r)&&(o=Dm[(d=String(r)).toLowerCase()],o===void 0))throw new Ie(`Unknown adapter '${d}'`);if(o&&(q.isFunction(o)||(o=o.get(e))))break;a[d||"#"+u]=o}if(!o){const u=Object.entries(a).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let d=t?u.length>1?`since :
`+u.map(Jv).join(`
`):" "+Jv(u[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o}const x0={getAdapter:Ib,adapters:Dm};function Ff(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new tu(null,n)}function Xv(n){return Ff(n),n.headers=dn.from(n.headers),n.data=Mf.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),x0.getAdapter(n.adapter||eu.adapter,n)(n).then(function(r){return Ff(n),r.data=Mf.call(n,n.transformResponse,r),r.headers=dn.from(r.headers),r},function(r){return A0(r)||(Ff(n),r&&r.response&&(r.response.data=Mf.call(n,n.transformResponse,r.response),r.response.headers=dn.from(r.response.headers))),Promise.reject(r)})}const O0="1.13.4",Bh={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Bh[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Yv={};Bh.transitional=function(e,t,r){function o(a,u){return"[Axios v"+O0+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return(a,u,d)=>{if(e===!1)throw new Ie(o(u," has been removed"+(t?" in "+t:"")),Ie.ERR_DEPRECATED);return t&&!Yv[u]&&(Yv[u]=!0,console.warn(o(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,u,d):!0}};Bh.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Sb(n,e,t){if(typeof n!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let o=r.length;for(;o-- >0;){const a=r[o],u=e[a];if(u){const d=n[a],p=d===void 0||u(d,a,n);if(p!==!0)throw new Ie("option "+a+" must be "+p,Ie.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ie("Unknown option "+a,Ie.ERR_BAD_OPTION)}}const zc={assertOptions:Sb,validators:Bh},pr=zc.validators;let xs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jv,response:new jv}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=js(this.defaults,t);const{transitional:r,paramsSerializer:o,headers:a}=t;r!==void 0&&zc.assertOptions(r,{silentJSONParsing:pr.transitional(pr.boolean),forcedJSONParsing:pr.transitional(pr.boolean),clarifyTimeoutError:pr.transitional(pr.boolean)},!1),o!=null&&(q.isFunction(o)?t.paramsSerializer={serialize:o}:zc.assertOptions(o,{encode:pr.function,serialize:pr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),zc.assertOptions(t,{baseUrl:pr.spelling("baseURL"),withXsrfToken:pr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&q.merge(a.common,a[t.method]);a&&q.forEach(["delete","get","head","post","put","patch","common"],A=>{delete a[A]}),t.headers=dn.concat(u,a);const d=[];let p=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(p=p&&b.synchronous,d.unshift(b.fulfilled,b.rejected))});const g=[];this.interceptors.response.forEach(function(b){g.push(b.fulfilled,b.rejected)});let _,E=0,T;if(!p){const A=[Xv.bind(this),void 0];for(A.unshift(...d),A.push(...g),T=A.length,_=Promise.resolve(t);E<T;)_=_.then(A[E++],A[E++]);return _}T=d.length;let x=t;for(;E<T;){const A=d[E++],b=d[E++];try{x=A(x)}catch(P){b.call(this,P);break}}try{_=Xv.call(this,x)}catch(A){return Promise.reject(A)}for(E=0,T=g.length;E<T;)_=_.then(g[E++],g[E++]);return _}getUri(e){e=js(this.defaults,e);const t=P0(e.baseURL,e.url,e.allowAbsoluteUrls);return I0(t,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){xs.prototype[e]=function(t,r){return this.request(js(r||{},{method:e,url:t,data:(r||{}).data}))}});q.forEach(["post","put","patch"],function(e){function t(r){return function(a,u,d){return this.request(js(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}xs.prototype[e]=t(),xs.prototype[e+"Form"]=t(!0)});let Rb=class D0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(d=>{r.subscribe(d),a=d}).then(o);return u.cancel=function(){r.unsubscribe(a)},u},e(function(a,u,d){r.reason||(r.reason=new tu(a,u,d),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new D0(function(o){e=o}),cancel:e}}};function Ab(n){return function(t){return n.apply(null,t)}}function Cb(n){return q.isObject(n)&&n.isAxiosError===!0}const wp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(wp).forEach(([n,e])=>{wp[e]=n});function b0(n){const e=new xs(n),t=d0(xs.prototype.request,e);return q.extend(t,xs.prototype,e,{allOwnKeys:!0}),q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return b0(js(n,o))},t}const pt=b0(eu);pt.Axios=xs;pt.CanceledError=tu;pt.CancelToken=Rb;pt.isCancel=A0;pt.VERSION=O0;pt.toFormData=jh;pt.AxiosError=Ie;pt.Cancel=pt.CanceledError;pt.all=function(e){return Promise.all(e)};pt.spread=Ab;pt.isAxiosError=Cb;pt.mergeConfig=js;pt.AxiosHeaders=dn;pt.formToJSON=n=>R0(q.isHTMLForm(n)?new FormData(n):n);pt.getAdapter=x0.getAdapter;pt.HttpStatusCode=wp;pt.default=pt;const{Axios:Vb,AxiosError:Mb,CanceledError:Fb,isCancel:Ub,CancelToken:jb,VERSION:Bb,all:zb,Cancel:$b,isAxiosError:Hb,spread:qb,toFormData:Wb,AxiosHeaders:Kb,HttpStatusCode:Gb,formToJSON:Qb,getAdapter:Jb,mergeConfig:Xb}=pt,Pb=({user:n})=>{const{id:e}=xS(),t=zs(),[r,o]=H.useState(null),[a,u]=H.useState(!0),[d,p]=H.useState(!1);H.useEffect(()=>{g()},[e]);const g=async()=>{try{const E=await Tm(Fs(Yn,"products",e));E.exists()?o({id:E.id,...E.data()}):t("/")}catch(E){console.error("Erro ao buscar produto:",E)}finally{u(!1)}},_=async()=>{if(!n){t("/login");return}p(!0);try{const E=await GT(bl(Yn,"orders"),{userId:n.uid,productId:r.id,productName:r.name,price:r.price,status:"pending",createdAt:new Date}),T=await pt.post("https://us-central1-ninja-store-d9c62.cloudfunctions.net/createCheckout",{orderId:E.id,productName:r.name,price:r.price,userEmail:n.email});window.location.href=T.data.init_point}catch(E){console.error("Erro ao processar compra:",E),alert("Erro ao processar compra. Tente novamente."),p(!1)}};return a?F.jsx("div",{className:"loading",children:F.jsx("div",{className:"spinner"})}):r?F.jsx("div",{className:"product-detail-page",children:F.jsx("div",{className:"container",children:F.jsxs("div",{className:"product-detail",children:[F.jsx("div",{className:"product-detail-image",children:F.jsx("img",{src:r.imageUrl||"https://via.placeholder.com/600x400?text=Produto",alt:r.name})}),F.jsxs("div",{className:"product-detail-info",children:[F.jsx("h1",{className:"product-detail-title",children:r.name}),F.jsx("p",{className:"product-detail-description",children:r.description}),F.jsxs("div",{className:"product-detail-price",children:["R$ ",r.price.toFixed(2)]}),F.jsx("button",{onClick:_,disabled:d,className:"btn btn-primary btn-purchase",children:d?F.jsxs(F.Fragment,{children:[F.jsx("i",{className:"fas fa-spinner fa-spin"})," Processando..."]}):F.jsxs(F.Fragment,{children:[F.jsx("i",{className:"fas fa-shopping-cart"})," Comprar Agora"]})}),F.jsxs("div",{className:"product-detail-features",children:[F.jsxs("div",{className:"feature",children:[F.jsx("i",{className:"fas fa-download"}),F.jsx("span",{children:"Download Instantneo"})]}),F.jsxs("div",{className:"feature",children:[F.jsx("i",{className:"fas fa-shield-alt"}),F.jsx("span",{children:"Pagamento Seguro"})]}),F.jsxs("div",{className:"feature",children:[F.jsx("i",{className:"fas fa-headset"}),F.jsx("span",{children:"Suporte 24/7"})]})]})]})]})})}):null},kb=({user:n})=>{const e=zs(),[t,r]=H.useState([]),[o,a]=H.useState(!0);H.useEffect(()=>{if(!n){e("/login");return}u()},[n]);const u=async()=>{try{const g=$T(bl(Yn,"orders"),HT("userId","==",n.uid)),_=await Im(g),E=await Promise.all(_.docs.map(async T=>{const x=T.data(),A=await Tm(Fs(Yn,"products",x.productId)),b=A.exists()?A.data():{};return{id:T.id,...x,product:b}}));r(E.sort((T,x)=>x.createdAt.toMillis()-T.createdAt.toMillis()))}catch(g){console.error("Erro ao buscar pedidos:",g)}finally{a(!1)}},d=async g=>{try{if(!g.product.fileUrl){alert("Arquivo no disponvel");return}const _=gp(yp,g.product.fileUrl),E=await mp(_);window.open(E,"_blank")}catch(_){console.error("Erro ao fazer download:",_),alert("Erro ao fazer download. Tente novamente.")}},p=g=>{const _={pending:{text:"Pendente",class:"status-pending"},approved:{text:"Aprovado",class:"status-approved"},rejected:{text:"Rejeitado",class:"status-rejected"}};return _[g]||_.pending};return o?F.jsx("div",{className:"loading",children:F.jsx("div",{className:"spinner"})}):F.jsx("div",{className:"my-orders-page",children:F.jsxs("div",{className:"container",children:[F.jsx("h1",{className:"page-title",children:"Meus Pedidos"}),t.length===0?F.jsxs("div",{className:"no-orders",children:[F.jsx("i",{className:"fas fa-shopping-bag"}),F.jsx("p",{children:"Voc ainda no fez nenhuma compra."}),F.jsx("button",{onClick:()=>e("/"),className:"btn btn-primary",children:"Ver Produtos"})]}):F.jsx("div",{className:"orders-list",children:t.map(g=>{var E;const _=p(g.status);return F.jsxs("div",{className:"order-card",children:[F.jsxs("div",{className:"order-header",children:[F.jsxs("div",{className:"order-info",children:[F.jsx("h3",{children:g.productName}),F.jsx("p",{className:"order-date",children:(E=g.createdAt)==null?void 0:E.toDate().toLocaleDateString("pt-BR")})]}),F.jsx("span",{className:`status-badge ${_.class}`,children:_.text})]}),F.jsxs("div",{className:"order-body",children:[F.jsxs("div",{className:"order-price",children:["R$ ",g.price.toFixed(2)]}),g.status==="approved"&&F.jsxs("button",{onClick:()=>d(g),className:"btn btn-primary btn-download",children:[F.jsx("i",{className:"fas fa-download"})," Baixar Arquivo"]}),g.status==="pending"&&F.jsx("p",{className:"order-message",children:"Aguardando confirmao do pagamento..."}),g.status==="rejected"&&F.jsx("p",{className:"order-message error",children:"Pagamento no aprovado. Entre em contato com o suporte."})]})]},g.id)})})]})})},Nb=({user:n})=>{const e=zs(),[t,r]=H.useState([]),[o,a]=H.useState(!0),[u,d]=H.useState(!1),[p,g]=H.useState(null),[_,E]=H.useState({name:"",description:"",price:"",active:!0}),[T,x]=H.useState(null),[A,b]=H.useState(null),[P,J]=H.useState(!1);H.useEffect(()=>{if(!n||!n.isAdmin){e("/");return}X()},[n]);const X=async()=>{try{const N=(await Im(bl(Yn,"products"))).docs.map(S=>({id:S.id,...S.data()}));r(N)}catch(ne){console.error("Erro ao buscar produtos:",ne)}finally{a(!1)}},K=async ne=>{ne.preventDefault(),J(!0);try{let N=(p==null?void 0:p.imageUrl)||"",S=(p==null?void 0:p.fileUrl)||"";if(T){const O=gp(yp,`products/images/${Date.now()}_${T.name}`);await Vv(O,T),N=await mp(O)}if(A){const O=gp(yp,`products/files/${Date.now()}_${A.name}`);await Vv(O,A),S=await mp(O)}const C={name:_.name,description:_.description,price:parseFloat(_.price),active:_.active,imageUrl:N,fileUrl:S,updatedAt:new Date};p?await xx(Fs(Yn,"products",p.id),C):await GT(bl(Yn,"products"),{...C,createdAt:new Date}),E({name:"",description:"",price:"",active:!0}),x(null),b(null),g(null),d(!1),X()}catch(N){console.error("Erro ao salvar produto:",N),alert("Erro ao salvar produto. Tente novamente.")}finally{J(!1)}},ie=ne=>{g(ne),E({name:ne.name,description:ne.description,price:ne.price.toString(),active:ne.active}),d(!0)},pe=async ne=>{if(confirm("Tem certeza que deseja deletar este produto?"))try{await Ox(Fs(Yn,"products",ne)),X()}catch(N){console.error("Erro ao deletar produto:",N),alert("Erro ao deletar produto.")}};return o?F.jsx("div",{className:"loading",children:F.jsx("div",{className:"spinner"})}):F.jsx("div",{className:"admin-page",children:F.jsxs("div",{className:"container",children:[F.jsxs("div",{className:"admin-header",children:[F.jsx("h1",{className:"page-title",children:"Painel Admin"}),F.jsx("button",{onClick:()=>{d(!u),g(null),E({name:"",description:"",price:"",active:!0})},className:"btn btn-primary",children:u?"Cancelar":"Novo Produto"})]}),u&&F.jsxs("form",{onSubmit:K,className:"product-form",children:[F.jsx("h2",{children:p?"Editar Produto":"Novo Produto"}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Nome do Produto"}),F.jsx("input",{type:"text",value:_.name,onChange:ne=>E({..._,name:ne.target.value}),required:!0})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Descrio"}),F.jsx("textarea",{value:_.description,onChange:ne=>E({..._,description:ne.target.value}),required:!0,rows:"4"})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Preo (R$)"}),F.jsx("input",{type:"number",step:"0.01",value:_.price,onChange:ne=>E({..._,price:ne.target.value}),required:!0})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Imagem do Produto"}),F.jsx("input",{type:"file",accept:"image/*",onChange:ne=>x(ne.target.files[0])}),(p==null?void 0:p.imageUrl)&&!T&&F.jsx("p",{className:"file-info",children:"Imagem atual mantida"})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Arquivo Digital"}),F.jsx("input",{type:"file",onChange:ne=>b(ne.target.files[0])}),(p==null?void 0:p.fileUrl)&&!A&&F.jsx("p",{className:"file-info",children:"Arquivo atual mantido"})]}),F.jsx("div",{className:"form-group checkbox",children:F.jsxs("label",{children:[F.jsx("input",{type:"checkbox",checked:_.active,onChange:ne=>E({..._,active:ne.target.checked})}),"Produto ativo"]})}),F.jsx("button",{type:"submit",className:"btn btn-primary",disabled:P,children:P?"Salvando...":"Salvar Produto"})]}),F.jsxs("div",{className:"products-table",children:[F.jsx("h2",{children:"Produtos Cadastrados"}),t.length===0?F.jsx("p",{className:"no-products",children:"Nenhum produto cadastrado."}):F.jsxs("table",{children:[F.jsx("thead",{children:F.jsxs("tr",{children:[F.jsx("th",{children:"Nome"}),F.jsx("th",{children:"Preo"}),F.jsx("th",{children:"Status"}),F.jsx("th",{children:"Aes"})]})}),F.jsx("tbody",{children:t.map(ne=>F.jsxs("tr",{children:[F.jsx("td",{children:ne.name}),F.jsxs("td",{children:["R$ ",ne.price.toFixed(2)]}),F.jsx("td",{children:F.jsx("span",{className:`status ${ne.active?"active":"inactive"}`,children:ne.active?"Ativo":"Inativo"})}),F.jsxs("td",{className:"actions",children:[F.jsx("button",{onClick:()=>ie(ne),className:"btn-edit",children:F.jsx("i",{className:"fas fa-edit"})}),F.jsx("button",{onClick:()=>pe(ne.id),className:"btn-delete",children:F.jsx("i",{className:"fas fa-trash"})})]})]},ne.id))})]})]})]})})};function xb(){const[n,e]=H.useState(null),[t,r]=H.useState(!0);return H.useEffect(()=>{const o=l1(ch,async a=>{if(a){const u=await Tm(Fs(Yn,"users",a.uid)),d=u.exists()?u.data():{};e({uid:a.uid,email:a.email,displayName:a.displayName,isAdmin:d.isAdmin||!1})}else e(null);r(!1)});return()=>o()},[]),t?F.jsx("div",{className:"loading",children:F.jsx("div",{className:"spinner"})}):F.jsxs(gR,{children:[F.jsx(GO,{user:n}),F.jsxs(WS,{children:[F.jsx(Bo,{path:"/",element:F.jsx(XO,{})}),F.jsx(Bo,{path:"/login",element:F.jsx(YO,{})}),F.jsx(Bo,{path:"/product/:id",element:F.jsx(Pb,{user:n})}),F.jsx(Bo,{path:"/my-orders",element:F.jsx(kb,{user:n})}),F.jsx(Bo,{path:"/admin",element:F.jsx(Nb,{user:n})})]})]})}GI.createRoot(document.getElementById("root")).render(F.jsx(BI.StrictMode,{children:F.jsx(xb,{})}));
